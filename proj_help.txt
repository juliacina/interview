
github account:
ravi740136@gmail.com
jntu

ekadantaya dance:
https://www.youtube.com/watch?v=ZV12B4XlbKo

important unix commands
-----------------------
ICICI HOME LOAN APPLICATION NO
----------------------------------
APPLICATION  NO: 7790163943Customer
NHHYD00000742258Application 
RAVIJAKKAMPUDIProduct 
RAVIJAKKAMPUDIProduct 
SANCTION DATE: 24/07/2008
mobile iron password:
-----------------------
jntu#99f

mohan krishna:
https://www.facebook.com/profile.php?id=100008169456157
ekhata bangalore:
---------------------
search for property id in http://164.100.80.97/eswathu/(S(mkmpnp44ra40ijkbzidrl4jz))/Issue0fForm9/Frm_PublicSearchForm9.aspx
details are present in \ravi\samrudhi(smilee) folder

guddahatti:
propety code: 389353
property id: 150200101500820030
document no: 2514286
old document no: 799150


pega eclipse:
https://mesh.pega.com/docs/DOC-38096

gradle setup:
https://mesh.pega.com/docs/DOC-83451

create oracle user:
def PEGA_COMMN_SCHEMA=beta2_singleuser
def DB_DATA_FILE_DIR=D:\app\jakkr\oradata\orcl

connect sys/welcome1@orcl as SYSDBA;

create tablespace &PEGA_COMMN_SCHEMA._PRPC logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA._PRPC01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;

create user &PEGA_COMMN_SCHEMA._PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

grant connect to &PEGA_COMMN_SCHEMA._PRPC;
grant create any table, create any index, create any view, create any trigger, create any sequence to &PEGA_COMMN_SCHEMA._PRPC;
grant connect, resource, create view to &PEGA_COMMN_SCHEMA._PRPC;

--drop user &PEGA_COMMN_SCHEMA._PRPC CASCADE;
--drop tablespace &PEGA_COMMN_SCHEMA._PRPC INCLUDING CONTENTS AND DATAFILES CASCADE CONSTRAINTS;


SE-28476 
embedded tomcat issues:
----------------------
major minor version exception: chnage jdk to 1.7 and ensure to select correct one from drop down in installed jres
blank page on start: copy ROOT folder to webapps
cambridge vm sqlserver:
I have setup new vm VENGWINDB30 the windows user/password is strikers/pega1+

cambridge vm oracle:
Your new VM VEISWINDB182 is ready 

SLS URL FOR HOTFIX:
---------------------
http://10.225.68.166:8080/prweb/PRServlet/j72aCxudiXZNES7S2wP6e9Rc6xeD3pkG*/!STANDARD?pzPostData=226493027

Your windows username/password = strikers/pega1+ 

oracle db schema name/password = pega/pega 

url="jdbc:oracle:thin:@veiswindb182:1521:prpc" 

rspecs configuration:
-----------------------
http://sidvpwin206:8081/job/TestingSuite-Oracle-Rspec-Branch/


testing:
create test_app application

report definition refactoring:
-------------------------------
https://mesh.pega.com/docs/DOC-105198

PRPC_core/branches/team/BLREngineTeam/StrikersCommonBranchSPR61

zos schmabuilder test cases failing, createindex test cases failk in other platforms also
schmabuilder privilege test case failing
newnativsql builder 1 test case right outr join failure, in zos setup still failing
postgres, luw mt tst case failures 
ruby:
---------
Hi Ravi,
Checkout giza from path:
http://camscm/svn/PRPC_core/branches/stage/trunk/test/giza 

instead of following mesh post use the file E:\prpctesting\ruby for installation help
mesh posts:
https://mesh.pega.com/docs/DOC-91077
https://mesh.pega.com/docs/DOC-96009 

understanding the tests:
https://mesh.pega.com/docs/DOC-64426

properties:
https://mesh.pega.com/docs/DOC-65313

custom properties:
https://mesh.pega.com/message/150111#150111

giza:
https://mesh.pega.com/community/projects/prpc/quality/automation/giza

rspec eclipse plugin:
https://mesh.pega.com/docs/DOC-64504

capybara, webdriver:
https://mesh.pega.com/docs/DOC-64020

strikers jenkins zos config:
-----------------------------
D:\prpctestinglatest\JENKINS\zos\strikersbranch

issues:
NO WAY TO FILTER MULTITENANT TEST CASES
if no testcases to run in platform initialization error
classtotablemap appears in fa subarea list
datadownload was missing tag

pending:
add tags to nativesql test cases
requireddbms and requiredschema tags - requireddbms cant be done as array support not there
add features to pmf 
one testsuite verification

zos configuration





works only if DASS ruleset is Pega-Engine and does not work for other rulesets
failed when commented jndi from context.xml in tomcat
unnecessary blank check for datapage name

vpd test cases:
url datapage jndi name
jndi datapage jndi name
url dass datapage
jndi dass datapage 
only datapage name mentioned in prconfig

create dynamic system settings:
-----------------------------------
search for the class data-admin-system-setting in Apps
click on create button in instances page
purpose is the actual name of the setting and value also needs to be entered
generally ruleset is Pega-Engine

create dadn database using jndi data-admin-db-name
---------------------------------------------------
enter java:comp/env/jdbc/PegaRULES as it appears in tomcat prconfig.xml as jndi name
and do not enter authentication

create new jndi in tomcat 
-------------------------
in context.xml following entry is considered as jndi, prconfig is a jndi space
<Environment name="prconfig/database/databases/VPDTestDB/customInfoDataPage" value="Declare_customproperties" type="java.lang.String" />

following is also jndi "java:comp/jdbc/VPDTestDB"
	   <!--Resource name="jdbc/VPDTestDB" type="javax.sql.DataSource" username="ml6ga_prpc" password="prpc" driverClassName="oracle.jdbc.OracleDriver" maxIdle="2" 
    maxWait="5000" url="jdbc:oracle:thin:@//10.150.113.10:1521/orcl" maxActive="20"/-->

TECHNICAL HELP REGARDING DATA LAYER:
--------------------------------------
MESH DOC 64642
D:/TECHNICAL
ALL DOCUMENTS related with data engine ar epresent in https://mesh.pega.com/community/projects/prpc/dataandsearchinfrastructure/content?filterID=contentstatus%5Bpublished%5D~category%5Bclass-database-metadata%5D&filterID=contentstatus%5Bpublished%5D~tag
category wise classification is available
basic documentation : https://mesh.pega.com/docs/DOC-64642
merge not supported:
--------------------------
there is prconfig setting which decides merge is disabled/enabled
                <env name="classmap/usemergestatement" value="false" />

oracle create user normal permissions:
--------------------------------------
def PEGA_COMMN_SCHEMA=rc1latest
def DB_DATA_FILE_DIR=D:\app\jakkr\oradata\orcl

connect sys/welcome1@orcl as SYSDBA;

create tablespace &PEGA_COMMN_SCHEMA._PRPC logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA._PRPC01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;

create user &PEGA_COMMN_SCHEMA._PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

grant connect to &PEGA_COMMN_SCHEMA._PRPC;
grant create any table, create any index, create any view, create any trigger, create any sequence to &PEGA_COMMN_SCHEMA._PRPC;
grant connect, resource, create view to &PEGA_COMMN_SCHEMA._PRPC;


="**/SchemaManagerSuite.java,**/TestNativeSQLGenerationSuite.java"
"**/DatabaseTestSuite.java,**/SchemaManagerSuite.java,**/TestNativeSQLGenerationSuite.java"
"**/DatabaseTestSuite.java,**/MultiTenantMasterSmokeTestSuite.java,**/DatabaseMultiTenantTestSuite.java,**/SchemaManagerSuite.java,**/TestNativeSQLGenerationSuite.java"

sonarlint issues
test cases missing for logging table execute query in nologging mode
test cases missing for "identification/overrideEnableNoLogging" false 
test case failure in batch execution merge
alter table setup issue

junit tagging AND ANNOTATIONS:
----------------------------------
PRODUCT MAP:
https://mesh.pega.com/docs/DOC-15841
https://mesh.pega.com/docs/DOC-61431
https://mesh.pega.com/docs/DOC-66211

JUNIT MESH DOC:
https://mesh.pega.com/community/projects/prpc/quality/automation/projects/junits


NATIVE SQL SUMMARY:
https://mesh.pega.com/docs/DOC-97121

to execute test cases from cam vm:
------------------------------------
vengwindb160
 user: RPEGA\dynamos
password: Pega001+

vpd new class:
Code-Pega-DBApplicationContext

report definition:
------------------
it takes some time to get the data reflected in report definition

vpd testing:

while looking for instances, it takes some time to get the new rows of the table displayed in prpc as it needs some indexing
restart the tomcat instance so that new mapping is reflected to see class instances and the columns in prpc
look at help in E:\prpctesting\vpd
forst add new datasource testvpd to context.xml in tomcat
and then modify prconfig in E:\othertools\tomcat\tomcat3\apache-tomcat-7.0.67-windows-x64\apache-tomcat-7.0.67\webapps\prweb\WEB-INF\classes
create data page in the same class what you mention in object type field of datapage
for old method, cretae datapage in embed-namevaluepair class and datapage structure should be list

to add costom properties page and reference to new datasource
create new users in same application from operator page, create using save as , it is very easy just chnage the id and email

work class:
it is better to create work class to test the instances, this will automatically create a mapping table, expose the new properties using optimize for reporting
change the mapping to vpd database
for saving instances , create an activiy with property-set and obj-save with write now option

stored proc:
for ml6 use stored proc which is present in ml6 hotfix first patch
7.2 uses latest stored proc

vpd hotfix:
for first time vpd functionality itself is added as hotfix SE-22818 (I have downloaded all the attachment to e:prpctesting/vpd)
second hotfix was enhancements related with settings SE-28104

Hotfix code can be obtained from http://hydscm.rpega.com/svn/PRPC_core/branches/hotfix/7.1.6


my rental site:
---------------
99acres.com
ravi740136@gmail.com
jntu@99f

start tomcat in debug mode:
-------------------------
catalina.bat jpda start

from eclipse attach at port 8000

vpd test db:
---------------
	<env name="database/databases/VPDTestDB/password" value="prpc"/>
       <env name="database/databases/VPDTestDB/url" value="jdbc:oracle:thin:@10.150.113.10:1521:orcl"/>
       <env name="database/databases/VPDTestDB/userName" value="betalatest"/>
       <env name="database/databases/VPDTestDB/adminUserName" value="SYS as sysdba"/>
         
	   <env name="database/databases/VPDTestDB/adminPassword" value="welcome1"/>
       <env name="database/databases/VPDTestDB/customInfoDataPage" value="Declare_CustomPropertiesPage" />

pasing customer properties to oracle database vpd: vpd help document
https://pdn.pega.com/passing-custom-properties-oracle-database/passing-custom-properties-oracle-database

Ermelinda.Shahudoku@pega.com Jim.Hutchinson@pega.com Tim.Miranda@pega.com Jamie.Gentry@pega.com Michael.Livingston@pega.com Ryan.Pacifici@pega.com Tyler.Morrow@pega.com

fhpl family health plan
Corporate ID (Mandatory Field)              : 1748
User Name                                                        : B2013102
Password                                                          : fhti37ra


postghres junits:
--------------------
In Postgres, to execute junits ensure that the runtime user has rules and data schemas in the search path

To down merge the chnages from trunk to strikers
evergreen epics:
    EPIC-18410 : Randomized testing on SQLGeneration APIs for bulk updates 
 EPIC-18413: Eliminate hardening cost & technical debt in NativeSQL for batch

bulk upkload help document:
https://pdn.pega.com/importing-data-pega-cloud-database/importing-data-pega-cloud-database
BIX UPLOAD/DOWNLOAD:
------------------------
https://mesh.pega.com/docs/DOC-92990?et=watches.email.document

self services testing:
----------------------------
pass jvm parameter while starting tomcat server -DenableSQLRunner = true
activity to be executed is pxrunselectquery search for it using old:pxrunselectquery
this operation supported only in postgres db
ensure that readonlyuser setting is added for both pegarules and pegadata
ensure that pegarules:databaseadministrator role is added in your acess group
cloud topology error mesage is displayed
data-admin-dynamic-settings , edit the deploymenttopology setting and edit it to PegaCloud so that now it becomes cloud instance
to give dba privileges, edit operator to add the role database administrator, now you will be authorized to run query
another issue is for invalid database also it is returning table IGNORING PEGARULES OR DATA
UNCAUGHT EXCEPTION FOR EXTERNAL DB
ERROR MESSAGE FOR PEGADATA READONLY OPERATOR MISSING
PXTOTALRESULTCOUNT AND PAGE COUNT IS ZERO

to see results on result page, in pages and classes table enter page name and associate with it the class for which it belongs like code-pega-list

minimized privileges testing:
---------------------------------
postgres:
single schema dual user failuers: 16+29 = 45

use the following document to understand baseuser and admin user configuration
https://mesh.pega.com/docs/DOC-73014





 (Single/Dual (Base+Admin) Setup Privilege)
https://mesh.pega.com/docs/DOC-74114
https://mesh.pega.com/docs/DOC-73766 - database permissions xls
D:\minimized
postgres:
single schema:
if runtime admin user configuration is not there use the owner as user
in dual user configuration use adminuser and base user as follows
	<env name="database/databases/PegaRULES/url" value="jdbc:postgresql://10.150.113.10:5432/postgres" />
	<env name="database/drivers" value="org.postgresql.Driver" />
	<env name="database/databases/PegaRULES/adminUserName" value="adminuserlatest"/>
	<env name="database/databases/PegaRULES/adminPassword" value="prpc" />
	<env name="database/databases/PegaRULES/userName" value="baseuserlatestb" />
	<env name="database/databases/PegaRULES/password" value="prpc" />
	<env name="database/databases/PegaRULES/defaultschema" value="adminuserlatest" />
	<env name="database/databases/PegaDATA/url" value="jdbc:postgresql://10.150.113.10:5432/postgres" />
	<env name="database/databases/PegaDATA/adminUserName" value="adminuserlatest" />
	<env name="database/databases/PegaDATA/adminPassword" value="prpc" />
	<env name="database/databases/PegaDATA/userName" value="baseuserlatestb" />
	<env name="database/databases/PegaDATA/password" value="prpc" />
	<env name="database/databases/PegaDATA/defaultschema" value="adminuserlatest"/>

	single user configuration:
		<env name="database/databases/PegaRULES/url" value="jdbc:postgresql://10.150.113.10:5432/postgres" />
	<env name="database/drivers" value="org.postgresql.Driver" />
	<env name="database/databases/PegaRULES/userName" value="adminuserlatest" />
	<env name="database/databases/PegaRULES/password" value="prpc" />
	<env name="database/databases/PegaRULES/defaultschema" value="adminuserlatest" />
	<env name="database/databases/PegaDATA/url" value="jdbc:postgresql://10.150.113.10:5432/postgres" />
	<env name="database/databases/PegaDATA/userName" value="adminuserlatest" />
	<env name="database/databases/PegaDATA/password" value="prpc" />
	<env name="database/databases/PegaDATA/defaultschema" value="adminuserlatest"/>
to create single schema baseuser:
CREATE USER baseuserlatestb PASSWORD 'prpc';
GRANT USAGE ON SCHEMA adminuserlatest TO baseuserlatestb;
ALTER DEFAULT PRIVILEGES FOR USER adminuserlatest IN SCHEMA adminuserlatest GRANT ALL ON TABLES TO baseuserlatestb;
ALTER USER baseuserlatestb SET search_path = adminuserlatest;

to create single schema admin user:
CREATE USER adminuserlatest PASSWORD 'prpc';
CREATE SCHEMA IF NOT EXISTS adminuserlatest AUTHORIZATION adminuserlatest;
ALTER USER adminuserlatest SET search_path = adminuserlatest;

split schema adminuser:
CREATE USER adminsplit PASSWORD 'prpc';
CREATE SCHEMA IF NOT EXISTS adminsplitrules AUTHORIZATION adminsplit;
CREATE SCHEMA IF NOT EXISTS adminsplitdata AUTHORIZATION adminsplit;
ALTER USER adminsplit SET search_path = adminsplitdata,adminsplitrules;

split schema baseuser:
CREATE USER baseusersplit PASSWORD 'prpc';
GRANT USAGE ON SCHEMA adminsplitrules TO baseusersplit;
ALTER DEFAULT PRIVILEGES FOR USER adminsplit IN SCHEMA adminsplitrules GRANT ALL ON TABLES TO baseusersplit;
GRANT USAGE ON SCHEMA adminsplitdata TO baseusersplit;
ALTER DEFAULT PRIVILEGES FOR USER adminsplit IN SCHEMA adminsplitdata GRANT ALL ON TABLES TO baseusersplit;
ALTER DEFAULT PRIVILEGES IN SCHEMA adminsplitrules GRANT EXECUTE ON FUNCTIONS  TO baseusersplit;
ALTER DEFAULT PRIVILEGES IN SCHEMA adminsplitdata GRANT EXECUTE ON FUNCTIONS  TO baseusersplit; 
ALTER USER baseusersplit SET search_path = adminsplitdata,adminsplitrules;



sql server split schema admin user:
------------------------------------
create login adminsplit with password = 'prpc', check_policy = off;
create user adminsplit;
grant create table to adminsplit;
grant create view to adminsplit;

sql server split schema base user:
--------------------------------------
create login basesplit with password = 'prpc', check_policy = off;
create user basesplit;
create schema dataadminsplit authorization adminsplit;
create schema rulesadminsplit authorization adminsplit;
alter user basesplit with default_schema=dataadminsplit;
grant select on schema::dataadminsplit to basesplit;
grant insert on schema::dataadminsplit to basesplit;
grant update on schema::dataadminsplit to basesplit;
grant delete on schema::dataadminsplit to basesplit;
grant execute on schema::dataadminsplit to basesplit;
grant select on schema::rulesadminsplit to basesplit;
grant insert on schema::rulesadminsplit to basesplit;
grant update on schema::rulesadminsplit to basesplit;
grant delete on schema::rulesadminsplit to basesplit;
grant execute on schema::rulesadminsplit to basesplit;

oracle split admin user
------------------------------
-- Assumes that a database has already been set up.
-- This can be run as the SYS user.  

-- USER SQL
CREATE USER app_ADMIN_SPLIT IDENTIFIED BY "prpc" ;

-- ROLES
GRANT "SELECT_CATALOG_ROLE" TO app_ADMIN_SPLIT;

-- SYSTEM PRIVILEGES
GRANT CREATE SESSION TO app_ADMIN_SPLIT ;


GRANT CREATE ANY TABLE TO app_ADMIN_SPLIT ;
GRANT ALTER ANY TABLE TO app_ADMIN_SPLIT ;
GRANT INSERT ANY TABLE TO app_ADMIN_SPLIT WITH ADMIN OPTION;
GRANT SELECT ANY TABLE TO app_ADMIN_SPLIT ;
GRANT UPDATE ANY TABLE TO app_ADMIN_SPLIT ;
GRANT DELETE ANY TABLE TO app_ADMIN_SPLIT ;


GRANT CREATE ANY INDEX TO app_ADMIN_SPLIT ;
GRANT EXECUTE ANY PROCEDURE TO app_ADMIN_SPLIT ;


GRANT CREATE ANY VIEW TO app_ADMIN_SPLIT ;

GRANT GRANT ANY OBJECT PRIVILEGE TO app_ADMIN_SPLIT ;
GRANT CREATE ANY TRIGGER TO app_ADMIN_SPLIT ;
GRANT DROP ANY TRIGGER TO app_ADMIN_SPLIT ;
GRANT ALTER ANY TRIGGER TO app_ADMIN_SPLIT;

GRANT DROP ANY TABLE TO app_ADMIN_SPLIT ;
GRANT DROP ANY VIEW TO app_ADMIN_SPLIT ;
GRANT DROP ANY INDEX TO app_ADMIN_SPLIT ;

GRANT ANALYZE ANY TO app_ADMIN_SPLIT;
GRANT ANALYZE ANY DICTIONARY TO app_ADMIN_SPLIT;


-- QUOTAS
ALTER USER app_ADMIN_SPLIT QUOTA UNLIMITED ON USERS;


oracle split base user
--------------------------
-- This can be run as the SYS user.  

-- USER SQL

def DB_DATA_FILE_DIR=D:\app\jakkr\oradata\orcl

connect sys/welcome1@orcl as SYSDBA;
create tablespace app_BASE_RULES logging datafile '&DB_DATA_FILE_DIR.\app_BASE_RULES01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;
create user app_BASE_RULES identified by prpc default tablespace app_BASE_RULES temporary tablespace temp quota unlimited on app_BASE_RULES;

create tablespace app_BASE_DATA logging datafile '&DB_DATA_FILE_DIR.\app_BASE_DATA01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;
create user app_BASE_DATA identified by prpc default tablespace app_BASE_DATA temporary tablespace temp quota unlimited on app_BASE_DATA;

create tablespace app_DEPLOY_SPLIT logging datafile '&DB_DATA_FILE_DIR.\app_DEPLOY_SPLIT01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;
create user app_DEPLOY_SPLIT identified by prpc default tablespace app_DEPLOY_SPLIT temporary tablespace temp quota unlimited on app_DEPLOY_SPLIT;


-- ROLES

-- SYSTEM PRIVILEGES
GRANT CREATE SESSION TO app_BASE_DATA ;
GRANT CREATE SESSION TO app_BASE_RULES ;


-- QUOTAS
ALTER USER app_BASE_RULES QUOTA UNLIMITED ON app_BASE_RULES;
ALTER USER app_BASE_DATA QUOTA UNLIMITED ON app_BASE_DATA;
-- Assumes that a database has already been set up.
-- This can be run as the SYS user.  

-- USER SQL
CREATE USER app_BASE_RULES IDENTIFIED BY "prpc" ;
CREATE USER app_BASE_DATA IDENTIFIED BY "prpc" ;


-- ROLES

-- SYSTEM PRIVILEGES
GRANT CREATE SESSION TO app_BASE_DATA ;
GRANT CREATE SESSION TO app_BASE_RULES ;


-- QUOTAS
ALTER USER app_BASE_RULES QUOTA UNLIMITED ON USERS;
ALTER USER app_BASE_DATA QUOTA UNLIMITED ON USERS;

oracle split admin data
--------------------
-- Assumes that a database has already been set up.
-- This can be run as the SYS user.  

-- USER SQL
CREATE USER app_ADMIN_DATA IDENTIFIED BY "prpc" ;

-- ROLES
GRANT "SELECT_CATALOG_ROLE" TO app_ADMIN_DATA ;

-- SYSTEM PRIVILEGES
GRANT CREATE SESSION TO app_ADMIN_DATA ;

GRANT CREATE TABLE TO app_ADMIN_DATA ;

GRANT CREATE VIEW TO app_ADMIN_DATA ;

GRANT CREATE PROCEDURE TO app_ADMIN_DATA ;

GRANT CREATE ANY TRIGGER TO app_ADMIN_DATA ;

GRANT DROP ANY TRIGGER TO app_ADMIN_DATA ;

GRANT ALTER ANY TRIGGER TO app_ADMIN_DATA;


-- QUOTAS
ALTER USER app_ADMIN_DATA QUOTA UNLIMITED ON USERS;

oracle split admin rules
-----------------------------
-- Assumes that a RULESbase has already been set up.
-- This can be run as the SYS user.  

-- USER SQL
CREATE USER app_ADMIN_RULES IDENTIFIED BY "prpc" ;

-- ROLES
GRANT "SELECT_CATALOG_ROLE" TO app_ADMIN_RULES ;

-- SYSTEM PRIVILEGES
GRANT CREATE SESSION TO app_ADMIN_RULES ;

GRANT CREATE TABLE TO app_ADMIN_RULES ;

GRANT CREATE VIEW TO app_ADMIN_RULES ;

GRANT CREATE PROCEDURE TO app_ADMIN_RULES ;

-- QUOTAS
ALTER USER app_ADMIN_RULES QUOTA UNLIMITED ON USERS;


oracle split deployment user:
---------------------------------
-- Assumes that a database has already been set up.
-- This can be run as the SYS user.  

-- USER SQL
CREATE USER app_DEPLOY_SPLIT IDENTIFIED BY "prpc" ;

-- ROLES
GRANT "SELECT_CATALOG_ROLE" TO app_DEPLOY_SPLIT;

-- SYSTEM PRIVILEGES
GRANT CREATE SESSION TO app_DEPLOY_SPLIT ;


GRANT CREATE ANY TABLE TO app_DEPLOY_SPLIT ;
GRANT ALTER ANY TABLE TO app_DEPLOY_SPLIT ;
GRANT INSERT ANY TABLE TO app_DEPLOY_SPLIT WITH ADMIN OPTION;
GRANT SELECT ANY TABLE TO app_DEPLOY_SPLIT ;
GRANT UPDATE ANY TABLE TO app_DEPLOY_SPLIT ;
GRANT DELETE ANY TABLE TO app_DEPLOY_SPLIT ;
GRANT CREATE ANY INDEX TO app_DEPLOY_SPLIT ;
GRANT CREATE ANY PROCEDURE TO app_DEPLOY_SPLIT ;
GRANT EXECUTE ANY PROCEDURE TO app_DEPLOY_SPLIT ;
GRANT CREATE ANY VIEW TO app_DEPLOY_SPLIT ;
GRANT CREATE ANY TYPE TO app_DEPLOY_SPLIT ;
GRANT CREATE ANY TRIGGER TO app_DEPLOY_SPLIT ;
GRANT ALTER ANY TRIGGER TO app_DEPLOY_SPLIT;

GRANT GRANT ANY OBJECT PRIVILEGE TO app_DEPLOY_SPLIT ;
GRANT DROP ANY TRIGGER TO app_DEPLOY_SPLIT ;
GRANT DROP ANY TABLE TO app_DEPLOY_SPLIT ;
GRANT DROP ANY PROCEDURE TO app_DEPLOY_SPLIT ;
GRANT DROP ANY VIEW TO app_DEPLOY_SPLIT ;
GRANT DROP ANY INDEX TO app_DEPLOY_SPLIT ;

GRANT ANALYZE ANY TO app_DEPLOY_SPLIT;
GRANT ANALYZE ANY DICTIONARY TO app_DEPLOY_SPLIT;


-- QUOTAS
ALTER USER app_DEPLOY_SPLIT QUOTA UNLIMITED ON USERS;



Hi Ravi

                The VM is venglnx199 it is currently configures with Postgres / tomcat / java 1.7 and an install of prpc build 11137

Root password is venglnx199
Postgres user password is pega#1 you can connect via the normal postgres port 5432 and is installed in /usr/pgsql-9.3

Tomcat is installed in  /tomcat7/system1 

Feel free to turn any of this off if you don’t need it 



jenkins evergreen story:
EPIC-13978 jenkins setup
epic-18203 EGCE22: DataEngine Jenkins env set with minimal permissions
activity for inserting data:
ClipboardPage classPage = tools.createPage("MyCustomer", null);
for (int i =0; i<100000; i++){
                                                                                                                try {
                                                                                                                                classPage.putString("id","id " +i);
                                                                                                                                classPage.putString("name", "Declarativevpdtest1@pega.com");
                                                                                                                                classPage.putString("address", "test");                                                                                                                        
                                tools.getDatabase().save(classPage, false, false);
                                                                                                                  oLog.infoForced ("inserting "+i);
                           
                                                                                                                } catch (Exception e) {
                                                                                                                                e.printStackTrace();
                                                                                                                                
                                                                                                                }
}



com.pega.pegarules.priv.database.sqlgen.INativeSQLBuilder queryBuilder =((PegaDatabase)tools.getDatabase()).getNativeSQLBuilder()
                                                                                                .select(com.pega.pegarules.priv.database.sqlgen.NativeSQL.field("A", "id", "id")
                                                                                                                                )
                                                                                                                                .from("MyCustomer", "A")
                                                                                                                                
                                                                                                                                ;
                                                                                List<StringMap> results = ((PegaDatabase)tools.getDatabase()).executeNativeSQL(queryBuilder, tools.getThread());

oLog.infoForced("results size : "+ results.size());

weblogic mesh doc:
https://mesh.pega.com/docs/DOC-85938
started in following url:
http://localhost:7001/prweb/PRServlet

jenkins oracle branch user creation oracle:
def PEGA_COMMN_SCHEMA=app_DEPLOY_split
def DB_DATA_FILE_DIR=C:\app\engadmin\oradata\orcl

connect sys/welcome1@orcl as SYSDBA;

create tablespace &PEGA_COMMN_SCHEMA logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA.01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;

create user &PEGA_COMMN_SCHEMA identified by prpc default tablespace &PEGA_COMMN_SCHEMA temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA;

grant connect to &PEGA_COMMN_SCHEMA._PRPC;
grant CREATE SESSION,CREATE ANY TABLE,ALTER ANY TABLE,INSERT ANY TABLE,SELECT ANY TABLE,UPDATE ANY TABLE,DELETE ANY TABLE,CREATE ANY INDEX,CREATE ANY PROCEDURE,EXECUTE ANY PROCEDURE,CREATE ANY VIEW,CREATE ANY TYPE,CREATE ANY TRIGGER,
ALTER ANY TRIGGER,GRANT ANY OBJECT PRIVILEGE,DROP ANY TRIGGER,DROP ANY TABLE,DROP ANY PROCEDURE,DROP ANY VIEW,DROP ANY INDEX, ANALYZE ANY, ANALYZE ANY DICTIONARY to &PEGA_COMMN_SCHEMA._PRPC;
grant SELECT_CATALOG_ROLE to &PEGA_COMMN_SCHEMA._PRPC;

StrikersCommonBranch:
coreCode.coreCode.main.svnRevision=186906

design doc nativesql performance improvement:
https://mesh.pega.com/docs/DOC-97522


resultset packager:
TestResultSetPackager

weblogic console:
http://localhost:7001/console
created domain name as prpc D:\weblogic\Oracle\Middleware\user_projects\domains\prpc
installed weblogic in D:\weblogic\Oracle
started server from D:\weblogic\Oracle\Middleware\user_projects\domains\prpc\bin
modified setenv file in D:\weblogic\Oracle\Middleware\user_projects\domains\prpc\bin

added before if condition for user_mem_args
set USER_MEM_ARGS=-Xms1024m -Xmx1024m -XX:PermSize=64m -XX:MaxPermSize=384m 

added at the end of file
set EXTRA_JAVA_PROPERTIES=-Dpega.tmpdir=D:\PegaTemp\weblogic\pr_temp
set JAVA_OPTIONS=%JAVA_OPTIONS% -Djava.awt.headless=true
set EXT_PRE_CLASSPATH=E:\workspaces\latesttrunkhyd\prprivate\libnodist\jdbc\postgres-9.3.1100\postgresql-9.3-1100.jdbc4.jar

when copied above from mail - was causing problem, so retyped it

with weblogic 11g java 7 is not woking so continuing with java 6

java 7 location:
C:\Program Files\Java\jdk1.7.0_45

sonar:
https://meshsonar.pega.com/


quarks jenkins setup:
---------------------
http://sidvpwin206:8081/view/ManualInstalls/cambridge

Download activity:
------------------------
String className = "Desh-raviapp-Work-Download";
PegaDatabase db = (PegaDatabase) tools.getDatabase();
                final String fileLoc = "/usr/local/tomcat/testdownload/";
                //final String fileLoc = "/dev/downloadtest";
final String fileName = "testperf4gb.csv";
  String selectSQL = "select * from pegadata.bigdata1";

try {
              com.pega.pegarules.priv.database.uploadutility.PegaDataUploader  dataUploader = db.getDataUploader();
                                                                                                
oLog.infoForced("Download starting ..");
                                                                                long rowsAffected = dataUploader.download(selectSQL, "csv", ",", fileLoc , fileName, className,null);
oLog.infoForced("***** rows affected count is - "+rowsAffected);
                
} catch (Exception e) {
    oLog.error("Failed while fetching data agents - "+e.toString());
}



Native sql:
EPIC-15853

FinalUploadpkg


no comments in pegadatauploader

Bug sloged ml11:
for dynamos: 
BUG-223561
BUG-229294
BUG-229300
BUG-222491
Note sppr_aggregate_usage stored procedure for Oracle was corrupting the Oracle session, changing the timezone and returning it since 2008! This impacts all releases Pega 5+.
 This should be a HFix for past releases!!!!

 multi package file data upload:
 https://mesh.pega.com/docs/DOC-92413


ISSUES GOT DURING MERGE
1. SVN CHECKIN ISSUE
2. ENVIRONMENT ISSUE GOT RESOLVED ON RERUN , INSTALLATION FAILED
3. FAILURES WISE RSPEC FAILURES , FLAKY TESTS QUARANTINED

Build watch contacts:
mudit, kali, juristsscrum team(anil)
iif you see infrastructure->merge history
in sde
bug loged:


BUG-231726

http://vdvpwin100:8181/prweb/PRServlet
it shows last build as failed
and i found that it is 721 build
i think it should show only 72 build status

us merge schedule:
https://mesh.pega.com/docs/DOC-87622


721 merge schedule:
https://mesh.pega.com/docs/DOC-95580

72 merge schedule:
https://mesh.pega.com/docs/DOC-87625

72 BUILD STATUS:
https://meshbuild.pega.com/bamboo/browse/PRPC71   


sql server jenkins db server:
vengwindb30\strikers 
pega1+

52.6.237.251
ec2-user
ssh 10.123.0.60
docker ps
docker exec -it 196e34d34a13 bash
cd logs
tail -f PegaRULES-2016-Jan-04.log
cd ../emp/ravi

jenkins environment variables:
integration:
repository: branches/integration/72
rep_loc: 72
trunk:
repository: trunk
rep_loc: HEAD


ML11 beta build details:
------------------------------
Tue, 22 Dec 2015 21:09:23 -0500
#Ant properties
#Tue Dec 22 21:09:23 EST 2015
coreCode.main.svnRevision=168882
coreRules.prdeploy.svnRevision=168883
coreRules.tests.svnRevision=168880
#				------------------------------------------------------------
#	The svnRevision properties above are used by the CI tool and should not be removed unless in coordination 
#	with the CI tool team. The build.* properties below, at the end, are standard for this file.
# 	Please check with RE before writing any scripts that depend on any other properties being present in this file.
#				------------------------------------------------------------	


buildscripts.svnRevision=HEAD

build watch:
https://mesh.pega.com/community/projects/prpc/projects/build-watch
https://mesh.pega.com/docs/DOC-87450

quarantined means withdrawn test

build.status=Pass
build.name=coreAssembly_HEAD_10625
build.date=2015-12-22 21.09 EST
build.output=coreBuildDistributionImage.zip

Download utility:
https://mesh.pega.com/docs/DOC-92990

zero downtime:
https://mesh.pega.com/docs/DOC-93791

default schema for connection is deprecated instead classdefinition is used to find the default schema for the class:
https://mesh.pega.com/message/85592#85592 (see latest comments)

100 records - 1 min 15 sec
500 records - 5 minutes
1000 records - 9 minutes
2000 recods  - 20 minutes

2000 records - 5 minutes
4000 records - 9 minutes
6000 reords  - 13 minutes
8000 records - 19 minutes
10000 records - started at 3:28 3:49 (21 min)
15000 records - started at 4:05 4:39 (34 min)

100000 records in table:
merge records 100000 - started at 2:27 end at 2:53 (26 minutes)
merge records 8000 - 1 minute 30 seconds


YEAST INFECTION:
http://wholehealthchicago.com/2009/05/03/candida-overgrowth-syndrome/

LATEST CUTTYHUNK CLOUD DOWNLOAD UTILITY INSTANCE:
----------------------------------------------------
from my console at http://spacker1.rpega.com:8080/job/pega-cloud-launch/300/console towards the end I get
PegaURL=http://shahe-stack.devops.cuttyhunk.io/prweb <http://shahe-stack.devops.cuttyhunk.io/prweb> 
yeah, that seems to work
I am not sure on the file access and will head to the office shortly but you should be able to run the JUNits
let me know on any issues with file access and what else you might need
Shahu Doku, Erma 6:24 PM
the other thing you might need for some of the step later to ssh are the bastion IP:   52.20.101.124
bastion hostname is same: shahe-stack-bastion.devops.cuttyhunk.io

The other thing you might need for the rest of your testing is bastion IP: 52.20.101.124

I am connected to the AWS database on vengwindb160 using the bastion IP, feel free to use.
Also, PegaURL=http://shahe-stack.devops.cuttyhunk.io/prweb



pega cloud:
DB user is "rules"
Password is "pegasys"
https://i-1753.pegacloud.com/prweb/PRServlet  

String className= "Desh-raviapp-Work-Upload";
PegaDatabase db = (PegaDatabase) tools.getDatabase();
	final String fileLoc = "/root/upload/";
	final String stageLoc = fileLoc+"stage"+java.io.File.separator;
		final String fileName = "Employee.zip";
try {
              com.pega.pegarules.priv.database.uploadutility.PegaDataUploader  dataUploader = db.getDataUploader();
						dataUploader.upload(fileLoc, java.util.Arrays.asList(fileName), stageLoc);

                
} catch (Exception e) {
    oLog.error("Failed while fetching data agents - "+e.toString());
}
login to a machine using ppk file:
-----------------------------------
in putty enter ip of the machine, select ssh ->authentication and upload the ppk file
su command for switch user, su <user name>
to find processes running on a port use netstat -ntpl
to get your ip addres try whatsmyip in google

 ps -ef|grep java
 sudo su - tomcat
 netstat -ntpl
 
 erma postgres server:
 -------------------------
vengwindb160
 user: RPEGA\dynamos
password: Pega001+


PUTTY and winscp download
-------------------------
downloaded these two tools entered ip of unix machine
launched
using winscp drag and drop files from windows to linux and vice versa
to edit a file in war, just open archive using 7zip using edit option, edit it and save it
or you can edit with notepad++ and copy the file contents to the file to be saved

postgres:
for datetime format in excel yyyy-mm-dd yyyy-mm-dd hh:mm:ss


type api:
if you want create table mapping to class, do not worry about properties in the class,
add columns to the table, ensure that primary key property exists in class and do the mapping
				newTable = new TypeAPITable(tableName, this);
				newTable.addStringColumn("id", 255, true, true);
				newTable.addStringColumn("name", 96, true, false);
				newTable.addStringColumn("dept", 96, true, false);
				newTable.create();

				mMainClass = new RuleObjClass(this, className);
				mMainClass.setConcrete();
				mMainClass.setNotInClassGroup();
				mMainClass.addKey("id", "id");			
				mMainClass.setDirectedParent("Data-");		
				assertSave(mMainClass);

				DataAdminDBTable mapping = new DataAdminDBTable(this, mMainClass.getClassName());
				mapping.setTableName(tableName);
				mapping.setDatabaseName(dbName);
				assertSave(mapping);




cloud customer success request:
---------------------------
login to pdn, quick links->

nikita strikers vm:
Strikers-

Your new VM VEISWINDB182 is ready 

Your windows username/password = strikers/pega1+ 

oracle db schema name/password = pega/pega 

url="jdbc:oracle:thin:@veiswindb182:1521:prpc" 

Status Up 
Up Since Oct 26, 2015 2:40:04 PM EDT 
Instance Name prpc 
Version 11.2.0.3.0 
Host VEISWINDB182


panasonic microwave oven nn-j993

remote desktop connection  window full screen:
----------------------------------------------
open context menu for remote dektop window and click on full screen
close and reopen the window

hudson already running in some other branch:
--------------------------------------------
delete .hudson files in automatedinstaller folder for these jobs

vpd configuration:
       <env name="database/databases/VPDTestDB/password" value="prpc"/>
       <env name="database/databases/VPDTestDB/url"value="jdbc:oracle:thin:@10.150.113.10:1521:orcl"/>
       <env name="database/databases/VPDTestDB/userName" value="ml10_prpc"/>
       <env name="database/databases/VPDTestDB/adminUserName" value="SYS as sysdba"/>
              <env name="database/databases/VPDTestDB/adminPassword"value="welcome1"/>
       <env name="database/databases/VPDTestDB/customInfoDataPage"value="Declare_CustomPropertiesPage" />
 


ML Build status:
https://meshbuild.pega.com/bamboo/browse/PRPC71-COREASSEMBLY
ML Build download:
http://pegabuild3/out/coreAssembly/7110/coreAssembly_7110_1754/
head status:
https://meshbuild.pega.com/bamboo/browse/PRPCHEADCV-COREASSEMBLY


svn revision info from distribution image:
E:\prpctesting\builds\ML10\latest\coreBuildDistributionImage\manifest

<?xml version="1.0" encoding="UTF-8"?>
			<pegarules>
				<env name="Identification/SystemName" value="pega" />
				<env name="Initialization/usenativelibrary" value="false" />
				<env name="Initialization/UniqueActivityTerminateExceptions" value="true"/>
				<env name="alerts/enabled" value="false" />
				<env name="agent/enable" value="false" />
				<env name="database/baseTable/name" value="pr4_base" />
				<env name="database/storageVersion" value="6" />
				<env name="initialization/extractlibrariesifolderthanxhours" value="24" />
				<env name="initialization/extractlibraries" value="false" />
				<env name="agent/newqueuewakeup" value="150" />
				<env name="agent/masterdelay" value="30" />
				<env name="/clipboard/EnableAutoPopulate" value="true" />
				<env name="agent/useNewPassivationModel" value="false" />
				<env name="initialization/dictionary/EnableConclusionPreLoad" value="false" />
				<env name="initialization/minimalStartup" value="true" />

				<env name="fuacache/enabletemporaryinstancecache" value="false" />
				<env name="Usage/UsageTrackingEnabled" value="false" />
				<env name="agent/masteragentenable" value="false" />
			
				<env name="junit/addBranches" value="false" />
				<env name="junit/branches/appName" value=""/>
				<env name="junit/branches/appVersion" value=""/>

				<env name="database/reportConnectionCount" value="10"/>
								
				<env name="database/drivers" value="org.postgresql.Driver" />
				<env name="database/databases/PegaRULES/maxConnections" value="30" />
				<env name="database/databases/PegaRULES/reservedConnections" value="1" />
				<env name="database/databases/PegaRULES/maxConnectionsTimeout" value="60" />
				<env name="database/databases/PegaRULES/dataSource" value="java:comp/env/jdbc/PegaRULES"/>
				<env name="database/databases/PegaDATA/dataSource" value="java:comp/env/jdbc/PegaRULES"/>
				<env name="database/databases/PegaRULES/defaultSchema" value="rules" />
				<env name="database/databases/PegaDATA/defaultSchema" value="data" />
				<res name="java:comp/env/jdbc/PegaRULES" type="javax.sql.DataSource" driverClassName="org.postgresql.Driver" url="jdbc:postgresql://vengwindb160:5432/pega" maxActive="30" maxIdle="5" maxWait="-1" username="pega" password="pega"/>
			</pegarules>
		

import process:
---------------
import pegadevelopment jar using administrator@pega.com
now, create new application, 
login as admin, open application and update as pegadevelopment
import jars
open application and add branches related with jars
log off and login again
if an activity is not displayed under class like code-pega-db-index
to view imported activities, open application, expand branch and click on rules to view activities count
now we can click on count and then on each activity
if an error like some class not available is displayed, save the activity in your application using "save as"
you can also checkout , private edit an activity if it is locked


bugs to be logged:
validation message for upperlimit of column length
no validation messsage for updatestats invalid database and table name in cliboard
getstats activity is not reading databasename from clipboardpage
button is not disabled even when no permissions exist



ACTIVITY EXECUTION:
------------------
When you execute an activity check that popups are not blocked
After importing jar and executing activity if error comes such as rule does not exist
create or save that rule in you application ruleset like "raviapp"
to create a clipboard page enter name and class in "pages and classes" tab
we can get clipboard page object using
ClipboardPage clipboardPage = tools.findPage("dummy_page");

we can set properties for the object using



aDD TEST LIBRARY FOR ML RELEASES:
---------------------------------
TRY TO CREATE TEST SUITE IN PMF, YOU GET LIST OF TEST CASES
FOR EACH TEST CASE IN TEST SUITE UPDATE THE COVERAGE WITH THE USER STORY OF ML

ignore test:
package com.pega.pegarules.data.internal.access.database.schema;

import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Retention(RetentionPolicy.RUNTIME)
@Target({ElementType.METHOD})
public @interface IgnoreTest {
   String []allowedDbs();
}

C:\CITool\CI_DB2LUW_branch\AutomatedInstaller\lib



test case changes:
------------------
1. multi tenant check
2. common code at the beginning


branch for privileges test:
branches/team/dynamos/EPIC-7702

schema designer: privilege test cases:
pyDBIntrospect: getTopLevelSchemaObjectsForSchema(),getMetaDataForSchemaObject(String objectName)

pyDBTableUsage: getSchemaObjectStats(String objectName, String objectType). 

(Strikers) pyDBTableUpdateStatistics: runStatsForSchema(),runStatsForTable (String objectName, String objectType)

(Strikers) pyDBTableDefragment: yet to be completed

(Strikers) pyDBUpdateIndex: createIndex(ClipboardPage aIndexPage, String aTableName)

(Strikers) pyDBDropIndex: dropIndex(ClipboardPage aIndexPage,String aTableName)

1.	Your product area and backlog: Data Engine Backlog
2.	Team Name: Strikers
3.	Name of the rule that needs to be modified: PegaRULES:DatabaseAdministrator
4.	The modification that you want to make and why: 
We need the following privileges to be added to the access role "PegaRULES:DatabaseAdministrator".
o pxViewAndOptimizeSchema 
o pxViewAndOptimizeQuery 
o pxDBIntrospect 
o pxDBTableUsage 
o pxDBTableGetStatistics 
o pxDBTableUpdateStatistics 
o pxDBTableDefragment 
o pxDBUpdateIndex 
o pxDBDropIndex
The new roles and privileges are available in Build no. : 10029
We need to make these modification as part of Epic- 13964, to restrict the access to the new Schema Designer API’s using roles and privileges.

mesh doc for privileges:
https://mesh.pega.com/message/189727#189727

strikers cam jenkins db2luw:
----------------------------------
This is complete.  A new central DB2 server has been created.  The server is VENGWINDB70 but it’s not in DNS yet; that should happen within a few days.

I’ve created a database called eoi6248 with credentials of eoi6248\pega#1  There is a ‘rules’ and a ‘data’ schema under the database.  

Until the new server is added to DNS you’ll need to use the IP address, 10.1.3.70, to connect.  This is what the connection string would look like in a Tomcat node:

url="jdbc:db2://10.1.3.70:50000/eoi6248:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;useJDBC4ColumnNameAndLabelSemantics=2;"
                                                                username="eoi6248"
                                                                password="pega#1"
                                                />
                                                
<Environment name="prconfig/database/databases/PegaRULES/defaultSchema" value="rules" type="java.lang.String" />
<Environment name="prconfig/database/databases/PegaDATA/defaultSchema" value="data" type="java.lang.String" />

ttn username password:
-----------------------
ravi003/ravi003
dynamos zos setup:
--------------------
<env name="database/drivers" value="com.ibm.db2.jcc.DB2Driver" />
        <env name="database/databases/PegaRULES/maxConnections" value="30" />
        <env name="database/databases/PegaRULES/reservedConnections" value="1" />
        <env name="database/databases/PegaRULES/maxConnectionsTimeout" value="60" />
        <env name="database/databases/PegaRULES/dataSource" value="java:comp/env/jdbc/PegaRULES"/>
        <env name="database/databases/PegaDATA/dataSource" value="java:comp/env/jdbc/PegaRULES"/>
        <env name="database/databases/PegaRULES/defaultSchema" value="DGD06RBO" />
        <env name="database/databases/PegaDATA/defaultSchema" value="DGD06DBO" />
        <env name="database/databases/PegaDATA/db2zos/dbname" value="DGD06" />
        <res name="java:comp/env/jdbc/PegaRULES" type="javax.sql.DataSource" driverClassName="com.ibm.db2.jcc.DB2Driver" url="jdbc:db2://zosd01:5028/DB2DLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progressiveLocators=2;progressiveLocators=2;useJDBC4ColumnNameAndLabelSemantics=2;currentSchema=DGD06RBO;currentFunctionPath=SYSIBM,SYSFUN,DGD06RBO;" maxActive="30" maxIdle="5" maxWait="-1" username="DGD06DBO" password="DGD06DBO"/>

		strikers zos setup:
		--------------------
		jdbc:db2://ZOSD01:6028/DBBDLOC::retrieveMessagesFromServerOnGetMessage=true;emulateParameterMetaDataForZCalls=1;
		DST97DBO
		DST97DBO
STRIKERS JENKINS CAM SETUP:
VENGWIN192 and the username/password is engadmin/Pega2015
POSTGRES:
Postgres server = senglnxdb98
database = eoi_6247
user = eoi6247
password = eoi6247
dataschema = datauser
ruleschema = rulesuser

strikers india jenkins:
sqlserver:
jdbc:sqlserver://10.150.69.32:1433;database=prpc;SelectMethod=cursor;SendStringParametersAsUnicode=false
sa/pegasys1+
pegadata
pegarules
\
dhc tax login password:
User Login ID : 490-B2013102

password: https://dhc-payroll.co.in
password: Pega@2016may



low acid problem:
-=----------------
http://scdlifestyle.com/2012/03/3-tests-for-low-stomach-acid/

jenkins strikers db2luw setup:
--------------------------------
url: jdbc:db2://10.150.69.30:50000/pega:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progressiveLocators=2;useJDBC4ColumnNameAndLabelSemantics=2;
user: prpcusr1
password: pegasys1+
schemas: pegadata, pegarules
oracle grant roles and privileges:
----------------------------------
       <env name="database/drivers" value="org.postgresql.Driver" />
       <env name="database/databases/PegaRULES/url" value="jdbc:postgresql://10.150.70.104:5432/postgres" />
       <env name="database/databases/PegaRULES/userName" value="postgres" />
       <env name="database/databases/PegaRULES/password" value="welcome1" />
	   
	   	<!-- env name="database/databases/PegaRULES/url" value="jdbc:postgresql://10.150.69.29:5432/prpc" />
	<env name="database/databases/PegaDATA/url" value="jdbc:postgresql://10.150.69.29:5432/prpc" />
	<env name="database/drivers"
		value="org.postgresql.Driver" />
	<env name="database/databases/PegaRULES/userName" value="pega63" />
	<env name="database/databases/PegaRULES/password" value="pega63" />
	<env name="database/databases/PegaDATA/userName" value="pega63" />
	<env name="database/databases/PegaDATA/password" value="pega63" />
	<env name="database/databases/PegaRULES/defaultschema" value="pegarules" />
	<env name="database/databases/PegaDATA/defaultschema" value="pegadata" /-->
table_with_data, 
baseenhanced_PRPC
deployuser_prpc
roles are also assigned similar to privileges
def PEGA_COMMN_SCHEMA=baseenhanced
def DB_DATA_FILE_DIR=D:\app\jakkr\oradata\orcl
connect sys/welcome1@orcl as SYSDBA;
grant SELECT_CATALOG_ROLE, create session
to  &PEGA_COMMN_SCHEMA._PRPC;

create tablespace &PEGA_COMMN_SCHEMA._PRPC logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA._PRPC01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;
create user &PEGA_COMMN_SCHEMA._PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;
grant connect to &PEGA_COMMN_SCHEMA._PRPC;


ever green epic:
https://mesh.pega.com/docs/DOC-85664

ESX Server	10.225.68.42-Na
VM Image Name	
Machine IP	10.150.69.32
PRPC Instance Details	IP: 10.150.69.32 
administrator/pegasys1+
Database Details	DB: prpc 
port: 1433 
user/pwd: pegadata/pegadata 
pegarules/pegarules 


postgres jenkins credentials:
--------------------------------
ESX Server	10.225.68.42-Na
VM Image Name	
Machine IP	10.150.69.29
PRPC Instance Details	IP: 10.150.69.29 
administrator/pegasys1+
Database Details	DB: prpc 
port: 5432 
user/pwd: pega63/pega63 
rules schema: pegarules 
data schema: pegadata
Instance Status	Active
Admin Contact	chils
Admin Comments	.


sqlserver jenkins credentials:
----------------------
sa/pegasys1+
Instance Status	Active
Admin Contact	chils
Admin Comments	.
Request Details
Request ID 	TE-4194
Request Type	VM Request 
PRPC Details	Need high performance Cambridge VM with 12 GB RAM and 200GB Hard disk, please provide us the admin account credentials of the VM

Install sql server 2008 enterprise database and provide us the admin account credentials

Need this VM with sql server database as part of creating jenkins setup for strikers team, need it permanantly

acid reflux:
http://chriskresser.com/get-rid-of-heartburn-and-gerd-forever-in-three-simple-steps/

https://branchbasics.com/ways-to-increase-stomach-acid-production/

postgres 9.4:
--------------
1. Generated pljava jar file, installed prpc using 9.4 and executed db and ddl test suites
2. Did etier testing, created work objects related with candidate cases in HRMS
Using JMS tested CMT and BMT with both XA and Non-xa divers, topic and queue

my zos vm:
vengwin227

multitenant test cases:
DatabaseTestSuite.java,MultitenantMasterSmokeTestSuite.java,DatabaseMultiTenantTestSuite.java
DatabaseTestSuite.java,DatabaseMultiTenantTestSuite.java
RaviPrakash.Jakkamputi@in.pega.com
income tax (it) login:
-------------------------
aehpj0663b
jntu@99f

2015 it returns:
-----------------
submitted it returns for 2015 and downloaded details and saved in laptop
www.cleartax.in/r/ravip315
ravi740136@gmail.com
jntu@99f

sql server strikers cam
--------------------
VENGWINDB30 
strikers/pega1+
db named prpc 
The db-user is pega (password is also pega) with two additional schemas (rules and data) and this user is owner of the db and schemas



my zos vm:
----------
vengwin227
db2zos machines where test can be run:
vengwin227\engadmin
Pega2012
running tests from postgres split schema:
https://pdn.pega.com/support-articles/sql-error-when-server-is-started <https://pdn.pega.com/support-articles/sql-error-when-server-is-started> 


fish oil:
http://www.ebay.in/itm/Carlson-Labs-Elite-Omega-3-Gems-Fish-Oil-1250mg-lemon-flavored-chewable-120-/281759924875?hash=item419a33428b <http://www.ebay.in/itm/Carlson-Labs-Elite-Omega-3-Gems-Fish-Oil-1250mg-lemon-flavored-chewable-120-/281759924875?hash=item419a33428b> 

privileges permissions mesh doc:
https://mesh.pega.com/docs/DOC-73014

dual user/ triple use prconfig configuration:
https://mesh.pega.com/docs/DOC-74119

oracle drop schema:
------------------
def PEGA_COMMN_SCHEMA=beta2_dualuser
drop user &PEGA_COMMN_SCHEMA CASCADE;
drop tablespace &PEGA_COMMN_SCHEMA INCLUDING CONTENTS AND DATAFILES CASCADE CONSTRAINTS;

best java tutorial:
http://tutorials.jenkov.com/

to enable clr configuration in sql server:
sp_configure @configname=clr_enabled, @configvalue=1
go 
reconfigure
go

CAMBRIDGE VM:
VENGWIN104
engadmin/Pega2012
eclipse in cambridge vm:
\\vengwin104\temp
vengwin165 C:\Eclipse\PegaEclipse-4.3.1.0\PegaEclipse-4.3.1.0\Eclipse-4.3.1\eclipse
in vengwin161 download and also C:\eclipse\PegaEclipse-win64-4.5.2.2-SonarLintExcluded\PegaEclipse-win64-4.5.2.2-SonarLintExcluded\PegaEclipse-win64-4.5.2.2\PegaEclipse-win64-4.5.2.2\eclipse


log new request for cambridge vm cam vm:



http://sengwin137:9090/TOTW/NewTicket.html


RAVI SQL SERVER VM:
VENGWINDB30\strikers
pega1+

dynamos vm jenkins ci setup credentials:
--------------------------------------------
Machine: vengwindb163
user: dynamos
pw: Pega001+
Rpega\dynamos

strikers jenkins zos vm
------------------------
Your new VM is VENGWIN192 and the username/password is engadmin/Pega2015

strikers jenkins
--------------------
10.225.70.184
username/password: administrator/Testeng7!

oracle:
jdbc:oracle:thin:@10.150.68.31:1521:BO112DB1
username/schemaname/password
admin: prpcadmin/prpcadmin
data: te_4193_data
rules: te_4193_rules

sqlserver:
IP: 10.150.69.32 
administrator/pegasys1+

jdbc:sqlserver://10.150.69.32:1433;database=prpc;SelectMethod=cursor;SendStringParametersAsUnicode=false

DB: prpc 
port: 1433 
user/pwd:

data: pegadata/pegadata 
rules: pegarules/pegarules 

admin credentials:
sa/pegasys1+

if menu items disabled in ci tool, verify overlay additional assets tab and correct the errors
some times if junits will not run because projects does not exist in workspace, uncheck run junits and install the build, later we can run junits
we can use non rpega account also to run citool jobs
while giving mail id for notifications, give full user name instead of user id

DHEEVARA SONG:
-----------------
http://www.vizzva.com/2015/07/baahubali-2015-all-full-length-video.html



JENKINS CI LEARNINGS:
----------------------
Learnt how to schedule tasks using H mm HH DD MM WW
WE CAN SCHEDULE FOR SPECIFIC POINT OF TIME OR for a range of time, once or every 10 minutes etc
help is provided in each text field in the form of new job in jenkins
we can have a link between parent and child so that when parent job is executed child job is also executed, using post build actions->build other projects

strikers ci setup:
--------------------
good build is taken as 9802, to though 9805 is good
do we need setups or we can use your setups
cleanup strategy
how to get hardware for these setups
will all the ci instances will be on same vm, how many ci instances
what are credentials for dynamos vm
which user you use for login to the vm and to run juints
databases installed on different vms, ci setup will be on same machine or different one

started working on it
learnings:
Jenkins configuration is generated automatically based on the settings in ci tool
start config utility by double clicking on the batch file in E:\prpctesting\citool\CI-SQLServer\AutomatedInstaller
open configurationview->advanced
build source, target database and testing tabs are important.
In testing, unit tests->junit tab is important

beta build revision:
-----------------------
145146

50100006046616
HDFC0000075 


runsql internally uses executerdb method

saveallornone assertions:
TestTransactionalSaverSaveAllOrNothingOnlyIfFirstNotThere
multitenant testcases should extend following class
public class TestMultitenantRuleResolver extends MultiTenantTestBase4 {

for testing exceptions:
@Test(expected = RuntimeException.class)

performance testing testcase:
http://hydscm.rpega.com/svn/PRPC_core/trunk/test/pr3unittest/src/com/pega/pegarules/data/internal/access/TestDatabaseAPIPerformance.java

whenever change is done on existing api, use references and run all the tests that use the changes
----------------------------------------------------------------------------------------------------
rubn on both mt and non mt systems
example is Testcolumnpopulator:

type api reference
Testcolumnpopulator:


WEBSPHERE DEPLOYMENT:
ADMIN CONSOLE USERNAME:admin
password:ravi

websphere urls:
console:
https://wjakkrw7blr.rpega.com:9043/ibm/console
application:
http://localhost:9080/prweb/PRServlet

logs location:
C:\Program Files (x86)\IBM\WebSphere\AppServer\profiles\AppSrv01\logs\server1

it  is easy to add new data source, authentication etc..
just delete existing pegarules datasource and create again according to new database details, we can add new datasource like myworkdb
only step11 is important in the detailed steps
also in the beginning select generate defaul binding, use default virtual host

before starting server delete existing prpc installation from windows file location
to start server E:\othertools\tomcat\tomcat72\apache-tomcat-7.0.55\bin\startup.bat server1
to stop stopserver.bat server1
also check in processes for was.exe and java.exe in taskmanager

E:\prpctesting\builds\ml6\114725_Pega716\archives\vpdtestearfile\prpc_j2ee14_ws\APP-INF\lib
C:\Program Files (x86)\IBM\WebSphere\AppServer\profiles\AppSrv01\installedApps\WJAKKRW7BLRNode01Cell

create table for class:
------------------------
for data class or work class add key and dedicated table gets created for it like "pr_classname" in PegaDATA
we can change the mapping by editing database in data-admin-db-table instances
table for work class starts with pc_
workclass should belong to a classgroup or should be a classgroup
dataclass generally does not belong to classgroup
work class has more columns exposed by default
if you want to add new columns, add properties and then expose properties
		TestVPDUtilities.exposeProperties(VPDCLASS, properties, getThread());

hotfix url:
-------------
http://gcssupport/pr3web/PegaSupport/V7dkiHNhSAgaYFoIOQWx6w%5B%5B*/!STANDARD?pzPostData=-1206158371

kaushik vpd jar:
--------------------
admin@taig is login
rules is password
aig is application name
aig is branch name

To add new database detauils to preferences in tomcat server:
--------------------------------------------------------------------
Add new database to prconfig.xml in E:\othertools\tomcat\tomcat72\apache-tomcat-7.0.55\webapps\prweb\WEB-INF\classes
<env name="database/databases/MyWorkDB/dataSource" value="java:comp/env/jdbc/MyWorkDB"/>
add this datasource in context.xml java:comp/env/jdbc/MyWorkDB

some of the test cases fail because clear property is not enabled in sql server to enable the properties use:
https://mesh.pega.com/docs/DOC-23087

failed tests in SQL Server alpha:
com.pega.pegarules.data.internal.access.TestObjList
test_withExternalMapping_RuleObjListForSelects
test_withExternalMapping_ConditionSelectTo
test_withoutExternalMapping_RuleObjListForSelects
test_withoutExternalMapping_ConditionSelectTo


update manager install manager contact:
Vecha, Rajendra <Rajendra.Vecha@in.pega.com>

my latest testclassmapotimazation file is in pegaexpcheckin branch

Ml9 alpha build location: GA DOWNLOAD
-----------------------------------------
https://mesh.pega.com/view-download.jspa?downloadID=496&community=2201
svn revision 143430

To check if table exists:
ResultSet rs = conn.getMetaData().getTables(null, schemaName, tempTableName, new String[] { "TABLE" });
to get case according to platform:(ref: com.pega.pegarules.data.internal.access.TestCustomerChanges)

	if(connection.getmetadata().storesLowerCaseIdentifiers()) {
			tempTableName = tempTableName.toLowerCase();
		} else if (dm.storesUpperCaseIdentifiers()) {
			tempTableName = tempTableName.toUpperCase();
			
			
			another way which is standard
			DatabaseInformationImpl.formatDBIdentifierWithCorrectCase(objName, aDBInfo.getIdentifierCase());
			
			get schema names and table names:
				String	dbName = PREngineProvider.getData().getConnectionManager().getBaseDBName();
			String 	dataDBName = PREngineProvider.getData().getConnectionManager().getOtherDBName();
			String	dbRulesSchema = PREngineProvider.getData().getConnectionManager().getBaseTableSchema();
			String	dbDataSchema = PREngineProvider.getData().getConnectionManager().getOtherTableSchema();
get all table names in prpc:
similarly we ca get list of dropped , added columns indexes and tables names
			IAllSchemaChanges allChanges = getPega().getCustomerChanges().getAllChanges();
					Set<DatabaseTable> set = allChanges.getAddedTables();
										for (DatabaseTable manualTable : set) {
						if (manualTable.getTableName().
		
find out whether it is single schema or split schema:
	if (dbDataSchema.equalsIgnoreCase(dbRulesSchema))	

add require data columns to table:
	table.addRequiredDataColumns(true, false);

acquire clipboard page:
	ClipboardPage cp = ClipboardPageFactory.acquire();

create work class related table using executerdb:
		String tableSql = "create table " + schemaQualifiedName + "(pxObjClass date, pzInsKey date )";
			ClipboardPage cp = ClipboardPageFactory.acquire();
			cp.putString("pyObjClass", "Work-");				
			try {
				getThread().getDatabase().executeRDB(tableSql, cp);
				
			}	
	drop table using executerdb:
getThread().getDatabase().executeRDB("drop table " + schemaQualifiedName, cp);

get set dynamic system settings:
String origAutoDB = aSessionAction.getTools().getSystemSettings().getDynamic("Pega-RULES", "database/AutoDBSchemaChanges");
                    aSessionAction.getTools().getSystemSettings().setDynamic("Pega-RULES", "database/AutoDBSchemaChanges", origAutoDB);
					
					
					to enable auto db schema chnages:
							aSessionAction.getTools().getSystemSettings().setDynamic("Pega-RULES", "database/AutoDBSchemaChanges", "true");
							
							

to save instance with execption:
 	classRule.saveWithExceptionOnFailure();privileges
	
	
	to get table name from classname:
			ClassDefinition cd = db.getClassDef(aClassName);
			also get class definition using (ruleobjclass)roc.getDefinedClass()
			by default work class maps to pr_other table
								assertFalse("Failed to clone the Dedicated table.", "pr_other".equalsIgnoreCase(tableName));
		final String tableName = cd.getTable().getTableName();
		
		get fully qualified table name from class definition:
			final String tableName = cd.getTable().getFullyQualifiedTableName();
			
			to delete class refer to com.pega.pegarules.data.internal.access.TestCustomerChanges.deleteClassAndTable(RuleObjClass, UserSessionAction)
	
db2zos machines where test can be run:
vengwin227\engadmin
Pega2012

ML9 TESTING
ST-5133:[JUNIT] index generation in prDDL for upgrades in SQLServer
ST-5134: [JUNIT] : Classmap optimizations to improve performance

refer folowing classes for kno
TestClipboardAutoPopulate
TestAsynchronousDeclarativePages
TestDataPageSourceInfo

quality epic:
epic-8774
to delete class use the following:
	TestDataUtilities.deleteJunitClassifPresent(this, WORK_CLASS_NAME);
bug:
multiple tenant mapping same shared class to different tables and it fails
sqlserver config srikanth machine
-----------------------------------
<env name="database/drivers" value="com.microsoft.sqlserver.jdbc.SQLServerDriver" />
	<env name="database/databases/PegaRULES/url" value="jdbc:sqlserver://10.150.113.15:1433;database=ml9_9641;SelectMethod=cursor;SendStringParametersAsUnicode=false" />
	<env name="database/databases/PegaRULES/userName" value="sa" />
	<env name="database/databases/PegaRULES/password" value="admin1234#"/>	
recover oracle from open or lock problem because of deleted files:
-------------------------------
alter database open;

alter database datafile 9 offline drop;
story for classmap optimization:
--------------------------------
typeapi method that uses executeAddColumnsToClassTable:
com.pega.pegarules.data.internal.access.data.TestDataUtilities.exposeAndCreateExternalMapping(UserSessionAction, String, List<String>, RuleObjClass, Map<String, String>, PRThread) uses exposeproperties 
another reference in com.pega.pegarules.data.internal.access.data.ItemData

typeapi for copytable:
com.pega.pegarules.data.internal.access.TestDatabaseNew.testCopyTableForClass()

executeAddColumnsToClassTable and executeCopyTableforClass are introduced so that 
AddColumnsToClassTable and CopyTableforClass combined with executeDBSchemaUpdates is implemented in above methods
one extra info expected in new implementation is tablename


REFER the class com.pega.pegarules.data.internal.access.TestDatabaseNew for the method copyTableforClass calls
rules use this feature:
search for these activities in prpc using the top right side search box, to get the activity details
pzOptimizeAProperty, pzCreateTableForClass and pzOptimizeFieldsForReporting
activity to clone a table:pzCreateTableForClass contains very good details
mentioned at the bottom


sql server logs location to see detailed error logs:
C:\Program Files\Microsoft SQL Server\MSSQL10_50.SQLEXPRESS\MSSQL\Log

update ml9 vpd testcases:
change context name to pxAppContext

covered index is index on pzinskey
getcompositekey

prpc installation:
logs are automatically saved in \coreBuildDistributionImage\scripts\logs
it happens through ant build files
if we analyze the logs we can understand installation easily
the main class is com.pega.pegarules.data.ddl.SchemaGenerator
first build file is build.xml in prpc-setup dir seupddl.xml, setupdatabase.xml etc.. are the other build files
from logs we can understand that pegarules-master.xml is located in coreBuildDistributionImage/scripts/lib/prmaster-schema.jar!/schema/pegarules-master.xml

resultset packager activity:
ClipboardPage classPage = tools.createPage("MyCustomer", null);
for (int i =100000; i<200000; i++){
                                                                                                                try {
                                                                                                                                classPage.putString("id","id " +i);
                                                                                                                                classPage.putString("name", "Declarativevpdtest1@pega.com");
                                                                                                                                classPage.putString("address", "test");                                                                                                                        
                                tools.getDatabase().save(classPage, false, false);
                                                                                                                  oLog.infoForced ("inserting "+i);
                           
                                                                                                                } catch (Exception e) {
                                                                                                                                e.printStackTrace();
                                                                                                                                
                                                                                                                }
}





com.pega.pegarules.priv.database.sqlgen.INativeSQLBuilder queryBuilder = 
                                                                                                ((PegaDatabase)tools.getDatabase()).getNativeSQLBuilder()
                                                                                                .select(
                                                                                                                                com.pega.pegarules.priv.database.sqlgen.NativeSQL.field("A", "Status", "StatusAlias")
                                                                                                                                )
                                                                                                                                .from("PPPQ1460616758814", "A")
                                                                                                                                
                                                                                                                                ;
                                                                                List<StringMap> results = ((PegaDatabase)tools.getDatabase()).executeNativeSQL(queryBuilder, tools.getThread());

oLog.infoForced("results size : "+ results.size());


ddl test using junit:
---------------------
com.pega.pegarules.data.ddl.TestDDLGenerationDriver has complete installation and upgrade tests
reference for  keywords related with xml for ddl test
/prddl-test/src/com/pega/pegarules/data/ddl/schema/pegarules-master-test.xml
use com.pega.pegarules.data.ddl.DDLTestBase.assertDatabaseHasAllTablesInXML(SchemaManager, SchemaManager) method to assert whether 
a table got created properly
using com.pega.pegarules.data.ddl.TestIndexes class in pegaexpress branch to understand about indexes creation, deletion etc
to do any chnages to a table, create one more xml with the required changes.
when we pass this to schemamanager it will give us the update ddl using the method com.pega.pegarules.data.ddl.SchemaManager.getUpdateDDL(SchemaManager, DatabasePlatform, String) 
Now we can execute the ddl to do the required task
this ddl will be array of ddl statements to be executed sequentially (comma separated ddl statements)
The method com.pega.pegarules.data.ddl.DDLTestBase.assertDatabaseHasAllTablesInXML(SchemaManager, SchemaManager) is used to check if schema manager has all the tables as per given xml configuration

Running DDLTestsuite:
--------------------
when primary key is created we can find an index in indexes list
to know about the index in sql developer, click on index and refer details and sql tabs, i think normal index means non-clustered index
schemanager gives xml as follows if we pass schema name and table name
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<pega:database xmlns="http://www.pega.com/prpc" xmlns:pega="http://www.pega.com/prpc" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.pega.com/prpc pega_schema.xsd">
  <pega:tables>
    <pega:table name="TEST_INDEXES_TABLE">
      <pega:zosattributes/>
      <pega:columns>
        <pega:varchar name="COLUMN_A" required="true" size="32"/>
        <pega:varchar name="COLUMN_B" required="true" size="32"/>
      </pega:columns>
      <pega:indexes>
        <pega:index compositeKey="COLUMN_AAFALSEFALSE" name="TEST_INDEXES_TABLE_PK" primarykey="true" type="Other" unique="true">
          <pega:index-column name="COLUMN_A" order="A"/>
        </pega:index>
      </pega:indexes>
    </pega:table>
  </pega:tables>
  <pega:views/>
  <pega:routines/>
</pega:database>
in prddl project xsl files are present in com.pega.pegarules.data.ddl.xslt package
to drop index use qualifier schemaname.tablename.indexname obtained from xsl file
xslmessage can be used as debug point
in xml file we can specify tablename, columns and indexes, primaruy key constraints etc. Accordingly schema manager will create the object in database
com.pega.pegarules.data.ddl.DDLTestBase.clearCurrentSchema() method will delete al objects in the configured schema
file:/E:/workspaces/pegaexpress/prddl-test/bin/com/pega/pegarules/data/ddl/TestIndexes_TableWithPK.xml
the following entry will decide which data source should be used
com.pega.pegarules.data.ddl.dbcpsource=dev.db2zos

import prddl from etc
checkut prddl-test from test folder
clean all the projects and build again so that genclasses error is resolved
for rreference use pacir-db.properties
create user-db.properties and enter values as follows and run ddltestsuite,
create ent file in schema folder
you can find all configuration in ddltestsuite files folder

I have created the properties file engadmin-db.proprties (login id for my vm is engadmin) with following properties (my database is DST97DBO)

dev.db2zos.url=jdbc:db2://ZOSD01:6028/DBBDLOC::retrieveMessagesFromServerOnGetMessage=true;emulateParameterMetaDataForZCalls=1;
dev.db2zos.username=DST97DBO
dev.db2zos.password=DST97DBO
dev.db2zos.schema =DST97DBO
dev.db2zos.dbname =DST97DBO

com.pega.pegarules.data.ddl.dbcpsource=dev.db2zos
dev.db2zos.url=jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progressiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST97DBO;currentSchema=DST97DBO;useJDBC4ColumnNameAndLabelSemantics=2;
dev.db2zos.username=DST97DBO
dev.db2zos.password=DST97DBO
dev.db2zos.schema=DST97DBO


Pega express stories:
US-86625: Fix index generation in prDDL for upgrades in SQLServer
mesh doc of peg world, find for bug-204001 for the story us-90104: Classmap optimizations to improve Pega Express performance
https://mesh.pega.com/docs/DOC-78208
US-90104:Classmap optimizations to improve Pega Express performance
grooming mesh doc : https://mesh.pega.com/docs/DOC-81003

know a file that got changed while creating branch:
to know new changes added in a branch use "compare with revision or url"option
and then select url of trunk, select date on which brach is created
that will list the code changes added in new branch
by double clicking on each file we can see differences

see history of a branch:
find out a file which got changed while creating new branch and view its history
now we can see all the files that are chnaged while creating the branch in the history

threadconnectionstoreimpl and connectionmanagerimpl connection related changes are made
sqlgenerator

noteDBSchemachange metod for cache
schemaimport*.java


optimize for reporting:
fields will be present as part of blob when work class is created and mapping is done
they will not appear as columns in table.
only when the field is optimized for reporting it appears as column in the page

issues with importing jar:
after importing jar, open application, and add the branch that owner has created under branches using auto fill
if required create the application that owner has created and then import from application itself, then add branch, logoff and relogin
to see all the rules created in the application

sqldeveloper help is available on net
https://docs.oracle.com/cd/B32485_01/appdev.110/b31695/intro.htm#CHDJBBIH

com.pega.pegarules.data.internal.access.TestPxCommitDateTime
com.pega.pegarules.data.internal.access.TestVirtualPageListNewShallow uses usertestcase4 written by mirinda

good examples for objbrowse TestObjBrowse

to use junit4 class should extend usertestcase4

def PEGA_COMMN_SCHEMA=vpdbuild1
def DB_DATA_FILE_DIR=D:\app\jakkr\oradata\orcl

connect sys/welcome1@orcl as SYSDBA;
create tablespace &PEGA_COMMN_SCHEMA._PRPC logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA._PRPC01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;
create user &PEGA_COMMN_SCHEMA._PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;
grant connect to &PEGA_COMMN_SCHEMA._PRPC;
grant create any table, create any index, create any view, create any trigger, create any sequence to &PEGA_COMMN_SCHEMA._PRPC;
grant connect, resource, create view to &PEGA_COMMN_SCHEMA._PRPC;

vpd:
populateinfo activity is used to load data to table

oracle 11g database in laptop:
orcl1
welcome1

C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;

vpd config entry for insert update delete operations:
  <env name="classmap/usemergestatement" value="false" />
  
  D:\app\jakkr\product\11.2.0\dbhome_4\bin;D:\app\jakkr\product\11.2.0\dbhome_3\bin;C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\Program Files (x86)\AMD APP\bin\x86_64;C:\Program Files (x86)\AMD APP\bin\x86;%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\ATI Technologies\ATI.ACE\Core-Static;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;%JAVA_HOME%\bin;C:\Program Files (x86)\Microsoft SQL Server\100\Tools\Binn\VSShell\Common7\IDE\;C:\Program Files (x86)\Microsoft SQL Server\100\DTS\Binn\;%JAVA_HOME%\bin;C:\Program Files\Microsoft SQL Server\100\DTS\Binn\;C:\Program Files\Java\jre7\bin;C:\Program Files\Java\jre7\bin\server

insert queries for vpd table:
insert into VPDDataTable(pzinskey,pxobjclass,pxinsname,pxcreatedatetime,pxupdatedatetime,empid,empname,username)  values ('VPDClass1434463661150 11','VPDClass1434463661150','11',null,null,'11','Declarativevpdtest2@pega.com','vpdtest2@pega.com')
String aSQL = "insert into " + VPDTABLE + "(pzinskey,pxobjclass,pxinsname,pxcreatedatetime,pxupdatedatetime,empid,empname,username)  values ('"
						+pzinskey+"','"+VPDCLASS+"','11',null,null,'11','Declarativevpdtest2@pega.com','vpdtest2@pega.com')";

pending tasks:
-------------
update typeapi createtable(db) so that it woks fine for external db

PRPC Tracer:
-------------
just click on cracer and do an action all the steps happened for thta action
will be listed in tracer

RCA:
RCA QUESTIONS
•	Why it was not found during our code/design review ?
•	Why it was missed in our test plan ?
•	Why the bug is existing in the system for long time ?

data-admin-db-operator operator id
----------------------------------------
to view operator id properties click on operator on right side in prpc and click on operator
to know about properties appear in the from refer view->property alias
now click on the alias and see the field "alias reference"

us-87395: next user story
test the case where two databases connect to same data source one of them 
is mapped to custompropertiespage and another is not
transaction test case
create database in prpc:
we can create database using preferences, which uses the configuration in prconfig.xml
create context:
CREATE CONTEXT PegaAppContext using SYS.DBMS_SESSION
create policy:
  EXEC DBMS_RLS.ADD_POLICY(object_schema => 'ml9_9548_prpc',object_name => 'VPDDataTable1433499257417',policy_name => 'vpdtestpolicy',function_schema => 'ml9_9548_prpc',policy_function => 'vpdtestfunc3',statement_types => 'select',POLICY_TYPE => DBMS_RLS.DYNAMIC, LONG_PREDICATE => false );
  
  drop policy:
  EXEC DBMS_RLS.DROP_POLICY('ml9_9548_prpc', 'VPDDataTable1433499257417', 'vpdtestpolicy'); 
  
  create policy function:
  create or replace 
FUNCTION ml9_9548_prpc.vpdtestfunc3( 
                                  schema_var IN VARCHAR2,
                                  table_var  IN VARCHAR2
                                )
                                RETURN VARCHAR2
                                IS
                                  return_val VARCHAR2 (400);
                                BEGIN  
                                  return_val := 'username = SYS_CONTEXT(''PegaAppContext'',''username'')';
                                  RETURN return_val;
                                END vpdtestfunc3;
revoke or remove permissions:
revoke execute any procedure, create any context from  ml9_9548_prpc;
revoke EXECUTE ON DBMS_SESSION from  ml9_9548_prpc;

drop function:
drop function ml9_9548_prpc.vpdtestfunc4; 

drop context:
drop CONTEXT PegaAppContext


vpd bugs:
change the comment saying not available in dadn rule
the following method giving wrong result
	protected boolean isCustomInfoToDBConnectionEnabled(DatabaseConfiguration configuration) {
		return configuration.getCustomInfoDataPage()!=null && configuration.getCustomInfoDataPage().trim().length() > 0;
	}
	
		protected Map<String,String> retrieveCustomProperties(DatabaseConfiguration configuration) throws DatabaseException{
		Map<String,String> customProperties =new HashMap<String,String>();
		if (isCustomInfoToDBConnectionEnabled(configuration)){

		database should be created for vpd only using preferences in prconfig file and not using url or data source
prconfig file location:
-----------------------------
for tomcat, in webapps/prweb/web-inf/classes
for enterprise servers prresources.jar in app-inf/lib
we can edit these files and re zip
before deploying, extract war(web) or ear (enterprise) file and modify prconfig and archive it again
prlogging.xml, prbootstrap.propeties are also located in same location

report definition:
------------------
any column can be added as column source and filter
filter logic is not needed , if we add multiple filters , by default and logic will be applied, may be we can overide it using filter logic

remove unwanted spaces in java source code in eclipse
----------------------------------------------------
window->preferences->java->editor->save actions
select format source code all lines
select additional actions and configure to remove trailing space 
when we do source->format, the format gets applied

create jar from rules:
-------------------------
open the application, select the branch, actions->package option will save the branch as a jar file
to export rules as jar , as soon as you create application, create a branch and create all your rules in it
build your application on pegadevelopment 7.1

lockmanager:
open means select a row and then whether we can lock it or not using boolean option
getThread().getDatabase().open(instanceKeys, true, true, false, null);

latest pegadeveloper jar:
---------------------------
located in E:\prpctesting\pegadeveloper\latest
in kaushik machine \\10.150.113.66\softwares

srini oracle db AND PRPC INSTANCE:
http://10.150.113.49:8080/prweb/PRServlet/VsGMpe7YH9-pVn6wVj0EQWL-y-ZfLKNm*/!STANDARD?pzPostData=1744553360
MyDB
PEGA78_SINGLE
port 1522
D_MyEmbedPage
MyDB1

VPD DOUBTS:
-----------
test if it fails for multiple tables which are joined where the policy is applied on one table
after importing srini aig application, i was unable to login
to import the application, just login as administrator@pega.com, import the jar
then logged in as administrator, opened the application from records, tried to save it
got error regarding pegadevelopment, corrected the version of it using down arrow and saved it
logged off and now tried to login using aig application user, it worked

important files saved in E:\prpctesting\DATALAYER\VPD
OperatorID.pyUserIdentifier gives the logged in user name
explore obj-open step, explore using the clipboard page displayed after you run
https://mesh.pega.com/docs/DOC-79090 OPEN ITEMS DOC FOR VPD STORY
https://mesh.pega.com/docs/DOC-77535 rowlevel security
complete documentation about create vpd policy
http://docs.oracle.com/cd/B28359_01/network.111/b28531/vpd.htm#DBSEG98274
ON WHICH TABLES POLICY IS ATTACHED
high level test plan:
 https://mesh.pega.com/docs/DOC-78972
Policy not applied on ALTER TABLE STATEMENT
user should be notified about embed-namevaluepair 
to have validation that only embed-valuepair class is allowed for datapage list type while saving data-admin-db-name (pegadatabase)
thread.getpage()
use the class code-pega-list class to create loader activity for data page that sets values for pagelist and in pages & classes
use .pxResults() as page name and Embed-NameValuePair as class name
in the activity steps set following properties to "thread" etc..
.pyName
.pyValue

com.pega.pegarules.data.internal.clipboard.TestClipboardAutoPopulate.test_RefPageProp_with_SelfReferencedParameterChangesAfterEstablishingReference()
used for creating dta page with activity having parameters

for writing load activity for data page, this is super good
com.pega.pegarules.data.internal.clipboard.TestClipboardAutoPopulate.test_BUG97041_NonRef_PageList_Property_Persistence()

com.pega.pegarules.data.internal.clipboard.TestClipboardAutoPopulate class is very high quality and can be used for reference for any code


pxIns-719-Hyd-17

https://mesh.pega.com/docs/DOC-79090 OPEN ITEMS DOC FOR VPD STORY
https://mesh.pega.com/docs/DOC-77535 rowlevel security

EXCEPTIOn for 3 
data-admin-db-name should have help about embed-namevaluepair
refresh strategy about refreshing 

link for build watch schedule is avilable in merge schedule page https://mesh.pega.com/docs/DOC-78539

documentation bug:
rls-3707
bl-1826
prd-1666
proj-1752

General help about projects and code:
etc projects are independent projects like prddl useful for other projects present in dev
schemamanager in prddl project is the starting point for which the inputs are install or upgrade and the platfrom name like postgres/oracle/sql server
prddl/schema/master-xml has list of tables to be created during installation, similarly for upgrades we will have some other xml
we use xml because we want to standardize things for different platforms.
now using xml parsers jaxb objects are created using this xml file
using these jaxb and xsl files which are present for each platform separately, sql scripts will be generated during installation
so during installation tables will be created in database
during upgrade schemamanager generates xml from existing snapshot of the db and compare with jaxb objects of upgrade related xml file
diff will be generated and for that diff, xsl applied and sql will be generated so that only the diff sql scripts are executed

in prpublic project there is an interface called publicapi where methods are added which customers can access
prprivate-data is the project for datalayer where teir own classes are added
similarly we have prprivate-session, prprivate (engine related), prprivate-deploy 
prwebj2ee is the project for starting embedded tomcat


to view mesh docs go to places->data and search


Carboni, Sue <Susan.Carboni@pega.com>
design doc for vpd:
we will not be able to use data-admin-db-name belonging to pegarules and pegadata
edor:
https://mesh.pega.com/docs/DOC-78892 edor
https://mesh.pega.com/docs/DOC-78870 design doc
US-86286:Row Level Security using Oracle VPD Implementation
https://mesh.pega.com/docs/DOC-77535

Pega2015m
to kill lync use communicator.exe

kaushik story:
fix index generation in prddl
meshdoc 78685

vpd story:
https://mesh.pega.com/thread/45094 
epic-2679
design doc:
https://mesh.pega.com/docs/DOC-78870
Add JUNIT to validate custom properties defined are available in Connection/Session
. Add JUNIT to validate new settings defined in prconfig,Data-Admin-DB-Name
. Add JUNIT to validate custom properties are cleared from session when user returnConnection to pool.

. Validate AIG use case. 
       Create a Class with properties five properties. One of the property represent the security label. 
       prepare data page with custom properties as per defined contract. Add Security label to customProperties
       prepare policy function on DB to use these properties.
      add policy to a tables 
       validate whether displayed data for that class is as per Security Label.     


mesh doc for unique id generation:
-----------------------------------
https://mesh.pega.com/docs/DOC-78005
design doc:
https://mesh.pega.com/docs/DOC-78662
epic-9932
unique id generation can be sequence or random no, it can be common sequence or prefix specific sequence
two ways database sequence, where sql script has to be written for every platform separately
hazelcast method wher we use hazelcast iaTOMICLong to generate id
for persistin the id use map and listener
the method will be getDataUniqueID in class DatabaseImpl
the related table is dbo.pc_data_uniqueid 
and the related class is Data-UniqueID

rc1 revision 135975
rc2 revision 136760

how to get list of tests in junit:
--------------------------------------
disable pegarules configuration and run the tests immediately al tests fail an we can get the list
sqldeveloper
---------------
it exists by default in db home D:\app\jakkr\product\11.2.0\dbhome_4\sqldeveloper

postgres tomcat split schema config:
------------------------------------
<Resource name="jdbc/PegaRULES"
      	type="javax.sql.DataSource"
        username="postgres"
        password="Jntu@99g"
		driverClassName="org.postgresql.Driver"
        maxIdle="2"
        maxWait="5000"
        url="jdbc:postgresql://localhost:5432/postgres"
        maxActive="20"/>
<Environment name="prconfig/database/databases/PegaRULES/defaultSchema" value="splitruleslatest"
type="java.lang.String" />
<Environment name="prconfig/database/databases/PegaDATA/defaultSchema" value="splitdatalatest"
type="java.lang.String" />	

dsm api postgres tomcat config:
-------------------------------
		<Resource name="jdbc/PegaRULES" type="javax.sql.DataSource" username="postgres"  password="Jntu@99g" driverClassName="org.postgresql.Driver" maxIdle="2" 
		maxWait="5000"  url="jdbc:postgresql://localhost:5432/postgres" maxActive="20"/>
		
<Environment name="prconfig/database/databases/PegaRULES/defaultSchema" value="beta2_rules"
type="java.lang.String" />
<Environment name="prconfig/database/databases/PegaDATA/defaultSchema" value="beta2_data"
type="java.lang.String" />
<Environment name="prconfig/database/databases/postgres_ext/defaultSchema" value="externalschema"
type="java.lang.String" />


oracle 12c database for the team:
----------------------------------
oracle.jdbc.OracleDriver
           jdbc:oracle:thin:@10.150.113.15:1521:orcl

          Username:System
          Password:Admin1234#
beta2 revision no coreCode.coreCode.main.svnRevision=134550


shortcut fpr screen rotation
ctrl+alt+arrow keys

added package com.pega.ravi
added new file to package typeapi.demo
my branch is junitcleanup

to move task to some other story in pmf:
first say reassign and then select the option move task

latest merge slot update document:
https://mesh.pega.com/docs/DOC-66560?et=watches.email.document
to strike the slot use $ symbol at the top

checkin new file:
add svn:keywords property
also add $id comments line from existing file to here

current jdbc drivers:
prprivate/libnodist 

old jdbc drivers:
prprivate/libnodist/jdbc

forest:
https://www.youtube.com/watch?v=8Tb3VRZqItc

BUG-191700	
BUG-191249	
BUG-191323	
BUG-192034	

BUG-200011
BUG-198988
BUG-196269 dual user url configuration
BUG-196654
BUG-196428 dual user data source configuration

us-83985 user story for data source issue

epic-9932

def PEGA_COMMN_SCHEMA=beta2_singleuser
def DB_DATA_FILE_DIR=D:\app\jakkr\oradata\orcl

connect sys/welcome1@orcl as SYSDBA;

create tablespace &PEGA_COMMN_SCHEMA._PRPC logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA._PRPC01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;

create user &PEGA_COMMN_SCHEMA._PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

grant connect to &PEGA_COMMN_SCHEMA._PRPC;
grant create any table, create any index, create any view, create any trigger, create any sequence to &PEGA_COMMN_SCHEMA._PRPC;
grant connect, resource, create view to &PEGA_COMMN_SCHEMA._PRPC;

--drop user &PEGA_COMMN_SCHEMA._PRPC CASCADE;
--drop tablespace &PEGA_COMMN_SCHEMA._PRPC INCLUDING CONTENTS AND DATAFILES CASCADE CONSTRAINTS;



dual user configuration:
------------------------
def PEGA_COMMN_SCHEMA=beta2_dualuser
def DB_DATA_FILE_DIR=D:\app\jakkr\oradata\orcl

connect sys/welcome1@orcl as SYSDBA;

create tablespace &PEGA_COMMN_SCHEMA._PRPC logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA._PRPC01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;

create user &PEGA_COMMN_SCHEMA.deploy_PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

grant connect to &PEGA_COMMN_SCHEMA.deploy_PRPC;
grant CREATE SESSION,CREATE ANY TABLE,ALTER ANY TABLE,INSERT ANY TABLE,SELECT ANY TABLE,UPDATE ANY TABLE,DELETE ANY TABLE,CREATE ANY INDEX,CREATE ANY PROCEDURE,EXECUTE ANY PROCEDURE,CREATE ANY VIEW,CREATE ANY TYPE,CREATE ANY TRIGGER,
ALTER ANY TRIGGER,GRANT ANY OBJECT PRIVILEGE,DROP ANY TRIGGER,DROP ANY TABLE,DROP ANY PROCEDURE,DROP ANY VIEW,DROP ANY INDEX, ANALYZE ANY, ANALYZE ANY DICTIONARY to &PEGA_COMMN_SCHEMA.deploy_PRPC;
grant SELECT_CATALOG_ROLE to &PEGA_COMMN_SCHEMA.deploy_PRPC;

create user &PEGA_COMMN_SCHEMA.admin_PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

grant connect to &PEGA_COMMN_SCHEMA.admin_PRPC;
grant CREATE SESSION,CREATE ANY TABLE,ALTER ANY TABLE,INSERT ANY TABLE,SELECT ANY TABLE,UPDATE ANY TABLE,DELETE ANY TABLE,CREATE ANY INDEX,EXECUTE ANY PROCEDURE,GRANT ANY OBJECT PRIVILEGE,DROP ANY TABLE,DROP ANY INDEX, DROP ANY TRIGGER, ANALYZE ANY, ANALYZE ANY DICTIONARY, CREATE ANY VIEW, DROP ANY VIEW  to &PEGA_COMMN_SCHEMA.admin_PRPC;
grant SELECT_CATALOG_ROLE to &PEGA_COMMN_SCHEMA.admin_PRPC;

create user &PEGA_COMMN_SCHEMA._PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;
grant connect to &PEGA_COMMN_SCHEMA._PRPC;
grant CREATE SESSION to &PEGA_COMMN_SCHEMA._PRPC;


oracle installation:
---------------------
run deinstall command D:\app\jakkr\product\11.2.0\dbhome_3\deinstall\deinstall
delete registry entries using regedit
delete folders in D:\app\jakkr\product\11.2.0\

you have two binaries for 11.2g , select the option extract here for each of the zip files, things get extracted to database folder
run setup.exe present in database folder
give new home for new installation skip email id D:\app\jakkr\product\11.2.0\dbhome_4
give database name as orcl
give password as welcome1

installing 11g in wjakkrw7blr d:/app/jakkr/product and
Enterprise Manager Database Control URL - (orcl) :
https://localhost:1158/em

Your database configuration files have been installed in D:\app\jakkr while other components selected for installation have been installed in D:\app\jakkr\product\11.2.0\dbhome_4.  Be cautious not to accidentally delete these configuration files.

 12c in ljakkrw7blr e:/app/jakkr/product

report definiton:
--------------------
ensure that property names exactly match with column names in table including case
add a key like id(of type identifier) before creating properties
while typing column names in source fields in report definition form start with dot(.) , all the property names of the class should be listed
before running the report enter value in the criteria section, with which match is done before returning the results

deployment draft guide location:
---------------------------------
\\rpega.com\netdrives\JDrive\TechDoc-For Review\Install and Upgrade Guides\4_29

oracle script for dual user single schema setup
---------------------------------------------------
during installation enter beta2_dualuser_prpc as schema name and deployment user credentials

def PEGA_COMMN_SCHEMA=beta2_dualuser
def DB_DATA_FILE_DIR=D:\app\jakkr\oradata\orcl

connect sys/welcome1@orcl as SYSDBA;

create tablespace &PEGA_COMMN_SCHEMA._PRPC logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA._PRPC01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;

create user &PEGA_COMMN_SCHEMA.deploy_PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

grant connect to &PEGA_COMMN_SCHEMA.deploy_PRPC;
grant CREATE SESSION,CREATE ANY TABLE,ALTER ANY TABLE,INSERT ANY TABLE,SELECT ANY TABLE,UPDATE ANY TABLE,DELETE ANY TABLE,CREATE ANY INDEX,CREATE ANY PROCEDURE,EXECUTE ANY PROCEDURE,CREATE ANY VIEW,CREATE ANY TYPE,CREATE ANY TRIGGER,
ALTER ANY TRIGGER,GRANT ANY OBJECT PRIVILEGE,DROP ANY TRIGGER,DROP ANY TABLE,DROP ANY PROCEDURE,DROP ANY VIEW,DROP ANY INDEX, ANALYZE ANY, ANALYZE ANY DICTIONARY to &PEGA_COMMN_SCHEMA.deploy_PRPC;
grant SELECT_CATALOG_ROLE to &PEGA_COMMN_SCHEMA.deploy_PRPC;

create user &PEGA_COMMN_SCHEMA.admin_PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

grant connect to &PEGA_COMMN_SCHEMA.admin_PRPC;
grant CREATE SESSION,CREATE ANY TABLE,ALTER ANY TABLE,INSERT ANY TABLE,SELECT ANY TABLE,UPDATE ANY TABLE,DELETE ANY TABLE,CREATE ANY INDEX,EXECUTE ANY PROCEDURE,GRANT ANY OBJECT PRIVILEGE,DROP ANY TABLE,DROP ANY INDEX, DROP ANY TRIGGER, ANALYZE ANY, ANALYZE ANY DICTIONARY, CREATE ANY VIEW, DROP ANY VIEW  to &PEGA_COMMN_SCHEMA.admin_PRPC;
grant SELECT_CATALOG_ROLE to &PEGA_COMMN_SCHEMA.admin_PRPC;

create user &PEGA_COMMN_SCHEMA._PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;
grant connect to &PEGA_COMMN_SCHEMA._PRPC;
grant CREATE SESSION to &PEGA_COMMN_SCHEMA._PRPC;
	<env name="database/drivers" value="com.microsoft.sqlserver.jdbc.SQLServerDriver;oracle.jdbc.OracleDriver;com.ibm.db2.jcc.DB2Driver" />
	<env name="database/databases/PegaRULES/url" value="jdbc:sqlserver://localhost:1433;database=beta2_sqlserver_single;SelectMethod=cursor;SendStringParametersAsUnicode=false" />
	<env name="database/databases/PegaRULES/userName" value="sa" />
	<env name="database/databases/PegaRULES/password" value="jntu@99f"/>	
	
	query generated when integer column is primary key:
	create table dbo.TestTable1231430816805175(idravi int not null constraint pk_DB1430816815484 primary key) which is not valid in postgres
	search in prpc:
	------------------
	in search text box in prpc for searching any rule enter old:<rulename> and press enter
	test dsm api from prpc
	-----------------------
	create application and access app class
	create a data class PGRaviDB which does not belong to class group whose parent is data- sysadmin->class
	create new sysadmin->database by entering jdbc url , un, pw
	create an activity in app class with following java step 
	both class and database (like pegarules) are needed to get schema builder
	table gets created in the database passed to schemabuilder
	String className= "PGRaviClass";
PegaDatabase db = (PegaDatabase) tools.getDatabase();
try {
                com.pega.pegarules.priv.database.schema.PegaSchemaBuilder schemaBuilder= db.getSchemaBuilderForClass(className,"PGRaviDB");
                
                schemaBuilder.optimizeClass();
                schemaBuilder.optimizeProperty("id");
                schemaBuilder.optimizeProperty("name");             
    
              
                schemaBuilder.applySchemaChanges();
                
} catch (DatabaseException e) {
    oLog.infoForced("Failed while fetching data agents - "+e.toString());
}

further if you want to use the class to update the table create mapping by searching for the class data-admin-db-table and create new instance of 
it which define mapping between class and table
	
	activity to create table using schema builder:
	-------------------------------------------------
	Please find the attached patch. I have used following code in activity, below class and created MyEXT instance in Data-Admin-DB-Name. let me know if there are any issues.


String className= "SkyF-FreeFlow-Work-MyClass";
PegaDatabase db = (PegaDatabase) tools.getDatabase();
try {
                com.pega.pegarules.priv.database.schema.PegaSchemaBuilder schemaBuilder= db.getSchemaBuilderForClass(className,"MyEXT");
                
                schemaBuilder.optimizeClass();
                schemaBuilder.optimizeProperty("id");
                schemaBuilder.optimizeProperty("Name");
                schemaBuilder.optimizeProperty("Phone");
                schemaBuilder.optimizeProperty("salary");
                schemaBuilder.optimizeProperty("timeofdayf");
                schemaBuilder.optimizeProperty("Variablepay");
                schemaBuilder.optimizeProperty("Dateofjoining");
                schemaBuilder.optimizeProperty("Datetimef");
    
                schemaBuilder.setPrimaryKeyColumns("id");
                schemaBuilder.applySchemaChanges();
                
} catch (DatabaseException e) {
    oLog.error("Failed while fetching data agents - "+e.toString());
}


String className= "PGRaviClass";
PegaDatabase db = (PegaDatabase) tools.getDatabase();
try {
                com.pega.pegarules.priv.database.schema.PegaSchemaBuilder schemaBuilder= db.getSchemaBuilderForClass(className,"PGRaviDB");
                
                schemaBuilder.optimizeClass();
                schemaBuilder.optimizeProperty("id");
                schemaBuilder.optimizeProperty("name");             
    
              
                schemaBuilder.applySchemaChanges();
                
} catch (DatabaseException e) {
    oLog.infoForced("Failed while fetching data agents - "+e.toString());
}
	
	1 bug in postgres
	jdbc:sqlserver://WJAKKRW7BLR:1433;database=ml8_9464_apr29;SelectMethod=cursor;SendStringParametersAsUnicode=false"
	<env name="database/drivers" value="oracle.jdbc.OracleDriver" />
	<env name="database/databases/PegaRULES/url" value="jdbc:oracle:thin:@10.150.113.10:1521:orcl" />
	<env name="database/databases/PegaRULES/userName" value="PEGAADMIN" />
	<env name="database/databases/PegaRULES/password" value="pega" />
	<env name="database/databases/PegaRULES/defaultSchema" value="PEGARULES" />
	<env name="database/databases/PegaDATA/url" value="jdbc:oracle:thin:@10.150.113.10:1521:orcl" />
	<env name="database/databases/PegaDATA/userName" value="PEGAADMIN" />
	<env name="database/databases/PegaDATA/password" value="pega" />
	<env name="database/databases/PegaDATA/defaultSchema" value="PEGADATA" />
	
		<env name="database/drivers" value="com.microsoft.sqlserver.jdbc.SQLServerDriver" />
	<env name="database/databases/PegaRULES/url" value="jdbc:sqlserver://localhost:1433;database=betadatalayermt2;SelectMethod=cursor;SendStringParametersAsUnicode=false" />
	<env name="database/databases/PegaRULES/userName" value="sa" />
	<env name="database/databases/PegaRULES/password" value="jntu@99f"/>

	lock manager meshdoc:
	-----------------------
	https://mesh.pega.com/docs/DOC-77346
	
	https://mesh.pega.com/view-download.jspa?downloadID=463&community=2201
	create table dbo.ravitest111()
	
	java abstract class:
	----------------------
	subclass of an abstract class can be instantiated, so abstract class constructor will be called
	but abstarct class itself can not be instantiated and its test methods can not be called
	
	java constructors inheritance:
	------------------------------
	it is compulsory that base class constructor calls one of super class constructors
	if there is a no argument constructor in super class jvm automatically calls it
	in case there is no no arg constructor, that mean if super class has any other constructor then default no arg constructor will not work, still you can explicitly define no arg constructor
	then user need to explicitly call the specific constructor using Super keyword
	
	junit
	-----
	junit test project is saved in following location 
	E:\othertools\junit\junittest
	order of calls, first static things, so static block in super class, beforclass in super class (which is always static), then static block in baseclass and then beforclass
	now constructor in superclass, constructor in baseclass, beforemethod, test method
	constructors and beformethods are called for each test method
	now the after methods are called in any order after each test method
	finally afterclass method in base class, after class methods in super class
	super class before and after methods, test methods are not callled when when a subclass is run as junit test
	junit runs each of the test method using a new instance of the class, so if we have 5 test methods, junit creates 5 instances of the class and each 
	test method is called in a separate instance
	
	create class create table do mapping, report definition:
------------------------------------------------------------
can create class as data class as parent or any random class	
you can add properties to this specific class by context menu of the class, the names and types of the properties should match 
with columns of the table created manually 
right click on class create sysadmin->database this databae can be used for mapping to the class
search for data-admin-db-table class in app search box
in context menu select view instances and click on create instance
enter created database, enter newly created table, save it and click on test connection
right click on class, reports->report definition click
in the query tab select column of the table like .<column name> in column source field
in the next section also select column source and enter criteria, save the report definition

japan aig
-------------
doc-63223
us-63369
team dynamos entrprisedbmtvpd
virtual private database

load page activity with obj open and obj set:
---------------------------------------------------
								
				//Lets create a Load activity in Code-Pega-List class
				RuleObjActivity roaDeclLoader = new RuleObjActivity(this, ClassName.sListCriteria, "LoadAct1");
				roaDeclLoader.addParameter("UserName",RuleObjActivity.PARAM_STRING);
				roaDeclLoader.setActivityType(RuleObjActivity.TYPE_LOADDECLARATIVEPAGE);
				//roaDeclLoader.addPagesAndClassesEntry("pxResults()", ClassName.sOperatorIDDef);
				/*PropertySet step1= (PropertySet) roaDeclLoader.defineStep(1,RuleObjActivity.METHOD_PROPERTY_SET,null);
				step1.addSet(".pyObjClass", ClassName.sOperatorIDDef);*/
				ObjOpen astep2 = (ObjOpen) roaDeclLoader.defineStep(2,RuleObjActivity.METHOD_OBJ_OPEN,".pxResults(1)");
				astep2.setOpenClass(ClassName.sOperatorIDDef);
				astep2.addOpenKey(".pyUserIdentifier", "Param.UserName");
				roaDeclLoader.setActivityType(RuleObjActivity.TYPE_LOADDECLARATIVEPAGE);
				assertSave(roaDeclLoader);
				
				load activoity and declare page:
				RuleObjActivity roaDeclLoader = new RuleObjActivity(this, "Code-Pega-List", "LoadAct1");
//roaDeclLoader.addParameter("LabelValue",RuleObjActivity.PARAM_STRING);
roaDeclLoader.setActivityType(RuleObjActivity.TYPE_LOADDECLARATIVEPAGE);	
roaDeclLoader.addPagesAndClassesEntry(".pxResults()", "Embed-NameValuePair");
PropertySet step1= (PropertySet) roaDeclLoader.defineStep(1,RuleObjActivity.METHOD_PROPERTY_SET,".pxResults(1)");
step1.addSet(".pyName", "empid");
step1.addSet(".pyValue", "OperatorID.pyUserIdentifier");
roaDeclLoader.setActivityType(RuleObjActivity.TYPE_LOADDECLARATIVEPAGE);
assertSave(roaDeclLoader);
final String pageName = getID("Declare_test");
RuleDeclarePages rdp = new RuleDeclarePages(this, pageName);
rdp.setScope(Scope.thread);
rdp.setType(Type.readonly);				
rdp.setPageStructure("list");
rdp.setPageClass("Embed-NameValuePair");
rdp.setLoadActivity("LoadAct1");
//rdp.addDeclarePageParameter("Name", RuleDeclarePages.PARAM_STRING);
/*StringMap sm = new HashStringMap();
sm.putString("LabelValue","Param.Name");	*/	
rdp.addDataSourceofTypeLoadActivity(null, null, "LoadAct1", null);
assertSave(rdp);
ClipboardPage results = getTools().findPage(pageName);
assertEquals(mSession.getUserName(),results.getString(".pxResults(1).pyValue"));













US-95221:Automation of MT Test cases for Strikers Stories
Type api:
----------
to get database name from class:
		ClassDefinition cd = gDB.getClassDef(className);
		DatabaseName = cd.getDatabase();
		
		any genericinstance can be saved using usa.assertsave

runsql:
returns no of rows returned by sql query
it has a parameter to indicate whether enable/disable MT environment

good reference
Testcolumnpopulator:
we can get handle of the instance saved using clipboard page
using  instance.getString(PropertyName.sHandle); i.e using pzinskey
to get external schema for adatabase use 
extSchema = ConnectionManagerImpl.getInstance().getDefaultSchema(externalDB);
				connection = (DatabaseConnectionImpl)(PREngineProvider.getData().getConnectionManager().getConnection(
						dbName,
					mThread, mPerformingCritical));
get databaseconfiguration object for a database like pegarules
DatabaseConfiguration dbConfig = ConnectionManagerImpl.getInstance(false, true, null).getDBConfig("PegaRULES");
		/* Get configuration for this database. */
		DatabaseConfigurationImpl dbConfig = (DatabaseConfigurationImpl) getDBConfig(aDBName);
to get bootstrap properties 
		String cs = PRBootstrapDataSource.getBootstrapProperties().getProperty("com.pega.pegarules.bootstrap.codeset.version.Pega-EngineCode");
for authorization and multi user session multi session multisession refer
com.pega.pegarules.ui.tests.styles.TestAssemblingStaticContent.testCSSFileNamesDoNotChangeIfAccessedByTwoUsersWithNoOverrides()
com.pega.pegarules.data.internal.access.TestLockManager_HasWhen.TestLockManager_HasWhen(String)
com.pega.pegarules.ui.tests.styles.TestAssemblingStaticContentServlet.testStaticContentResolverCSSWithImageChecksumDoesNotChange()
com.pega.pegarules.data.internal.access.TestLockManagerExistsAPI.TestLockManagerExistsAPI(String)
com.pega.pegarules.exec.internal.async.TestPushEvents.TestPushEvents()

com.pega.pegarules.data.internal.clipboard.TestClipboardAutoPopulate to reference for loader activity for data pages or declare pages
to know about clipboard pages com.pega.pegarules.data.internal.clipboard.TestClipboardNew

use the class code-pega-list class to create loader activity for data page that sets values for pagelist and in pages & classes
use .pxResults() as page name and Embed-NameValuePair as class name
in the activity steps set following properties to "thread" etc..
.pyName
.pyValue
to get class names
com.pega.pegarules.common.DictionaryName
to get config setting as boolean value
 PREngineProvider.getExec().getSettings().getAsBoolean("/clipboard/EnableAutoPopulate", true);
to set value to prconfig entry 	PREngineProvider.getExec().getSettings().setSetting(aName, aValue);
use this activity com.pega.pegarules.exec.internal.declare.infengine.pages.TestDeclarativePagesNew.testDeclarativePageReadOnlyRemovePageListEntry()
to refer how to set values to properties of data page

in pr3unittest working set search for *utilities* and *data*pages* *declare*pages* to get references
about utility methods and data page methods
com.pega.pegarules.casemanagement.configureform.TestDataReference - data pages
all tests for declarative pages / data pages are present in following package and class name
com.pega.pegarules.exec.internal.declare.infengine.pages.TestDeclarativePagesNew
to get connection, the basic statement is
connection = (DatabaseConnectionImpl)(PREngineProvider.getData().getConnectionManager().getConnection(
						dbName,
					mThread, mPerformingCritical));
	using databaseimpl we can call as follows
gDB.getConnectionStore().getConnection(gExternalDBName)	
					
This can be called from databaseimpl
	DatabaseConnectionImpl connection = (DatabaseConnectionImpl) mCurrentTransaction.getConnectionStore().getConnection(ConnectionManagerImpl.getInstance().getBaseDBName());
to close connection
	gDB.getConnectionStore().returnConnection(conn, gExternalDBName);
	to get database platform use
	SchemaManager.getDatabasePlatform(conn.getRawConnection());
	
	getting a setting from prconfig file:
	isUsingDBLookupCheckToDecideIfItsADeclarePage = PREngineProvider.getExec().getSettings()
			.getAsBoolean("declarePages/ignoreDeclarePrefixCheck", false);
To get database config for specific database 
sourceConfig = ConnectionManagerImpl.getInstance().getDBConfig("PegaSchemaBuilder");
using this databaseconfig object we can get parameters like user name, password , url etc..

to get generic clipboard page
	ClipboardPage dbPage = ClipboardPageFactory.acquire();

	use classrule.getcopyofdefinition while saving the class so that implicit or dedicated table creation is avoided
Create thread and add it to container:
PRThread currentThread = sessionobj.getRequestor().getOrCreateThread(PRRequestor.sDefaultThread);
ThreadContainer.put(currentThread);
use usertestcase.getUniqueIDFromDB method to get unique id using the method getDataUniqueID(aOrg, aPrefix, aSuffix);
use this method getUniqueIDFromDB for referring threadcontainer, prthread, getrequestor, getdatabase etc..
			
pzinskey = pxobjclass + pxInsName
pxInsname = key1 ! key2
for database related testcases check testdatabase class which has around 200 tests
obtaining random clip board page:
		// First, clear out our old entries, just in case.
		ClipboardPage cpJunk = ClipboardPageFactory.acquire();
		
		use  executerdb method to run queries
		gDB.executeRDB(
				"delete from {Class:Data-UniqueID} where pyOrganization = 'junit.tmp'",
				cpJunk);
				
				for ddl statements use executedbschemaupdates method
				
generate session automatically:
 UserSession.autoGenerateUserSession(getID("junit"), PRRequestor.sTypeBrowser, false)
 lock manager multiple requestors test case:
 TestLockManagerNew

case management test cases:
main base test is CaseTypeBaseTest

to add compound key
			table.addMultipleColumnKeyConstraints(new String[] { "KeyCol1", "KeyCol2" });
to get database type 
int databasePlatform = getThread().getDatabase().getDBInfo("PegaRULES").getDatabaseType();
to compare database types use 	DatabaseInformation.DB_TYPE_DB2ZOS
to prepare list new HashSet<Integer>(Arrays.asList(
			DatabaseInformation.DB_TYPE_DB2ZOS
			));
activity , clipboard anaccessgroup related tests
 TestAccessGroupsLoadedToClipboard
usertestcase is the main clase where type api is implemented
check for the sub classes of usertestcase
testdemo and democommon can be used for reference and demo
prbootstrap.properties are located in E:\workspaces\HEAD02032015\pr3unittest\bin
testdabasenew can be used for database stuff
ruleassemblytestcommon class has all types of opeartors and rulesets implementation, best initialization
prengineprovider need to be explored
com.pega.pegarules.exec.internal.declare.infengine.TestTriggers for trigger activities
TestSystemSettings for system settings
  pzInsKey = getTools().getDatabase().findHandle(keys);
  AuthorizationTestCommon class called from TestAuthorizationBasics also is an example for initialization
testclassdefinitionnew class is about testing class and table

learnt creating class using ruleobjclass and it getcreator method
we can set parent, add external mappings, set whether it belongs to class group or not, set concrete
if we add key to the class, automatically that property gets created, though there can be some uses if we aging create the property
we have different method for adding single key or multiple keys to class (compound key)
we can add property for a class using ruleobjproperty constructor
we can create mapping for the class using DataAdminDBTable constructor, set table and database name (like pegarules) for the mapping object
assertsave() method can be used to save mapping etc..
getid(name) method can be used to genearte a random name which starts with the given name
TypeAPITable constructor can be used to create a table
we can add columns to it and save using create() method

To get schema info from prconfig, use getTools().getDatabase().getDBInfo("PegaRULES") method to
get dbinfo object of class DatabaseInformationImpl
dbinfo methods getDBConfig, getDatabaseType methods can be used to get further info
there are more methods available in dbconfig object like getDefaultSchemaFromSettings, getAdminUserName to get more info

getTools() method of UserSessionAction class is mor eimportant to get database, doActivity, createPage etc..
TOOLS SHOULD BE INITIALIZED BEFORE USING LIKE
	tools = this.getTools(); USING ACTION OBJECT
	database query can be executed by 
	tools.getDatabase().executeDBSchemaUpdates(Collections.singletonList("create table rps (id varchar(50))"), "PegaRULES", un, pw);
	
	db info can be obtained using tools.getDatabase().getDBInfo("PegaRULES")
	getthread () can be used instead of gettools to get database and to create page
	gettools, getthread and getpega has common functionality

to get values of standard entries from prconfig file:
PREngineProvider.getExec().getSettings().getSetting("database/databases/pegarules/username")
	PREngineProvider.getExec().getSettings().getSetting("test", "no setting"); can be used to assign some default value if that setting not available in prconfig

PREngineProvider.getExec().getSystemSettings() can be used to get system settings like dynamic system settings

ReportDefinitionsTestSetUp CAN BE USED FOR REPORT DEFINITION HELP, IT USES DatabaseTestCommon class useful for initialization
ReportingTestCommon can be used for initialization process
search for *testcommon to see different kinds of initialization classes
to add test data use com.pega.pegarules.data.internal.rd.data.TestData as base class extend it and add more methods
for different kinds of properties and saving them refere to jamie jentry class TestSaverNew
for data page related info refer to TestRuleReferencingNew
search for *new* classes in the package to get all recent test classes created using typeapi com.pega.pegarules.data.internal.access
clip board tests can be referred in com.pega.pegarules.data.internal.clipboard.ClipboardTestCase in this package
for report definition related tests refer to the package package com.pega.pegarules.data.internal.rd
also refer the package com.pega.pegarules.data.internal.reportdefinition.TestRegReportsWithFilters for testing reports
use the test class TestClipboardConverter for reference
for priveleges and authorization use com.pega.pegarules.session.internal.authorization;
for agents use com.pega.pegarules.session.internal.async and com.pega.pegarules.session.internal.async.agent
for many internal tests refer com.pega.pegarules.exec.internal
for typeapi demo com.pega.pegarules.engine.typeapi.demo
for sql related tests refer com.pega.pegarules.data.internal.access.rdb
for hazelcast related tests com.pega.pegarules.cluster.internal
for testing the connection between class and table, verify the class TestObjExternalTables
for testing data pages refer com.pega.pegarules.exec.internal.declare.infengine.pages.TestDataPageSourceInfo
to get values from page list use following code, refer com.pega.pegarules.data.internal.access.TestObjExternalTables.assertMessageInList(String, ClipboardPage, String)
final Iterator msgIter = aMsgList.getProperty(PropertyName.sClassConnectionReportMessages).iterator();
		while (msgIter.hasNext()) {
			final ClipboardPage listMsg = ((ClipboardProperty) msgIter.next())
					.getPageValue();
			final String msgInPage = listMsg.getString(PropertyName.sClassConnectionReportMessage);
in assertion methods use 	fail(aError); method to make it a fail
to test database mapping use the method validateClassConnection refer com.pega.pegarules.data.internal.access.TestObjExternalTables.testValidationFailsForHeadOfClassGroupMappedToExternalTable()
jie meshdoc for permissions:
 https://mesh.pega.com/docs/DOC-73014

 oracle database scripts used by erma are present in E:\prpctesting\DATALAYER\oracle scripts

sql server default port 1433
server: wjakkrw7blr
password: jntu@99f
       	<env name="database/drivers" value="com.microsoft.sqlserver.jdbc.SQLServerDriver" />
	<env name="database/databases/PegaRULES/url" value="jdbc:sqlserver://localhost:1433;database=ml8beta1;SelectMethod=cursor;SendStringParametersAsUnicode=false" />
	<env name="database/databases/PegaRULES/userName" value="sa" />
	<env name="database/databases/PegaRULES/password" value="jntu@99f"/>	
EPIC-9932
EXECUTEDBADDINDEXTABLE IN DATABASEIMPL
hyd extn: 181
met
testInvalidationByOverrideImageRuleInHigherRS 
class
TestAssemblingStaticContentServlet 

postgres deployment issues:

https://mesh.pega.com/docs/DOC-76322
7702, 10814
found same permissions for base and admin users in documentation
for deployment user single schema, owned schemas is missing
search path is not mentioned in deployment doc
did not understand using postgrestool to create user accounts
search path and commands should be mentioned in deployment document
build2 (file://WJAKKRW7BLR/build2)
ml8_customBuild (file://WFOGLKW7/ml8_customBuild)

single schema:
---------------
DROP SCHEMA IF EXISTS singleschema CASCADE;
DROP USER IF EXISTS baseuser;
DROP USER IF EXISTS ssdepuser;
CREATE USER ssdepuser PASSWORD 'prpc';
CREATE USER baseuser PASSWORD 'prpc';
CREATE SCHEMA singleschema AUTHORIZATION ssdepuser;
GRANT USAGE ON SCHEMA singleschema TO baseuser;
ALTER DEFAULT PRIVILEGES FOR USER ssdepuser IN SCHEMA singleschema GRANT ALL ON TABLES TO baseuser;

split schema:
-------------
DROP SCHEMA IF EXISTS splitrulesschema CASCADE;
DROP SCHEMA IF EXISTS splitdataschema CASCADE;
DROP USER IF EXISTS baseuser;
DROP USER IF EXISTS ssdepuser;
CREATE USER ssdepuser PASSWORD 'prpc';
CREATE USER baseuser PASSWORD 'prpc';
CREATE SCHEMA splitrulesschema AUTHORIZATION ssdepuser;
CREATE SCHEMA splitdataschema AUTHORIZATION ssdepuser;
GRANT USAGE ON SCHEMA splitrulesschema TO baseuser;
ALTER DEFAULT PRIVILEGES FOR USER ssdepuser IN SCHEMA splitrulesschema GRANT ALL ON TABLES TO baseuser;
GRANT USAGE ON SCHEMA splitdataschema TO baseuser;
ALTER DEFAULT PRIVILEGES FOR USER ssdepuser IN SCHEMA splitdataschema GRANT ALL ON TABLES TO baseuser;
ALTER DEFAULT PRIVILEGES IN SCHEMA splitrulesschema GRANT EXECUTE ON FUNCTIONS  TO baseuser;
ALTER DEFAULT PRIVILEGES IN SCHEMA splitdataschema GRANT EXECUTE ON FUNCTIONS  TO baseuser;

upgrade schema split:
---------------------
CREATE SCHEMA upgradedrulesschemaml8 AUTHORIZATION ssdepuserml7;
GRANT USAGE ON SCHEMA upgradedrulesschemaml8 TO baseuserml7;
ALTER DEFAULT PRIVILEGES FOR USER ssdepuserml7 IN SCHEMA upgradedrulesschemaml8 GRANT ALL ON TABLES TO baseuserml7;
CREATE SCHEMA upgradeddataschemaml8 AUTHORIZATION ssdepuserml7;
GRANT USAGE ON SCHEMA upgradeddataschemaml8 TO baseuserml7;
ALTER DEFAULT PRIVILEGES FOR USER ssdepuserml7 IN SCHEMA upgradeddataschemaml8 GRANT ALL ON TABLES TO baseuserml7;
ALTER DEFAULT PRIVILEGES IN SCHEMA upgradedrulesschemaml8 GRANT EXECUTE ON FUNCTIONS TO baseuserml7;
ALTER DEFAULT PRIVILEGES IN SCHEMA upgradeddataschemaml8 GRANT EXECUTE ON FUNCTIONS TO baseuserml7;

for dual user oracle setup we can have jndi configuration as well as url configuration:
jndi configuration:
<env name="database/databases/pegarules/defaultSchema" value="dualsetup2_PRPC" />
    <env name="database/databases/pegarules/datasource" value="p718Oracle" />
    <res name="p718Oracle" type="javax.sql.DataSource" driverClassName="oracle.jdbc.OracleDriver"  url="jdbc:oracle:thin:@10.150.113.10:1521:orcl" username="dualsetup2_PRPC" password="prpc"  
maxActive="500" maxIdle="250" maxWait="-1" />
    <env name="database/databases/pegarules/datasourceadmin" value="p718OracleAdmin" />
    <res name="p718OracleAdmin" type="javax.sql.DataSource"  driverClassName="oracle.jdbc.OracleDriver" url="jdbc:oracle:thin:@10.150.113.10:1521:orcl"  
username="dualsetup2ADMIN_PRPC" password="prpc"  maxActive="500" maxIdle="250" maxWait="-1" />

url configuration:
       
       <env name="database/databases/PegaRULES/defaultSchema" value="dualsetup2_PRPC" />
       <env name="database/databases/PegaRULES/url" value="jdbc:oracle:thin:@10.150.113.10:1521:orcl"/>
       <env name="database/drivers" value="oracle.jdbc.OracleDriver"/>
       <env name="database/databases/PegaRULES/adminUserName" value="dualsetup2ADMIN_PRPC"/>
       <env name="database/databases/PegaRULES/adminPassWord" value="prpc"/>
       <env name="database/databases/PegaRULES/userName" value="dualsetup2_PRPC"/>
       <env name="database/databases/PegaRULES/password" value="prpc"/>
oracle db installation:
us-83077
https://mesh.pega.com/docs/DOC-73560
https://mesh.pega.com/docs/DOC-74859
https://mesh.pega.com/docs/DOC-73014
14223
GAYA TO VARANASI
25
19168
VARANSI TO JHANSI
26
12708
JHANSI TO KACHEGUDA
9164566950
64

create dedicated table and add columns to it:
--------------------------------------------
create a property in work class
start creating new class which is subclass of work class with the same class as class group
important thing is we should add a key for the class so that a dedicated table is created for the class
click on "test connection" button to see the table that it has created
the table has many default columns get created automatically, where pzpvstream is an image/varbinary type column
if you want to add the column which is added as key or some other column to the table, go to the property in designer studio
and in the context menu click on "optimize for reporting", the property gets added as column for the table

image or varbinary columns:
-------------------------------
the following image / varbinary columns are present in PRPC
pzpvstream appears in most of the work classes
pzbinarycontent appears in pr_engineclasses table


types of configuration:
using jndi name
using url for database

varbinary (max) column in sqlserver
-----------------------------------
old column remain as image type and nde will be var binary, even during upgrades
online table creation when class results in dedicated table

code merge 25/03/2015
tracked in e:/prpctesting/buildwatch folder

electricity  bill payment bangalore:
ravi740136@gmail.com
jntu@99f

BUG-196269: made junit changes to test DSM API with dual user setup

junit help:
JUnit creates a new instance of the testing class for each @Test
to share functionality
use one class in static block
use another class in constructer using super() by extending the class
junit runs the constructor of the class before each test method
initialize variables in super class constructor
use it in the test methods

http://rentals.sulekha.com/ad/2276958
The changes made to your Ad will be available online immediately.
Your Ad ID:2276958 is updated

Flat available for Rent at ManiKonda. Area measuring 1200 Sq.Feet, 2 BHK Fully furnished flat is positioned at 2 floor. Rent Amount: Rs.12000 per month.

Very close to heritage fresh, reliance fresh , banks, schools etc..(within 300 m)

It is east facing fully furnished corner flat with big hall, Pooja room, one balcony and wash area, cellar car parking

fully furnished with following things 

complete wood work, sofa, dining table, double door fridge, automatic washing machine, double cots with beds, TV

6.3 kms from Financial District

6.8 kms from Hitech city

7 kms from Jubilee hills check post

9 KMs from Mehdipatnam

10 kms from Banjara hills

tart Listener Status
Listener 'Data-Admin-Connect-FileListener:UploadUtilityManifestListener.(com.pega.pegarules.integration.engine.internal.services.file.FileListener)/0' failed to start because of the following error:
   Failed to launch listener, com.pega.pegarules.pub.PRException: Failed to start listener: File.UploadUtilityManifestListener From: (BD74DCEDE1B2419D3E859D5208A553784:(MBean Access))

(Use this ID number for all future communications regarding your My classified Ads/Property listing on Sulekha Property.) 
SMA URL:
----------
http://localhost:<PORT>/prsysmgmt
click on +  button to add node
give any node name like "ravi mnachi ne"
please select sma is connecting locally using the option "Locl JVM Connection"
corect prprc url according to ur port number and then submit
noe gets added
click on the node -> advanced -> reports
or agent management -> agents


svn info for coreassembly build:
--------------------------------
can be found in the file info/lastvalidated.properties
also mor easily we can get the build no from info/buildinfo.java using the entry code_build = 
now in prpublic project history see the version no for the particular code build
update your code to that particular revision

cREATING NEW BRANCH in eclipse:
---------------------------------
1. Right click on trunk folder
2. say create new branch and browse to the folder where you want to create the branch and enter new branch name in the path like /testbranch
3. enter comment and submit

db2 zos vm with data studio:
User name:   vengwin104
Password: Pega2012

zos configurtion:
jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST97DBO;currentSchema=DST97DBO;useJDBC4ColumnNameAndLabelSemantics=2
1. DROP TABLE NOT WORKING FOR PARTITIONS JUNITS BECAUSE TRUE OPTION NOT USED (failure in clean up)
2. partions assertion fail with external schema
3. new test case testcreatetablewithdatettimepartition failed with oracle
sql server:
	<env name="database/drivers" value="com.microsoft.sqlserver.jdbc.SQLServerDriver" />
	<env name="database/databases/PegaRULES/url" value="jdbc:sqlserver://10.225.69.18:1435;database=eng_te_2922;SelectMethod=cursor;SendStringParametersAsUnicode=false" />
	<env name="database/databases/PegaRULES/userName" value="eng_te_2922" />
	<env name="database/databases/PegaRULES/password" value="eng_te_2922"/>	
	<env name="database/databases/PegaRULES/defaultSchema" value="rules" />
	<env name="database/databases/PegaDATA/url" value="jdbc:sqlserver://10.225.69.18:1435;database=eng_te_2922;SelectMethod=cursor;SendStringParametersAsUnicode=false" />
	<env name="database/databases/PegaDATA/userName" value="eng_te_2922" />
	<env name="database/databases/PegaDATA/password" value="eng_te_2922"/>
<env name="database/databases/PegaDATA/defaultSchema" value="data" />

TC-83194
US-78826

negative test cases:
drop table which does not exists , should throw an exception


delete mappings
delete classes
crucible review comments:
https://meshsrc.pega.com/fisheye/cru/cr-prpc-2097

connection string for zos database:
jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST97DBO;currentSchema=DST97DBO;useJDBC4ColumnNameAndLabelSemantics=2

ex
https://mesh.pega.com/docs/DOC-70674
us-58832
US-76973 
prsyslocks table should be referred
page create operator column
DefragSysLocksDaemon
mExecutionInterval

ML8 Test plan:

https://mesh.pega.com/docs/DOC-71228
eXPLORATORY TESTING:
ST-4740

exploratory testing:
https://mesh.pega.com/docs/DOC-72296

BBM SAMRUDDHI:
http://bangalore.quikr.com/BMRDA-Approved-22-Acres-Gated-Community-Residential-Layout-Varthur-On-Sarjapur-Road-Newly-Extention-W0QQAdIdZ166148714

SABIR EXT:
2277

teradata:
Fogla, Kaushik 18:11
http://www-01.ibm.com/support/knowledgecenter/SSZJPZ_8.1.0/com.ibm.swg.im.iis.productization.iisinfsv.install.doc/topics/wsisinst_config_pe_tera_createusr.html

http://forums.teradata.com/forum/general/samples-database-and-create-database

<env name="database/drivers" value="org.postgresql.Driver;com.teradata.jdbc.TeraDriver" />
This conversation is being saved in your Outlook Inbox folder.



http://www.magicbricks.com/bricks/viewProperty.html?id=1%20qWMVlzFSBzpSvf%20uAgZw==&utm_source=mailer_PRS&utm_medium=mailer&utm_campaign=PRS&alertType=PRS&age=1&relaxation=RadiusSearch&userType=I&name=Ravi&emailid=ravi740136@gmail.com&mobile=8496801510&userMobileCountry=50&VM=6&SL=PRS2
com.pega.pegarules.pub.database.DuplicateKeyException
Login password:
radha74013
jntu@99f

block26103b

radha740136
Pega@99n

partitioning:
DOC-70185
test cases:
different data types
primary key


ECLIPSE REFERENCES:
we can see references for a method , to see how people have called it using refrences-> project or references->workspace etc..
doubts:
is it able to test whether given schema is present or not
if table exists for given class, do we need to have overwrite option


schemabuilder, schemabuilderutil, pegaschemabuilder
test sequence like create table , create view, index, drop table
schemamanager, indexes, xml schema, table schema, external schema
Table.java
classmapimpl.java
dictionaryimpl.java
rule-obj-property
testlists.java
propertyinfobase.java
testcolumns.java

schemabuilder interface:
https://mesh.pega.com/docs/DOC-69603
for table created, we have to create prpc class mappingh to it

help doc for create table:
https://mesh.pega.com/docs/DOC-69165?et=notification.send

builds location:
\\Wkanur1w7\Builds

HDFC ACCOUNT NO: 50100006046616
NAME: RAVI PRAKASA RAO JAKKAMPUTI
IFSC CODE: HDFC0000075 
Branch: bangalore old airport road

us-45273 create table apis:
sql generator and schema manager are useful in create table using given data
generateschemaforclass
data-admin-db-table

doubts:
testing updates with image and varbinary columns
understood about image what about blob
splitting a schema with image columns
difference between updates and upgrades and installs
functionality related with image columns
what is special about split schema, is there nothing to testing while installing without split schema
are image columns not upgraded to varbinary
if migrate data is done by some body else, what are we doing regarding changing data typoe from image to varbinary
did not understand whether we should cover other app severs


solutions:
use schemamanager , generate ddl query and run to create table
add primary key constraint
get schema name from data-admin-db-name
internal tables?
drop table and not class
drop cascaded means  drop indexes etc
how do we constraints through API

max size in varbinary is flexible than image

online table creation:
when we create data class table gets created this is called online table creation

us-72109
us-68021
us-71713

run stats 
query optmizer

gmail:
ravitownship
block26103s

father address:
Address:
J.Seshaiah Naidu Garu
D.No:2-5/4,
MSR Complex,Srinivasapuram,
Tiruchanuru Road,
Tirupathi
panasonic service centre:
--------------------------
08040101010

ravi credit card netsafe
---------------------------
user id: ravi740136cc
jntu@99f

Aalpha testing:
multiple databases, platform testing

dm.bangalore-do2@licindia.com : lic mail id

restart machine using rdp:
alt + f4

my hdffc:
50690945 

hdfc netsafe pwd:
jntu@99f

my axis:
008043257
icici user ids:
ravi: 538461130 a/c no:107501522525 user id: ravi740136 password: pega
537416793 a/c no:107501521664 user id: radha740136 pegan


http://docs.oracle.com/javase/tutorial/

apache repos:
https://svn.apache.org/repos/asf/
mockito, slf4j, log4j, jsoup, stax, joda time, dozer, quartz, hazelcast, xerces, xalan, aspectj, velocity, 
httpclient
Enable/disable agents:
-------------------------
enable/disable in SMA
DELETE DAQ IT WILL BE COPIED FROM raq when node restarted 
customizations get removed
master agent has to check to not create daq for disabled agents
where to store enable/disable status of agents/nodes
in DI table enable/disable has to be stored, where status is stored currently
disable all nodes of the agent
sqlgenerator
executerdb:
hashjoin
databaseimpl


metadata table because RAQ can be locked
new table should lie in data schema
category is added as column for data-agen-metadata
it can be set of property and value columns
it can be a blob containing properties

distributed data structure is used for storing time, last run

category add/update/delete
raq is default behaviour which gets copied to daq for first time

Mamatha extn:
3521
first node: 51
second node: 0e

tomcat installation:
place setenv file with following arguments in bin location
set JAVA_OPTS=-Xms1024m -Xmx2048m -XX:PermSize=64m -XX:MaxPermSize=384m -Djava.awt.headless=true

oracle sqlplus connect:
sqlplus / as sysdba
connect sys/ravi@orcl as SYSDBA



Deshaw@99j
Pega@99n
pegas
Jntu@99g
3663
4113

50690945
008043257
Jntu@99i 
ravi740136
ravi740136

Websphere instance:
http://10.225.68.202:9081/prweb/PRServlet

pf account no:
32184/377
raghu rao:
040-66390806

hdfc:
50690945
560103
Pega@99n

idbi home loan:mousumimoi
my sony:
sony sve151b11w

\\rpega.com\netdrives\RulesFS\Eclipse

http://hydscm.rpega.com/svn/PRPC_core
HOW TO APPLY PATCH:
http://camscm.rpega.com/svn/PRPC_core
click on icon to the right of "quick access"
my account no: pf and bank
Bank Account Number
'50100006046616
Location
Bangalore
P.F. Number
AP/HY/61472/000931

uan: 100062811787

prconfig file for datalayer:
E:\workspaces\PRDDLBranch12012015\pr3unittest\src\jakkr-prconfig.xml

we did not select pegarules ejb engine in step2

DB Credentials:
user: mar5_PRPC
password: prpc
dbname: rahul
server: 10.150.111.60
rahul

old schema user name: feb12_PRPC

connection string:
jdbc:oracle:thin:@10.150.111.60:1521:rahul

PRPC Instance Details	10.225.68.202 
http://10.225.68.202:9081/prweb/PRServlet
admin admin123
Credentials: administrator/pegasys1+

Location of prhelp files:
\\WRATHR1W7\Prhelp

latest ear file location:
\\WRATHR1W7\Build

Old database user credentials:
user: feb6_prpc
password: welcome

administrator@pega.com password install
each the password rules: Admin@ravi, Manager@ravi, and User@ravi.

rahul instance:
http://10.150.111.60:8080/prweb/PRServlet/

URL TO LOG VM REQUESTS:
http://10.225.68.172:8080/prweb/PRWebLDAP1 <http://10.225.68.172:8080/prweb/PRWebLDAP1/61ham-bZGqgr3uvIHRv7sg%5b%5b%2a/%21STANDARD> 

Awardhan:
http://10.150.111.45:7001/prweb/PRServlet
rahul:
http://10.150.111.60:8080/prweb/PRServlet/
ajith:

ravi:
http://10.225.68.202:9081/prweb/PRServlet

Doubts:
– In the Specification field, enter file:///nulfil for Windows or file:///dev/null for UNIX/Linux.
2.	Set the Scope level appropriate to your deployment, and click on the Default URL Provider link. (This step was missing)
3. One more thing is we may need to test https enabled also

To run prpc installer:
------------------------
D:\coreBuildDistributionImage>java -Xmx1024m -jar PRPC_Setup.jar

suggestions:
persistence enabled is a duplicate field
dollar missing
specify subsystem for <default-missing-method-permissions-deny-access value="false"/>
JBOSS_EAP_HOME/bin/standalone.bat --server-config=standalone-full.xml -b 0.0.0.0

http://planet.jboss.org/post/how_to_create_an_manage_datasources_in_as7

SQL Server help:
user name:sa 
password is pegasys1+ 


conector soap
service soap

my vm instance:
http://10.225.68.151:9080/prweb/PRServlet/beEBp4uRVTogorRwSwWqbOtn9IL2fwdI*/!STANDARD?

my local instance:
http://localhost:8080/prweb/PRServlet/beEBp4uRVTogorRwSwWqbOtn9IL2fwdI*/!STANDARD?
http://10.150.111.154:8080/prweb/PRServlet/beEBp4uRVTogorRwSwWqbOtn9IL2fwdI*/!STANDARD?

connect ejb:
https://pdn.pega.com/help-system/prpc/62-sp1/connect-ejb-form-completing-the-create-tab


Congratulations on creating your new raviapp application. 
As part of the creation process, you generated the following operators and gave them each the password rules: Admin@ravi1, Manager@ravi1, and User@ravi1.
Please log off and sign back in as Admin@ravi1 to access this application and continue building your product.

ongratulations on creating your new raviapp2 application. 

As part of the creation process, you generated the following operators and gave them each the password rules: Admin@raviorg, Manager@raviorg, and User@raviorg.

Please log off and sign back in as Admin@raviorg to access this application and continue building your product.

create application :
from pegarules menu, finally it will give users with password "rules"

Create soap service:
open records->Integration-services->services SOAP to create soap service
open records->integration-connectors->connect SOAP to connect to a soap service

Integration services:
https://pdn.pega.com/node/8840

https://pdn.pega.com/integration/create-and-test-soap-sap-and-rest-data-source
https://pdn.pega.com/help-system/prpc/62-sp1/service-soap-form-completing-the-service-tab
https://pdn.pega.com/sites/pdn.pega.com/files/help_v71/procomhelpmain.htm#rule-/rule-service-/rule-service-soap/main.htm
https://pdn.pega.com/browse/prpc-topics/integration
http://pdn.pega.com/DevNet/PRPCv5/IntegrationServices/intsvcs_Index.asp
https://pdn.pega.com/sites/pdn.pega.com/files/help_v71/procomhelpmain.htm#rule-/rule-service-/rule-service-ejb/testing.htm
https://pdn.pega.com/sites/pdn.pega.com/files/help_v71/procomhelpmain.htm#rule-/rule-service-/rule-service-ejb/main.htm%3FTocPath%3DBuilding%20Applications%7CIntegrating%20with%20Other%20Systems%7CIntegration%20Services%20category%7C_____5

connector ejb help:
https://pdn.pega.com/sites/pdn.pega.com/files/help_v71/tools/integrationaccelerator/aboutgenerateconnectrules.htm

process commander classpath help:
https://pdn.pega.com/java-and-activities/about-the-process-commander-51-class-paths

Weblogic server user name password:
user name: weblogic
password: welcome1
oracle.jdbc.xa.client.OracleXADataSource

My weblogic instance:
console login:
http://localhost:7001/console/login/LoginForm.jsp
user:weblogic
password:welcome1
http://localhost:7001/prweb/PRServlet
instaalation location:
E:\Oracle\Middleware\user_projects\domains\base_domain\bin
to start server:
startweblogic.cmd from E:\Oracle\Middleware\user_projects\domains\base_domain

prpc 7.1 help for connectors:
https://pdn.pega.com/sites/pdn.pega.com/files/help_v71/procomhelpmain.htm#data-/data-admin-/data-admin-connect-/data-admin-connect-jndiserver/main.htm

sql server installation:
jdbc:sqlserver://10.150.113.15:1433;database=ml8_multi;SelectMethod=cursor;SendStringParametersAsUnicode=false"

sa password: jntu@99f
administarator: rpega\jakkampr

mysql installation:
root password: ravi

users:
user id: ravi
passowrd: ravi
userid: ravi1
password: ravi1

Latest success db details for jboss:
 <connection-url>jdbc:oracle:thin:@10.225.68.202:1521:win</connection-url>
                    <driver-class>oracle.jdbc.OracleDriver</driver-class>
                    <driver>oracle</driver>
                    <security>
                        <user-name>mar20_PRPC</user-name>
                        <password>prpc</password>
						
						
oracle database instance got created in my machine:
------------------------------------------------------
						db name: orcl.rpega.com
password: ravi (admin/sys/sysdba)
user id: sys
login as sysdba

latest user created with all permissions:
prpcuser2
password:ravi

schema name:prpcuser2

to access admin console:
https://localhost:1158/em

databases are stored in:
E:\DATABASES\Oracle

prpc testing is stored in:
E:\prpctesting

Dtabase created by rahul in my machine:
mar22_PRPC
prpc

 10.150.111.154
orcl

PRPC INSTANCE IS UP AND RUNNING IN:

while using my database:
ensure that i use local host instead of the ip address as it is running as local system and not as network


Kaushik share:
\\WFOGLKW7\softwares

database for websphere on mar 24:
prpcuserm23
password:ravi

acidic alkaline chart:
http://greenopedia.com/alkaline-acid-food-chart/

use start/stop buttons for starting or stopping the server
use uninstall button to uninstall the server

to start oracle services:

run services.msc
start the service oracle dbservice, oracleconsole, tnslistener, clragent

to start websphere:
first kill wasservice.exe from taskmanager, if it is still running and also java.exe
C:\Program Files (x86)\IBM\WebSphere\AppServer\profiles\AppSrv01\bin
startserver.bat server1
stopserver.bat server1 (optionally we can use -username admin -password ravi)

Websphere logs location:
C:\Program Files (x86)\IBM\WebSphere\AppServer\profiles\AppSrv01\logs\server1
delete ear files from websphere installation:
C:\Program Files (x86)\IBM\WebSphere\AppServer\profiles\AppSrv01\installedApps\WJAKKRW7BLRNode01Cell

websphere admin console:
websphere default port for admin console is 9043
https://localhost:9043/ibm/console

Weblogic console:
weblogic
welcome1

praveen share:
10.150.111.131\softwares

welcome1

websphere urls:
console:
https://wjakkrw7blr.rpega.com:9043/ibm/console
application:
http://localhost:9080/prweb/PRServlet

it is better to remove deployments and start the webshere server

jdbc:oracle:thin:@10.150.111.60:1521:rahul
mar23ravi_prpc(installer ran already using for current websphere testing)
mar23raviold_prpc
mar24ravi_prpc(instalDownloading the ler ran already and using)

sqldeveloper location:
E:\prpcbackup\sqldeveloper

command to create new user for oracle:
sqlplus / as sysdba
@createuser.sql

how to deal with file names having space in the path:
----------------------------------------------------
from program files(x86) use C:\\progra~2
for program files use C:\\progra~1

deploying ejb in websphere:
-----------------------------
care has to be taken while creating jar file after editing properties in created sampleejb.jar
use the command jar cf samplephonebookproxy.jar *
even deployment is done using ant script

Build images can be found in:
http://pegabuild3/out/coreAssembly/71HEAD/

restful services testing:
http://tinyurl.com/zhy5

oldweblogic instance db where the services are working fine:
user=prpcuser2

coredistribution help:
http://pegabuild3/out/coreAssembly/HEAD/ to get ml7 build
http://pegabuild3/out/coreAssembly/71HEAD/ to get ML6
http://pegabuild3/out/coreAssembly/
download coredistribution imaze zip file

PEGA BUILDS:
You can see the nightly build status at,
https://meshbuild.pega.com/bamboo/allPlans.action

last successful build:
https://meshbuild.pega.com/bamboo/browse/PRPC71-COREASSEMBLY/latestSuccessful

there are two links
https://meshbuild.pega.com/bamboo/browse/PRPC71– ML5
https://meshbuild.pega.com/bamboo/browse/PRPCHEADCV – Trunk
to see latest builds status:
https://meshbuild.pega.com/bamboo/browse/PRPCHEADCV-COREASSEMBLY

Workmanagers help:
https://mesh.pega.com/docs/DOC-49665

my laptop url:
http://10.150.101.68:7001/prweb/PRServlet
websphere:
http://10.150.101.68:9080/prweb/PRServlet

PegaSample-Task.CollectData 

useful file for ejb testing:
/StaticContent/global/ServiceExport/RCEJBTestClient/ConnectSamples_SampleWork_TestConnectEJBExposedService1_Tester.java 	

To add to application classpath:
------------------------------
add to the folder app-inf lib

websphere class path:
-----------------------
It depends why you want to add it. Do you need access to log4j from within your applications, if so 
you can add it into the application (i.e. in the WEB-INF/lib directory), if you are writing a component 
that needs to run within the WebSphere runtime (i.e. a JMX library) then you can put it into 
WebSphere/AppServer/lib/ext

websphere forgot password:
-----------------------------
1.<WAS_INSTALL_DIR>/bin/> wsadmin -conntype NONE 
2.wsadmin> securityoff 
3.wsadmin> exit 
4.Restart the servers. 
5.Enable the security from administrative console. 
6.Restart the servers.


urls:
org.jboss.naming.remote.client.InitialContextFactory
remote://10.150.111.91:4447

iiop://localhost:2809
com.ibm.websphere.naming.WsnInitialContextFactory

pegarules.sample.ejb.InitialContextFactory=weblogic.jndi.WLInitialContextFactory
pegarules.sample.ejb.ProviderURL=t3://localhost:7001

UNIT TESTING:
--------------------
Starts at MasterSmokeTestSuite.java in package package com.pega.pegarules.unittest in project pr3unittest

my weblogic instance:
--------------------------
uses the db 
pega.jdbc.url=jdbc:oracle:thin:@//localhost:1521/orcl.rpega.com
pega.jdbc.username=apr412pm_prpc

ear file is in E:\prpctesting\apr412pm_471

phonebook ejb:
-------------------
restart the server after importing the sample application, then only activity will work correctly

srinivas ip address:
10.150.111.150
http://10.150.111.150:8080/prweb/PRServlet

ejb user for jboss in srini server:
--------------------------------------
user: ejbuser password: ejbuser123#
ZWpidXNlcjEyMyM=
10.150.111.150

rahul latest ip:
-----------------
10.150.111.32

cactus help:
--------------
https://jakarta.apache.org/cactus/resources/resources_cactus.html
venu wonders sreenu:
https://www.youtube.com/watch?v=KcCHYzq3yGE
JUNITEE TEST URL:
--------------------
http://localhost:9080/CalculatorTestWebApp/JUnitEE


my jboss ejb service credentials:
user1234
user1234#
dXNlcjEyMzQj

weblogic classpath location:
---------------------------
E:\prpctesting\Oracle\Middleware\user_projects\domains\prpc\servers\AdminServer\tmp\_WL_user\prpc_j2ee14\2zj6g8\APP-INF\lib

my vm details:
---------------
10.150.68.24 
te/Testeng!

SVN CHECKOUT:
------------------
open svn repositories perspective
New-> repository location
http://hydscm.rpega.com/svn/PRPC_core
base->71head->dev->core and say checkout
pxVal-717-Hyd-1028


PQD Link:
------------
http://pqd.pega.com:9080/prweb/PegaSSO 
71ML5_CoreEngine_Strikers_NONMT_RT
tp_2801

start weblogic in debug mode:
------------------------------
debug_flag = true condition bring out the statement out side the if condition
stat new remote java application, set port as 8453
add all projects in source tab

Debugging logs:
-------------------
691769
f5 for all debugging
f6 to avoid method inside
f7 to come out of method

in eclipse we have a button to skip all break points, to work with break points we should disable it
log leven can be set for admin server in admin console in weblogic

CI Tool help docs:
-----------------------
latest ci location:
http://skotsa22k8:8888/AutomatedInstaller/
official help for ci tool:
E:\prpctesting\citool\CI-SQLServer\AutomatedInstaller\README.html

all help found in following mesh doc
https://mesh.pega.com/docs/DOC-40815
https://mesh.pega.com/community/pega/scrumatpega/scrumcommunity/blog/2013/06/19/common-ci-tool-issues-and-remedies

dynamos ci setup:
http://vengwindb163:8080/job/CI-JUnitsLUW/259/


PR Sys management:
http://localhost:9080/prsysmgmt/getnodes.do

work manager problem:
-----------------------
if system becomes slower in crease threads to thirty for workmanager in websphere
resources->asynchronous beans->work managers->prpc work manager, increase threads to 30

to be explored:
test suite, pareallel execution, scheduling results/reports, 

engine codeset:
--------------------
select * from pr_engineclasses

corecode location:
--------------------
E:\othertools\CItool\CI-AutomatedInstaller-Phase-3_win64\AutomatedInstaller\work\coreCode


praveen ip:
---------------
10.150.111.36

C:\Users\jakkr\Documents\Test Studio Projects\PRPC\Data
http://10.150.111.35:7001/prweb/PRServlet

websphere port:
http://10.150.111.38:9080/prweb/PRServlet

visual studio licence key:
MMVJ9-FKY74-W449Y-RB79G-8GJGJ

jboss deployment:
db name should be chnaged in 3 places in standalonefull.xml

UTIB0000006

RCA Hotfix analysis:
st-3609, tc-60475

Agents info:
access group for agent:  PRPC:Agents
http://pmf.pega.com/prweb/PegaSSO/z9TwsFgrP5T_i0ULWyqfeAGRYGrYSWAmXg2-aEDs9JI%5B*/!STANDARD?pzPostData=1504486502
US-54330 
GOAL-1444
Mesh Links talks about Parallel Process

https://mesh.pega.com/docs/DOC-25752
https://mesh.pega.com/message/42595#42595
https://mesh.pega.com/message/60827#60827

ejb3 tetsing databases:
-----------------------
weblogic - ejb3b1wl_prpc


ml6 databases:
--------------
weblogic - ml6wl_prpc

MY VM DETAILS:
-----------------
ESX Server	10.150.68.31

agents instance:
---------------
http://ssdehydwin02:8787/prweb/PRServlet
Admin@StrikersAgent/welcome123 

http://ssdehydwin02:8080/prweb/PRServlet 

Credentials
User Id: admin@StrikersAgent
Password: admin123


ISSSUES:
TP-2921 ST-3700 ST-3701 ST-3702
JBOSS EAP 6.1 NOT FOUND
rls-3535
backlog core engine

junit prpc help:
https://mesh.pega.com/docs/DOC-43726
https://mesh.pega.com/docs/DOC-15384

Ui issues:
headers should appear bold, font size and color is not consistent for agents and ruleset

oracle admin permissions:
as sysdba
sys/ravi

release schedule:
https://mesh.pega.com/groups/release-management. 

processbatchjob
emailcheckincoming

db2 installation:
https://www.youtube.com/watch?v=2AtSEHC6iAQ

postgres port:
5432
user:postgres
password:Jntu@99g

enterprise db:
username: jakkampr
password: 2NDF8ro7Ld

apache port: 8085

network:
127.0.0.1/32

c:/programfiles/pem

database from jenkins:
dbc:db2://10.1.3.70:50000/eoi6248:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;useJDBC4ColumnNameAndLabelSemantics=2; --dbUser eoi6248 --dbPassword pega#1 --assembler false --udbSchema rule
java -classpath "E:/othertools/postgres/postgresql.jar;E:/othertools/postgres/pljava/deploy.jar" org.postgresql.pljava.deploy.Deployer -install -database postgres -user postgres -pass Jntu@99g

postgres 9.1:
port:5432

jie long
https://mesh.pega.com/docs/DOC-43654
jdbc:postgresql://localhost:5432/postgres



weblogic db classpath:
add it to preclasspath in startweblog.cmd
set EXT_PRE_CLASSPATH=E:\prpctesting\Oracle\Middleware\user_projects\domains\prpc\lib\ojdbc6.jar;E:\othertools\postgres\postgresql.jar

citool video:
https://mesh.pega.com/docs/DOC-21363

sls url:
http://ssdehydwin02:8080/prweb/PRServlet 

Credentials
User Id: admin@StrikersAgent
Password: admin123

http://ssdehydwin02:8787/prweb/PRServlet
Admin@StrikersAgent/admintest123

pega extension
33143400
3712

9886734875.. anil kurati

TELERIK TESTS VM:
10.225.68.147
te/Testeng!

latest:
10.225.68.123
te/Testeng!

prbootstrap.properties in ear file:
-------------------------------------
is present in app-inf/lib/prresources.jar we can change it and rejar it

prpc product rc beta alpha ga downloads:
-----------------------------------------
first go to following link and click on the link "downloads" to see all downloads

6.3 sp1 download:
https://mesh.pega.com/meshdownloads/view/449
se-24699

install 6.3sp1
import hotfix jar
run ml9 upgrade


update svn code in eclipse to beta alpha or rc build beta2
--------------------------------------------------------
in pega_builddistributionimage/manifest folder assembly.included.properties file has 
a property that gives head buid info coreAssembly.build.name=coreAssembly_HEAD_9470

go to head build info/svn.properties file where you get code main head revision coreCode.coreCode.main.svnRevision=134550
now from ecipse update the code to this revision id

ibm credentials:
user id: ravi740136@gmail.com

mesh doc for agents start stop:
-------------------------------------
mesh doc 50302
TASK-223313
http://www.youtube.com/watch?v=tXUpBfCOXJ8

agents test cases:
add a test case for unknown category
ootb agents
categorise issue
select combinations of categories and corresponding agent sshould be displayed

To enable remote db connection for oracle db:
edit the ora files in following location, replace localhost with ip of your machine
remeber that open notepad++ as administrator to edit these files
E:\app\jakkr\product\11.2.0\dbhome_1\NETWORK\ADMIN

http://ssdehydwin02:8080/prweb/PRServlet
admin@praveen
rules

processbatchjob
total test cases: 156

ML6:
71NEXT
ML7:
HEAD

my desktop name:
wjakkrw7blr
my laptop name:
ljakkrw7blr

classification and filtering related enhancements
9538898140

EPIC-8004:
doubts:
diff between disable and stop an agent
start/stop on specific node also or only in all the nodes

bug-157894

idbi loan outstanding amount:
9,27,000
All the test cases in Agents Overview testplan TP-2921 have been verified

qa doubts:
category field while creating agent

mesh apage for testing of the epic

Test Plan:
To create multi node setup using multiple tomcate instances and single database
Manually ensure that all Agents can be stopped/started on different nodes and from different nodes
Ensure that latest agent status in different nodes is refected using Refresh button.
Complete Functional Automation using Telerik
To create Junits for API related with remote start/stop 

test plan should be done

process  documentation:
story should be closed but bugs are open,  otherwise we can not checkin

5381
BUG-159397

table for nodes info:
sysnodes

to create enbedded tomcat server:
---------------------------------
prwebj2ee/prcnfig
pr3unittest/src
jakkr-prconfig.xml needs to be created 

mesh build download: GA RELEASE OLD RELEASE PREVIOUS RELEASE PRODUCTION RELEASE
https://mesh.pega.com/meshdownloads/view/312

checkout ml6 code:
--------------------
in eclipse create new repository
 http://hydscm.rpega.com/svn/PRPC_core
 open window perspective svnbrowsing
 go to branches->integration->ml6 and checkout projects under dev
 
 to create a build or database using patch:
 after checking out latest ml6 code
 in eclipse select the project to which patch needs to be applied
 team-> apply patch, select the patch file 
 citool:
 select 71head as major minor version
 
 core rules down load from following location: and give the location of the file in local rules tab
 http://pegabuild3/out/coreRules/71NEXT/coreRules_71NEXT_1053/

 select target database
 generate custom build option to be selected
 generate build from local workspace
 launch builds->generate and install
 
 how to verify bugs:
 -------------------
 have ml6 database ready and inject core code
 how much testing we have to do
 what should be bug status
 
 hazelcast config:
 -------------------
 		<env name="identification/cluster/protocol" value="Hazelcast" />
		<env name="cluster/hazelcast/members" value="localhost" />
		
		how to import rules jar:
		---------------------------
		first import jar file
		create new application
		go to records-:> application definition->applications
		open application and add new branch, from dropdown selct branch associated with jar and save it
		
beta ml6 testing:
---------------
help link is broken

enhancement:
every week day tuesdays

agents :
https://mesh.pega.com/docs/DOC-56039

How does embedded tomcat work

junit setup:
1. prconfig needs to be added to src in pr3unit and in prweb prxml folder
2. checkout project prprivate-cluster
3. add it to class

knownissues document
demo instance

epic for ml6 testing:
----------------------
PRPC 7.1.6 Testing
(EPIC-7580)

1140
746

733
728


aAGENT DOES N

Merge slot:
https://mesh.pega.com/docs/DOC-39398?et=watches.email.document

code coverage:
https://mesh.pega.com/docs/DOC-59502

running unit tests

Junit:
https://mesh.pega.com/community/projects/prpc/quality/automation/projects/junits
my presentation: https://mesh.pega.com/docs/DOC-59332?sr=stream&ru=2370

Junit taging:
https://mesh.pega.com/docs/DOC-37789
-	https://mesh.pega.com/community/projects/prpc/quality/automation/projects/junits 
       

1910 rs expenses bath room
2000 rs sheet


Notifications tracked separately not in RAQ or DAQ

all the links for type api:
----------------------------
https://mesh.pega.com/docs/DOC-43726

agents category:
----------------
security
localization
create category
use cases
notifications for agents category
subscription can be other methods apart from email
subscription for category, agent etc
data table should be extensible
format of notification message
update/delete category
when assigned update/delete
when not assigned update/delete

R-A-Q CLASS:
R-A- CLASS

PYCATEGORYLIST (unlocked in production) source for categories local list property pega-myrules ruleset
PYFUTUREQUEUES:PYCATEGORY(locked in production) string property pegarules ruleset

to add category rule should be unlocked , so add it to R-A- AND MAKE IT UNLOCKED

important things for EdoR:
1. Business use cases
2. db/data model/extensibility
3. upgrade

important test cases:
for locked rulesets, ootb agents category should not be allowed to change
unlocked ruleset not allowed for storing categories in shipped product
use external table for storing category
kernel should always be running
category should not belong to data agent queue

enable/disable:
ml6 to ml7 migration all agents enabled
ml7 to ml8 migration reatin enabled disable status
sma chnages 
remove enable flag in raq/daqfd
pyenable in raq used for start/stop of agents
disable 


FOURTH FLOOR PRINTER:
PEGAFLR4 MONO LOCATION BANGALORE

postgres settings:
<Resource name="jdbc/PegaRULES"
      	type="javax.sql.DataSource"
        username="perfprpc"
        password="prpc"
		driverClassName="org.postgresql.Driver"
        maxIdle="2"
        maxWait="5000"
        url="jdbc:postgresql://localhost:5432/postgres"
        maxActive="20"/>
		
		
		conference call:
		Ramachandran, Venkateshwaran 17:18
		number to be  dialed
180030104710

or add zero prefix
then give conference code
•	Conf Code: 403-156-1751#
https://pegasystems.tcconline.com/IOL.action <https://pegasystems.tcconline.com/IOL.action> 
use this link in future

july month work review:
agents start/stop
performance testing using jmeter
rc testing
category, enable/disable and notification test plan creation
type api preparation
	

findbugs:	
		doc-50754 for findbugs and sonar
		
		what is data layer?
		how are division unit etc are cleaned
		
		
		Queuse size:
		refer the table py_sys_queues if the agent status is scheduled, it will add to the queue size, after it ran it will be away from the queue

		

first flight
a991b1239689
Doubt about node:
------------------
When a node is restarted should it have the latest status or its old status

rahul machine:
\\10.150.113.50\Software

tomcat1:ml5 tomcat2:ml6 tomcat3:6.3sp1

Hazelcast:
remote execution and distributed data like run time etc..
from clusterexecutionutil executecomand should be made part of cluster
commonjobimpl is wrapper for public api
security concerns in implementation
thread safety needed
async non-block ui

to set junit setup:
-------------------
add the project prprivate-cluster to classpath of pr3unit and prprivate-session, it belongs to etc folder
configure jakkr-prconfig.xml in prwebj2ee/prxml folder. database and hazelcast configuration is taken care here
configure jakkr-prconfig.xml in pr3unittest/src folder

	<env name="database/drivers" value="org.postgresql.Driver" />
	<env name="database/databases/PegaRULES/url" value="jdbc:postgresql://localhost:5432/postgres" />
	<!-- env name="database/databases/PegaRULES/userName" value="build31jul1_PRPC" /-->
	<env name="database/databases/PegaRULES/userName" value="unitprpc" />
	<env name="database/databases/PegaRULES/password" value="prpc" />
		<env name="identification/cluster/protocol" value="Hazelcast" />
	<env name="cluster/hazelcast/members" value="localhost" />
	
using runas ->run configurations , create new instance of pega server launcher, configure the port and run it to start embedded tomcat
the tomcat folder is created in workspace/miniboot-embedded/<servername> folder
add sysmgmt.war file in the folder so that sma also will be up

7.1.6 SDE and SLS:
•	SLS: vengwindb179:8080 and 8181
•	SDE: vengwindb179:8383 and 8484

us-63372 story for type api
epic-8761 for RCA
st-4255 for category tets cases

sde node list:
https://mesh.pega.com/docs/DOC-20299

India merge schedule:
https://mesh.pega.com/docs/DOC-39398

category story:
property in RAQ
prompt list
LOCALIZABLE

maruti courier
113585023639

\\10.150.113.50\Writables\CI\AutomatedInstaller\work
BUG-162821 
BUG-161716 
radha hdfc:
50100071447362
58527537
dcp 8656
hdfc0002565
P@99r

servant name: gayatri
boss name: ravi

IRCTC LOGIN2:
radha74013
jntu@99f
RAVITOWNSHIP@GMAIL.COM
PADMA LOGIN:
ptummala1
pou774
bix help:

https://pdn.pega.com/documents/bix-71-user-guide

forming the cluster:
you may face issues from tomcat
start one from eclipse and one from tomcat
ensure that machine name is mentioned as server instead of localhost in the server config file, then only cluster is formed

pegadeveloper:
pega developer needs to be imported for doing development
it is present in e:/prpctesting/pegadeveloper

junit test importing jar:
if we import some jar using embedded tomcat now it willbe imported to database which is used by junits
if we import some jar using embedded tomcat now it willbe imported to database which is used by junits
so thats why we bring up embedded tomcat

runnning junits set vm arguments to set perm gen space:
for tomcat in setenv:
-Xms1024m -Xmx2048m -XX:PermSize=64m -XX:MaxPermSize=384m -Djava.awt.headless=true
for eclipse for junit select run as configuration option and then in vm arguments
-Xms512m -Xmx512m -XX:PermSize=64m -XX:MaxPermSize=384m -Djava.awt.headless=true

add prprivate-cluster project to classpath of pr3unitest project and then run as configurations

to start websphere server:
cd C:\Program Files (x86)\IBM\WebSphere\AppServer\profiles\AppSrv01\bin
startserver.bat server1

websphere connection problem:
in connection pool properties increase max ocnnections to 30 to solve the problem
i could connect to sql server database and deploy application
use connection pool or sometimes if it fails use workmanager

to create data source related with new db in websphere:
just create new jdbc provide
while creating new datasource create pegarules data source and associate the above jdbc provider to the data source
no need to add to lib, just give the path of jar while creating jdbc provider

Rathore, Rahul 15:23
http://10.225.68.123:8082/job/CI-JUnits/lastCompletedBuild/testReport/
This conversation is saved in the Conversations tab in Lync and in the Conversation History folder in Outlook.

telerik setup:
----------------
possible issues can be
missing importing of smoke.zar located in zzzshareddata, also import uiregressionflexapp.jar
while running manually ensure to chnage config.csv file to chnage instance url for each project
in each project go to test lists and run all that has name smoke


running validation engine on branch:
------------------------------------
sls pega developer:
In SLS we should not import pega development jar, as it is already imported
just create application (default implementation only) , open application
just replace pegarules (under built on application) by pegadevelopment version 07:01 and save

currently use the credentials admin@kaushik , rules as pegadeveloper is already imported by kaushik, otherwise use following stes for importing pegadeveloper
http://ssdehydwin03:8181/prweb/PRServlet
while creating application select the option framework and implementation
create raviapp application login with admin@ravi
for raviapp application, click on search icon for raviappfw and  add PegaDevelopment 07.01 and save
now you will see infrastructure menu item

go to infrastructure -> validation engine to enter validation engne test details
you will see two tabs "submit ve request"and "history"
uncheck rule changes, check code chnages and test changes
enter core code svn url in the format (enter only cam url) http://camscm.rpega.com/svn/PRPC_core/branches/team/BLREngineTeam/dynamos_bugs/dev/core
http://camscm.rpega.com/svn/PRPC_core/branches/team/BLREngineTeam/ClassLoading/dev/core
enter test url in the format (only cam url) http://camscm.rpega.com/svn/PRPC_core/branches/team/BLREngineTeam/dynamos_bugs/test 
only junits and teleriks are important and rspec can be ignored
enter any general description in assset decription field
enter strikerscrumteam as team name and (it can be any general name), emter your mail id
leave other default values and click on validate button, and then done

now to view the status go to history tab
status will be displayed like SUT, Preparation, tests running etc..

sls sde node list:
https://mesh.pega.com/docs/DOC-20299
SLS URL:
http://ssdehydwin03:8181/prweb/PRServlet/


ml7 pending tasks:
epic 8005:
-----------
us59611
us54202

DT Checkin:
CLEANUP

HAZELCAST:
NODE DOWN & CLEAN UP

TESTING:
CLEANUP OF JUNITS

DESIGN DOC:
GENERAL AND HAZELCAST

REFACTOR HAZELCAST IMPLEMENTATION

ACTION ITEMS:
qa to check OOTB and send link to ED

to view networks and enable lan:
open network and sharing center
click on change adapter settings

DB2 Setup:
Database Name: RC716
DB Host: 10.225.68.129
DB Port: 50000
DB User Credentials: RC716SSUSER / Welcome123
RULES Schema Name: RC716RULES
DATA Schema Name: RC716DATA 


10.60.65.61 
db2 data studio
http://www-01.ibm.com/support/docview.wss?uid=swg24034614

use log-message activity
systemqueuemanahgement works only for standard agents and not for advanced and legacy agents

package com.pega.pegarules.engine.typeapi;
public abstract class UserSessionAction

agents testing:
schedules not created without restart------------
save as is not consistent agent dashboard, sma and agentschedule list-
sorting not working on ruleset column in agents schedule---------------
update time in schedule did not work, works fine from schedule page and not from raq-
yearly option is not running in current year---------------
for weekly every i week , the nodes are not displayed thouh s chedule appears------------
problem with retaining in ui for one of yearly options 
default status is not running for agents that did not run
instead of every 1 montrs every month should come similarly every1 weeks----------
next schedule time in SMA for weekly is 10 seonds wrong 07 05 10------
enable/disable changes are not reflected in RAQ and from RAQ-
SCHEDULE CHAGES MADE IN raq NOT REFLECTED IN daq WITHOUT RESTART and also with restart-
even when node is down successful message is displayed for start/stop of agent in the node-----------
how to change standard agent to advanced agent-

BUG-167257

reference urls:
http://vengwindb240/PerflabInstances/

104142
ui backlog:
GRP-13931

alpha build locations:

•	Full: http://sdrelnxdb25/out/PRPC/HEAD-alpha1/PRPC_HEAD-alpha1_175/
•	Update/small:  http://sdrelnxdb25/out/PRPCsmallML/HEAD-alpha1/PRPCsmallML_HEAD-alpha1_38/
•	corePRPC: http://sdrelnxdb25/out/coreAssemblyCached/HEAD/coreAssemblyCached_HEAD_1727/

sls url cam:


http://ssdecamwin03:8181/prweb/PRServlet/qCAkntMkZOaq8gYwctmz4o9TCyn7RGOcntL9_lK8Qpk%5B*/!STANDARD

717 build download location:
http://pegabuild3/out/coreAssembly/717

sls node list
https://mesh.pega.com/docs/DOC-20299

SVN KEYWORDS:
-----------------
svn properties to be added before checkin:
property: svn:keywords 
value: Author Date Id Rev URL
ADD ID LINE TO THE NEW FILE BEING ADDED TO REPOSITORY
https://mesh.pega.com/docs/DOC-14768
public static final String VERSION = ModuleVersion.register("$Id$");
NOW WE CAN COMMIT THE FILE

checkin experience:
create branch
run validation engine
do svn add for new files
add svn properties 
update and commit with user story

padma internet password:
--------------------------
padma.tummala@gmail.com
hj17ca
login password:
Raja12#

how to get revision info  for build:
------------------------------------
best way is to go to design/dev/core folder in repository and see "show history"
buildinfo.java has latest build information
go to info loder, open svn.properties file and verify the property 
coreCode.coreCode.main.svnRevision=107429
coreCode.main.svnRevision=107429
also if we see prpublic project history we can see when the specific build is created in IST Time you can see revision and build# mapping
time and revision mentioned in prpublic project will be more useful and can be used for checkout 

multi tenant:
--------------------
system->tenant management

import pegadeveloper:
========================
import pega developer zip file as administrator@pega.com
create new application as implementation and framework
click on raviapp->open aplication
clck  on magnifier glass for raviappfw
pegadevelopment 6.2 version save

http://localhost:8282/prweb/PRServlet/beEBp4uRVTogorRwSwWqbAuSszhTv2W2svU1posaO4A[*/!STANDARD
admin operaor that gets created while creating the application, should be able to assign any role to himself
admin of an application should be able to assign roles

data layer:
•	The presentation slides
•	The architecture diagram and high-level descriptions of the various modules
•	The Data & Search Infrastructure Mesh space.   Note that most of the database-specific information is in the Database Information workspace (at least for now)

https://mesh.pega.com/docs/DOC-64642
https://mesh.pega.com/docs/DOC-64700
https://mesh.pega.com/community/projects/prpc/dataandsearchinfrastructure/projects/database-information

system management backlog:
grp-3974

doubts for data layer:
DeferredOperationList class not found

com.microsoft.sqlserver.jdbc.SQLServerDriver

ml8 build:
---------------
http://pegabuild3/out/coreAssembly/HEAD/coreAssembly_HEAD_8557/

Flat available for sale at Malaysian Township, Hyderabad. Area measuring 1225 Sq Feet, 3 BHK Semi furnished flat is positioned at 1 floor south facing. Price:Rs.52 lakh(s)/-.
Available from Dec 01, 2014

At centre of city, 0.5 KM from Hitech city MMTS, 2.5 KM from Hitech city
Very well maintained flat with facilities like high level security, club house, tennis court, parks, kids school, hotel, gym, atm etc
only 7 floor building surrounded by huge malls like D-mart

testingf meeting:
-------------------
regression test suites and confidence test suites
framework by genesis

123700101000007
corporation bank
ifsc corp0001237
bhanur


md zahuruddin

data layer:
epic-7962
epic-8565
epic-7860

hdfc debit card login:
ravi740136
jntu@99f

agents test paln:
tp-2921
st-4119
st-3700
st-3702
st-4255

data layer :
6379
7897
8422
dynamos

I installed eclipse from https://mesh.pega.com/docs/DOC-38096 
\\rpega.com\netdrives\RulesFS\Eclipse\PegaEclipse-x64-4.3.1.1.zip

BUILD#8544
14600, 14601
13798
13797
 9740928071 plots near smilee
 9845104486 attibele
 
 161,160, 6, 154, 155
 
 data layer user stories:
 us-68021
 us-50095
 
 oracle website login:
 ravi740136@gmail.com
 Jntu@99f
 
 POSTGRES 9.3 KAUSHIK:
 org.postgresql.xa.PGXADataSource
jdbc:postgresql://10.150.113.66:5432/postgres

<Resource name="jdbc/PegaRULES"
      	type="javax.sql.DataSource"
        username="sa"
        password="Jntu@99g"
		driverClassName="com.microsoft.sqlserver.jdbc.SQLServerDriver"
        maxIdle="2"
        maxWait="5000"
        url="jdbc:sqlserver://LJAKKRW7BLR:1433;database=ml7rc1_mt;SelectMethod=cursor;SendStringParametersAsUnicode=false"
        maxActive="20"/>
		
		org.postgresql.xa.PGXADataSource
jdbc:postgresql://10.150.113.66:5432/postgres

engine code set version is mentioned in following file:
E:\prpctesting\718_8614\coreBuildDistributionImage\archives\prpc_j2ee14\APP-INF\lib\prresources

teradata url:
jdbc:teradata://192.168.198.128/database=junit,tmode=ANSI,charset=UTF8
https://developer.teradata.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html
http://terahelp.blogspot.in/2009/08/connecting-to-database-using-teradata.html

vmware player:
http://developer.teradata.com/database/articles/teradata-express-14-0-for-vmware-user-guide

http://developer.teradata.com/database/articles/introduction-to-teradata-express-for-vmware-player
E:\prpctesting\DATALAYER\Teradata
ip addr show
ping different ip address that you get after pinging above address
http://developer.teradata.com/database/articles/introduction-to-teradata-express-for-vmware-player

teradata vm connection:
change the network adapter settings using player->manage->virtual machine settings->network adapter
host-only
player->power->restart guest
image location:
C:\virtual-machines\TDExpress15.0.0.8_Sles11_40GB
using vmplayer on desktop open the above vm file
use jdbc:teradata://192.168.206.128/database=DBC
user name: dbc
password: dbc
to connect to database

[create table dbc.pr_Data_RaviClass5
(
    MyKey1 VARCHAR(32) NOT NULL,
    MyVal1 VARCHAR(32) NULL
)
, ALTER TABLE dbo.pr_Data_RaviClass5
ADD CONSTRAINT pr_Data_RaviClass5_PK PRIMARY KEY NONCLUSTERED 
(
    MyKey1
)
]
ssses


aawardhan postgres db:

<env name="database/drivers" value="org.postgresql.Driver" />
        <env name="database/databases/PegaRULES/url" value="jdbc:postgresql://10.150.113.67:5432/postgres" />
        <env name="database/databases/PegaRULES/userName" value="postgres" />
        <env name="database/databases/PegaRULES/password" value="welcome" />

		rahul oracle db:
			<!--env name="database/drivers" value="oracle.jdbc.OracleDriver" />
	<env name="database/databases/PegaRULES/url" value="jdbc:oracle:thin:@10.150.68.31:1521:BO121DB1" />
	<env name="database/databases/PegaRULES/userName" value="te_2695 "/>
	<env name="database/databases/PegaRULES/password" value="te_2695"/-->
	
	102229131
	
	DB2 LUW CONFIGURATION PRCONFIG:
	 	<env name="database/databases/PegaRULES/url" value="jdbc:db2://10.225.68.28:60012/TE2791:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;useJDBC4ColumnNameAndLabelSemantics=2;currentFunctionPath=SYSIBM,SYSFUN,prpcusr1;currentSchema=prpcusr1;" /> 
       <env name="database/databases/PegaRULES/userName" value="prpcusr1" /> 
       <env name="database/databases/PegaRULES/password" value="prpc" />
       <env name="database/databases/PegaDATA/url" value="jdbc:db2://10.225.68.28:60012/TE2791:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;useJDBC4ColumnNameAndLabelSemantics=2;currentFunctionPath=SYSIBM,SYSFUN,prpcusr1;currentSchema=prpcusr1;" /> 
       <env name="database/databases/PegaDATA/userName" value="prpcusr1" /> 
       <env name="database/databases/PegaDATA/password" value="prpc" />  
       <env name="database/databases/PegaRULES/defaultSchema" value="prpcusr1" />
       <env name="database/databases/PegaDATA/defaultSchema" value="prpcusr1" /> 
	   
	   latest split schema db2 luw:
	   	   <env name="database/databases/PegaRULES/url" value="jdbc:db2://10.225.68.28:60012/TE_2991:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;useJDBC4ColumnNameAndLabelSemantics=2;currentFunctionPath=SYSIBM,SYSFUN,rules;currentSchema=rules;" /> 
       <env name="database/databases/PegaRULES/userName" value="prpcusr1" /> 
       <env name="database/databases/PegaRULES/password" value="prpc" />
       <env name="database/databases/PegaDATA/url" value="jdbc:db2://10.225.68.28:60012/TE_2991:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;useJDBC4ColumnNameAndLabelSemantics=2;currentFunctionPath=SYSIBM,SYSFUN,data;currentSchema=data;" /> 
       <env name="database/databases/PegaDATA/userName" value="prpcusr1" /> 
       <env name="database/databases/PegaDATA/password" value="prpc" />  
       <env name="database/databases/PegaRULES/defaultSchema" value="rules" />
       <env name="database/databases/PegaDATA/defaultSchema" value="data" />

string to array:
tochararray, getchars, system.arraycopy

oracle tomcat config:
<Resource name="jdbc/PegaRULES"
            type="javax.sql.DataSource"
        username="dualsetup3_PRPC"
        password="prpc"
                                driverClassName="oracle.jdbc.OracleDriver"
        maxIdle="2"
        maxWait="5000"
        url="jdbc:oracle:thin:@10.150.113.10:1521:orcl"
        maxActive="20"/>
		
		oracle dual user setup using data source:
		--------------------------------------------
		<env name="database/databases/pegarules/defaultSchema" value="dualsetup3_PRPC" />
	<env name="database/databases/pegarules/datasource" value="p718Oracle" />
	<res name="p718Oracle" type="javax.sql.DataSource" driverClassName="oracle.jdbc.OracleDriver"
		url="jdbc:oracle:thin:@10.150.113.10:1521:orcl" username="dualsetup3_PRPC"
		password="prpc" maxActive="500" maxIdle="250" maxWait="-1" />
	<env name="database/databases/pegarules/datasourceadmin" value="p718OracleAdmin" />
	<res name="p718OracleAdmin" type="javax.sql.DataSource"
		driverClassName="oracle.jdbc.OracleDriver" url="jdbc:oracle:thin:@10.150.113.10:1521:orcl"
		username="dualsetup3ADMIN_PRPC" password="prpc" maxActive="500"
		maxIdle="250" maxWait="-1" />
		
			<env name="database/databases/pegarules/defaultSchema" value="beta2_dualuser_prpc" />
	<env name="database/databases/pegarules/datasource" value="p718Oracle" />
	<res name="p718Oracle" type="javax.sql.DataSource" driverClassName="oracle.jdbc.OracleDriver"
		url="jdbc:oracle:thin:@10.150.113.10:1521:orcl" username="beta2_dualuser_prpc"
		password="prpc" maxActive="500" maxIdle="250" maxWait="-1" />
	<env name="database/databases/pegarules/datasourceadmin" value="p718OracleAdmin" />
	<res name="p718OracleAdmin" type="javax.sql.DataSource"
		driverClassName="oracle.jdbc.OracleDriver" url="jdbc:oracle:thin:@10.150.113.10:1521:orcl"
		username="beta2_dualuseradmin_prpc" password="prpc" maxActive="500"
		maxIdle="250" maxWait="-1" />
	
		
	oracle dual user setup using url:
-----------------------------------------	
		    <env name="database/databases/PegaRULES/defaultSchema" value="dualsetup3_PRPC" />
       <env name="database/databases/PegaRULES/url" value="jdbc:oracle:thin:@10.150.113.10:1521:orcl"/>
       <env name="database/drivers" value="oracle.jdbc.OracleDriver"/>
       <env name="database/databases/PegaRULES/adminUserName" value="dualsetup3ADMIN_PRPC"/>
       <env name="database/databases/PegaRULES/adminPassWord" value="prpc"/>
       <env name="database/databases/PegaRULES/userName" value="dualsetup3_PRPC"/>
       <env name="database/databases/PegaRULES/password" value="prpc"/>
	   
	   postgres dual user setup split schema:
	   ----------------------------------------
	   <env name="database/databases/PegaRULES/defaultSchema" value="splitrulesschema" />
       <env name="database/databases/PegaRULES/url" value="jdbc:postgresql://localhost:5432/postgres"/>
       <env name="database/drivers" value="org.postgresql.Driver"/>
       <env name="database/databases/PegaRULES/adminUserName" value="ssdepuser"/>
       <env name="database/databases/PegaRULES/adminPassWord" value="prpc"/>
       <env name="database/databases/PegaRULES/userName" value="baseuser"/>
       <env name="database/databases/PegaRULES/password" value="prpc"/>      
              
       <env name="database/databases/PegaDATA/defaultSchema" value="splitdataschema" />
       <env name="database/databases/PegaDATA/url" value="jdbc:postgresql://localhost:5432/postgres"/>
       <env name="database/drivers" value="org.postgresql.Driver"/>
       <env name="database/databases/PegaDATA/adminUserName" value="ssdepuser"/>
       <env name="database/databases/PegaDATA/adminPassWord" value="prpc"/>
       <env name="database/databases/PegaDATA/userName" value="baseuser"/>
       <env name="database/databases/PegaDATA/password" value="prpc"/>
	   
	   postgres single user setup split schema:
	   ----------------------------------------
	   <env name="database/databases/PegaRULES/defaultSchema" value="splitrulesschema" />
       <env name="database/databases/PegaRULES/url" value="jdbc:postgresql://localhost:5432/postgres"/>
       <env name="database/drivers" value="org.postgresql.Driver"/>
       <env name="database/databases/PegaRULES/userName" value="ssdepuser"/>
       <env name="database/databases/PegaRULES/password" value="prpc"/>      
              
       <env name="database/databases/PegaDATA/defaultSchema" value="splitdataschema" />
       <env name="database/databases/PegaDATA/url" value="jdbc:postgresql://localhost:5432/postgres"/>
       <env name="database/drivers" value="org.postgresql.Driver"/>
       <env name="database/databases/PegaDATA/userName" value="ssdepuser"/>
       <env name="database/databases/PegaDATA/password" value="prpc"/>
	   
	   postgres single user single schema:
	   ---------------------------------------
	    <env name="database/databases/PegaRULES/defaultSchema" value="singleschema" />
       <env name="database/databases/PegaRULES/url" value="jdbc:postgresql://localhost:5432/postgres"/>
       <env name="database/drivers" value="org.postgresql.Driver"/>
       <env name="database/databases/PegaRULES/userName" value="ssdepuser"/>
       <env name="database/databases/PegaRULES/password" value="prpc"/>
	   
	   postgres dual user single schema:
	   ---------------------------------
	    <env name="database/databases/PegaRULES/defaultSchema" value="singleschema" />
       <env name="database/databases/PegaRULES/url" value="jdbc:postgresql://localhost:5432/postgres"/>
       <env name="database/drivers" value="org.postgresql.Driver"/>
       <env name="database/databases/PegaRULES/adminUserName" value="ssdepuser"/>
       <env name="database/databases/PegaRULES/adminPassWord" value="prpc"/>
       <env name="database/databases/PegaRULES/userName" value="baseuser"/>
       <env name="database/databases/PegaRULES/password" value="prpc"/>
	   
	   postgres schemabuilder:
	   ------------------------
	   	    <env name="database/databases/PegaSchemaBuilder/defaultSchema" value="externalschema" />
       <env name="database/databases/PegaSchemaBuilder/url" value="jdbc:postgresql://localhost:5432/postgres"/>
       <env name="database/databases/PegaSchemaBuilder/userName" value="sa"/>
       <env name="database/databases/PegaSchemaBuilder/password" value="Jntu@99g"/>
	   
	   db2 luw pegaschemabuilder configuration:
	   ---------------------------------------	   
	   <env name="database/databases/PegaSchemaBuilder/url" value="jdbc:db2://10.225.68.28:60012/TE_2991:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;useJDBC4ColumnNameAndLabelSemantics=2;currentFunctionPath=SYSIBM,SYSFUN,rules;currentSchema=rules;" /> 
       <env name="database/databases/PegaSchemaBuilder/userName" value="prpcusr1" /> 
       <env name="database/databases/PegaSchemaBuilder/password" value="prpc" />      
       <env name="database/databases/PegaSchemaBuilder/defaultSchema" value="rules" />
	   
	   db2 zos configuration with properties for running dsm api test cases:
	   ---------------------------------------------------------------------

<env name="database/drivers" value="com.ibm.db2.jcc.DB2Driver" /> 
<env name="database/databases/PegaRULES/url" value="jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST95DBO;currentSchema=DST95DBO;useJDBC4ColumnNameAndLabelSemantics=2;"/> 
<env name="database/databases/PegaRULES/userName" value="DST95DBO" /> 
<env name="database/databases/PegaRULES/password" value="DST95DBO" /> 
 <env name="database/databases/PegaDATA/url" value="jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST95DBO;currentSchema=DST95DBO;useJDBC4ColumnNameAndLabelSemantics=2;"/> 
<env name="database/databases/PegaDATA/userName" value="DST95DBO" /> 
<env name="database/databases/PegaDATA/password" value="DST95DBO" />  


<env name="database/databases/PegaSchemaBuilder/url" value="jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST95RBO;currentSchema=DST95RBO;useJDBC4ColumnNameAndLabelSemantics=2;"/> 
<env name="database/databases/PegaSchemaBuilder/userName" value="DST95DBO" /> 
<env name="database/databases/PegaSchemaBuilder/password" value="DST95DBO" /> 
DB2ZOS CONFIGURATION FOR ERMA DATABASE
-----------------------------------------

		<env name="database/drivers" value="com.ibm.db2.jcc.DB2Driver" />
        <env name="database/databases/PegaRULES/maxConnections" value="30" />
        <env name="database/databases/PegaRULES/reservedConnections" value="1" />
        <env name="database/databases/PegaRULES/maxConnectionsTimeout" value="60" />
        <env name="database/databases/PegaRULES/dataSource" value="java:comp/env/jdbc/PegaRULES"/>
        <env name="database/databases/PegaDATA/dataSource" value="java:comp/env/jdbc/PegaRULES"/>
        <env name="database/databases/PegaRULES/defaultSchema" value="DGD06RBO" />
        <env name="database/databases/PegaDATA/defaultSchema" value="DGD06DBO" />
        <env name="database/databases/PegaDATA/db2zos/dbname" value="DGD06" />
        <res name="java:comp/env/jdbc/PegaRULES" type="javax.sql.DataSource" driverClassName="com.ibm.db2.jcc.DB2Driver" url="jdbc:db2://zosd01:5028/DB2DLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progressiveLocators=2;progressiveLocators=2;useJDBC4ColumnNameAndLabelSemantics=2;currentSchema=DGD06RBO;currentFunctionPath=SYSIBM,SYSFUN,DGD06RBO;" maxActive="30" maxIdle="5" maxWait="-1" username="DGD06DBO" password="DGD06DBO"/>




DB2ZOS CONFIGURATION FOR Databasetestsuite:
-------------------------------------------
now an extra entry added for creating database tables in zos
<env name="database/databases/PegaDATA/db2zos/dbname" value="DST95" />

<env name="database/databases/PegaRULES/dataSource" value="java:comp/env/jdbc/PegaRULES" /> 
<env name="database/drivers" value="com.ibm.db2.jcc.DB2Driver" /> 
<env name="database/databases/PegaRULES/url" value="jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST95RBO;currentSchema=DST95RBO;useJDBC4ColumnNameAndLabelSemantics=2;"/> 
<env name="database/databases/PegaRULES/userName" value="DST95DBO" /> 
<env name="database/databases/PegaRULES/password" value="DST95DBO" /> 
<env name="database/databases/PegaDATA/url" value="jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST95DBO;currentSchema=DST95DBO;useJDBC4ColumnNameAndLabelSemantics=2;"/> 
<env name="database/databases/PegaDATA/userName" value="DST95DBO" /> 
<env name="database/databases/PegaDATA/password" value="DST95DBO" />
<env name="database/databases/PegaDATA/db2zos/dbname" value="DST95" />

DB2ZOS CONFIGURATION FOR DDLTESTSUITE:
----------------------------------------
these values saved in C:\PRPC\ravi in vengwin227
username, password:
vengwin227\engadmin
Pega2012
ent file present in prddl-test/schema
properties file present in prddl-test/src
DST95 VALUES WORKED FINE WITH DDLTESTSUITE, FOLLOWING URL MAY BE FOR DATABASETESTSUITE, IT IS WORKING FINE FOR DDLTESTSUITE ALSO
in url changed to dst95dbo from dst95rbo

dev.db2zos.url=jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST95DBO;currentSchema=DST95DBO;useJDBC4ColumnNameAndLabelSemantics=2;
dev.db2zos.username=DST95DBO
dev.db2zos.password=DST95DBO
dev.db2zos.schema =DST95DBO
dev.db2zos.dbname =DST95


FOLLOWING IS WORKING FINE FOR DDLTESTSUITE
dev.db2zos.url=jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST95DBO;currentSchema=DST95DBO;
dev.db2zos.username=DST95DBO
dev.db2zos.password=DST95DBO
dev.db2zos.schema =DST95DBO
dev.db2zos.dbname =DST95

src/schema/<user>-dynamic.ent file in pr3unitest:
<!ENTITY schema  "DST95DBO" >
<!ENTITY dbname  "DST95" >
<!ENTITY dbownr  "DST95DBO" >
<!ENTITY dbuser  "DST95" >
<!ENTITY ccsid  "UNICODE" >
<!ENTITY wlmappenv  "DBBDENVG" >
<!ENTITY wlmudf  "DBBDENVJ" >
<!ENTITY collection "DST97COL" >
<!ENTITY idxbp "BP2" >
<!ENTITY idxstg "DBBDDYN" >
<!ENTITY idxpri "7200" >
<!ENTITY idxsec "7200" >
<!ENTITY blbstg "DBBDDYN" >
<!ENTITY blbpri "14400" >
<!ENTITY blbsec "7200" >
<!ENTITY blblck "LOB" >
<!ENTITY blbbfp "BP4" >
<!ENTITY blblcm "0" >
<!ENTITY blblog "YES" >
<!ENTITY tsp4bp "BP5" >
<!ENTITY tsp8bp "BP8K0" >
<!ENTITY ts16bp "BP16K0" >
<!ENTITY ts32bp "BP32K" >
<!ENTITY tspstg "DBBDDYN" >
<!ENTITY tsppri "14400" >
<!ENTITY tspsec "7200" >
<!ENTITY tsplck "PAGE" >
<!ENTITY tsplcm "0" >

sql server dsm api enterprise edition configuration:
-----------------------------------
<env name="database/drivers" value="com.microsoft.sqlserver.jdbc.SQLServerDriver" />
	<env name="database/databases/PegaRULES/url" value="jdbc:sqlserver://10.225.69.18:1435;database=eng_te_2922;SelectMethod=cursor;SendStringParametersAsUnicode=false" />
	<env name="database/databases/PegaRULES/userName" value="eng_te_2922" />
	<env name="database/databases/PegaRULES/password" value="eng_te_2922"/>	
	<env name="database/databases/PegaRULES/defaultSchema" value="rules" />
	<env name="database/databases/PegaDATA/url" value="jdbc:sqlserver://10.225.69.18:1435;database=eng_te_2922;SelectMethod=cursor;SendStringParametersAsUnicode=false" />
	<env name="database/databases/PegaDATA/userName" value="eng_te_2922" />
	<env name="database/databases/PegaDATA/password" value="eng_te_2922"/>
<env name="database/databases/PegaDATA/defaultSchema" value="data" />

	<env name="database/databases/PegaSchemaBuilder/url" value="jdbc:sqlserver://10.225.69.18:1435;database=eng_te_2922;SelectMethod=cursor;SendStringParametersAsUnicode=false" />
	<env name="database/databases/PegaSchemaBuilder/userName" value="eng_te_2922" />
	<env name="database/databases/PegaSchemaBuilder/password" value="eng_te_2922"/>	
	<env name="database/databases/PegaSchemaBuilder/defaultSchema" value="rules" />
multiple drivers ion prconfig:
------------------------------
	<env name="database/drivers" value="com.microsoft.sqlserver.jdbc.SQLServerDriver;oracle.jdbc.OracleDriver" />
	
oracle dsm api configuration:
---------------------------------
<env name="database/drivers" value="oracle.jdbc.OracleDriver" /> 
<env name="database/databases/PegaSchemaBuilder/url" value="jdbc:oracle:thin:@10.225.68.96:1521:prpc"/> 
<env name="database/databases/PegaSchemaBuilder/userName" value="prpc_admin" /> 
<env name="database/databases/PegaSchemaBuilder/password" value="prpc_admin" />
  <env name="database/databases/PegaSchemaBuilder/defaultSchema" value="prpc_rules" />
  Database Name: prpc 
Admin user: prpc_admin/prpc_admin 
data schema: prpc_rules/prpc_rules 
rules schema: prpc_data/prpc_data 
Port: 1521 

saver api us-71479
-------------------------
sql object prepare statement clipboard page mapping pegadatabase mapper
fastloader is class name
saverloader
basephaseloader during install, for basic configuration, needed for fastloader
prprivate-deploy project
fastloader and saveloader are imp
testfastloadingstrategy loads archive using fastloader
testsaveloadingstrategy
during install fastloader, empty database, no need to use saver
during import using saveloader, because rules exist
this should run without starting engine
during upgrade use saveloader, because rules exist
importimpl.java
importimpl.installarchive()
import rap exactly equal to upgrade
triggers on rule tables
pr4_rule_view, update cache
explict insert 
load main rule

batchprocessor similar to fastprocessor, commit batch at once, not for rules as of now
try to insert if it fails, then update and vice vers

current story is for imports and upgrades
while saving rules perform triggers, cache updates should be done
bug-199204: fix dsm api security negative test case, partition integration test case


oracle create schema and create user
----------------------------------------
def PEGA_COMMN_SCHEMA=singleschemalatest
def DB_DATA_FILE_DIR=D:\app\jakkr\oradata\orcl
connect sys/Welcome1@orcl as SYSDBA;
create tablespace &PEGA_COMMN_SCHEMA._PRPC logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA._PRPC01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;

create user &PEGA_COMMN_SCHEMA._PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

create user pegauser identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;
create user pegabaseuser identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

grant connect to pegauser;
grant create any table, create any index, create any view, create any trigger, create any sequence to pegauser;
grant connect, resource, create view to pegauser;
grant create session, create any table, create any index, create any view, create any trigger, create any sequence to pegauser;
grant connect, resource, create view to pegauser;
grant create any type, create any procedure to pegauser;
grant ALTER ANY TABLE, INSERT ANY TABLE, SELECT ANY TABLE, UPDATE ANY TABLE, DELETE ANY TABLE, EXECUTE ANY PROCEDURE to pegauser;
grant ALTER ANY TRIGGER, GRANT ANY OBJECT PRIVILEGE, DROP ANY TRIGGER, DROP ANY TABLE, DROP ANY INDEX, ANALYZE ANY, ANALYZE ANY DICTIONARY to pegauser;
grant SELECT_CATALOG_ROLE to pegauser;
grant create any type, create any procedure, create session, create any table, create any index, create any view, create any trigger, create any sequence to &PEGA_COMMN_SCHEMA._PRPC;
grant create session, create any table, create any procedure, create any view, create any trigger, create any type to pegabaseuser;
 
 
 -- USER SQL
-- DROP USER "PEGA" CASCADE;

CREATE USER PEGAADMIN IDENTIFIED BY pega DEFAULT TABLESPACE "USERS" TEMPORARY TABLESPACE "TEMP";
CREATE USER PEGADATA IDENTIFIED BY pega DEFAULT TABLESPACE "USERS" TEMPORARY TABLESPACE "TEMP";
CREATE USER PEGARULES IDENTIFIED BY pega DEFAULT TABLESPACE "USERS" TEMPORARY TABLESPACE "TEMP";

-- ROLES

-- SYSTEM PRIVILEGES

grant create session to "PEGAADMIN" ;
grant create any table to "PEGAADMIN" ;
grant alter any table to "PEGAADMIN" ;
grant insert any table to "PEGAADMIN" with admin option ;
GRANT SELECT ANY TABLE to "PEGAADMIN" ;
grant update any table to "PEGAADMIN" ;
grant delete any table to "PEGAADMIN" ;
grant create any index to "PEGAADMIN" ;
grant create any procedure to "PEGAADMIN" ;
grant execute any procedure to "PEGAADMIN" ;
grant create any view to "PEGAADMIN" ;
grant create any type to "PEGAADMIN" ;
grant create any trigger to "PEGAADMIN" ;
grant alter any trigger to "PEGAADMIN" ;
grant grant any object privilege to "PEGAADMIN" ;
grant drop any trigger to "PEGAADMIN" ;
grant drop any table to "PEGAADMIN" ;
grant drop any procedure to "PEGAADMIN" ;
GRANT DROP ANY VIEW to "PEGAADMIN" ;
grant analyze any to "PEGAADMIN" ;
grant analyze any dictionary to "PEGAADMIN" ;

GRANT CREATE SESSION TO "PEGADATA" ;


-- QUOTAS
ALTER USER PEGAADMIN QUOTA UNLIMITED ON USERS;
ALTER USER PEGADATA QUOTA UNLIMITED ON USERS;
alter user PEGARULES quota unlimited on USERS;

banagalore electricity bill srilakshmi residency green glen layout:
account id 3763998000

activity to clone table:
---------------------------
String className = tools.getParamValue("className");
com.pega.pegarules.priv.database.PegaDatabase db = (com.pega.pegarules.priv.database.PegaDatabase) tools.getDatabase();
/*
The implicit assumption is that the Work tables and assignment tables must 
reside in the same schema at the time of this code.
*/
String baseClassName = tools.getParamValue("baseClassName");
ClassDefinition cd = db.getClassDef(baseClassName);
try {
   oLog.debug("Using the " + DatabaseName + " Data-Admin-DB-Name entry.");
   DatabaseTable dt = cd.getTable();
   SchemaName = dt.getSchemaName();
   oLog.debug("Schema: " + SchemaName);
   CatalogName = dt.getCatalogName();
   oLog.debug("Catalog: " + CatalogName);
}
catch(DatabaseException de) {
   oLog.error("Couldn't determine the name of the Data-Admin-DB-Name entry using PegaRULES DB entry.", de);
}
java.util.List ddlStatements = null;
try {
   String toClass = className;
   if(className.startsWith("History-")) {
     toClass = tools.getParamValue("baseClassName");
	 }
   ddlStatements = db.copyTableforClass(baseClassName, toClass, newTableName,DatabaseName);}
catch(Exception e) {
   oLog.error("Unable to generate DDL statement(s) for table '" + newTableName + "' (" + className + "):  ", e);
   status = e.getMessage();
   nextBlock = "ERR";
   return false; 
}
if (ddlStatements==null) {
   //not sure that this is needed....
   status = "Unable to generate DDL for work table.";
   oLog.error(status);
   nextBlock = "ERR";
   return false; 
}
if (oLog.isDebugEnabled()) {
   oLog.debug("target work class: " + className);
   oLog.debug("target work table: " + newTableName); 
   for (int i=0; i<ddlStatements.size(); i++) {
      oLog.debug("DDL: " + ddlStatements.get(i));
   }
}

//TODO: 1. need to figure out how to retrieve appropriate credentials 
//TODO: 2. need to figure out which Data-Admin-DB-Name to use

try {
   db.executeDBSchemaUpdates(ddlStatements, DatabaseName, null, null);
}
catch(Exception e) {
   oLog.error("Unable to execute DDL statement(s) for work table '" + newTableName + "' (" + className + "):  ", e);
   status = e.getMessage();
   nextBlock = "ERR";
   return false; 
}

dst97 values:
<!ENTITY schema  "DST97DBO" >
<!ENTITY dbname  "DST97" >
<!ENTITY dbownr  "DST97DBO" >
<!ENTITY dbuser  "DST97DBO" >
<!ENTITY ccsid  "UNICODE" >
<!ENTITY wlmappenv  "DBBDENVG" >
<!ENTITY wlmudf       "DBBDENVJ" >
<!ENTITY collection  "DST97COL" >

<!ENTITY idxbp  "BP2" >
<!ENTITY idxstg  "DBBDDYN" >
<!ENTITY idxpri  "7200" >
<!ENTITY idxsec  "7200" >

<!ENTITY blbstg  "DBBDDYN" >
<!ENTITY blbpri  "14400" >
<!ENTITY blbsec  "7200" >
<!ENTITY blblck  "LOB" >
<!ENTITY blbbfp  "BP4" >
<!ENTITY blblcm  "0" >
<!ENTITY blblog  "YES" >

<!ENTITY tsp4bp  "BP5" >
<!ENTITY tsp8bp  "BP8K0" >
<!ENTITY ts16bp  "BP16K0" >
<!ENTITY ts32bp  "BP32K" >
<!ENTITY tspstg  "DBBDDYN" >
<!ENTITY tsppri  "14400" >
<!ENTITY tspsec  "7200" >
<!ENTITY tsplck  "PAGE" >
<!ENTITY tsplcm  "0" >


								dst95 values:
								<env name="database/databases/PegaRULES/dataSource" value="java:comp/env/jdbc/PegaRULES" /> 
<env name="database/drivers" value="com.ibm.db2.jcc.DB2Driver" /> 
<env name="database/databases/PegaRULES/url" value="jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST95RBO;currentSchema=DST95RBO;useJDBC4ColumnNameAndLabelSemantics=2;"/> 
<env name="database/databases/PegaRULES/userName" value="DST95DBO" /> 
<env name="database/databases/PegaRULES/password" value="DST95DBO" /> 
 <env name="database/databases/PegaDATA/url" value="jdbc:db2://ZOSD01:6028/DBBDLOC:fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;currentFunctionPath=SYSIBM,SYSFUN,DST95DBO;currentSchema=DST95DBO;useJDBC4ColumnNameAndLabelSemantics=2;"/> 
<env name="database/databases/PegaDATA/userName" value="DST95DBO" /> 
<env name="database/databases/PegaDATA/password" value="DST95DBO" />  

src/schema/dynamic.ent file in pr3unitest:
<!ENTITY schema  "DST95DBO" >
<!ENTITY dbname  "DST95" >
<!ENTITY dbownr  "DST95DBO" >
<!ENTITY dbuser  "DST95" >
<!ENTITY ccsid  "UNICODE" >
<!ENTITY wlmappenv  "DBBDENVG" >
<!ENTITY wlmudf  "DBBDENVJ" >
<!ENTITY collection "DST97COL" >
<!ENTITY idxbp "BP2" >
<!ENTITY idxstg "DBBDDYN" >
<!ENTITY idxpri "7200" >
<!ENTITY idxsec "7200" >
<!ENTITY blbstg "DBBDDYN" >
<!ENTITY blbpri "14400" >
<!ENTITY blbsec "7200" >
<!ENTITY blblck "LOB" >
<!ENTITY blbbfp "BP4" >
<!ENTITY blblcm "0" >
<!ENTITY blblog "YES" >
<!ENTITY tsp4bp "BP5" >
<!ENTITY tsp8bp "BP8K0" >
<!ENTITY ts16bp "BP16K0" >
<!ENTITY ts32bp "BP32K" >
<!ENTITY tspstg "DBBDDYN" >
<!ENTITY tsppri "14400" >
<!ENTITY tspsec "7200" >
<!ENTITY tsplck "PAGE" >
<!ENTITY tsplcm "0" >

aPPLYING HOT FIX:
Jakkamputi, Ravi Prakash 11:54 AM
Hi, I shall test ML6 VPD Hotfix
downloaded the hotfix jar
could you sugest me how to apply this patch
Vecha, Rajendra 12:03 PM
Hi
You can generate DL in SE system
then install the DL in any ML6 PRPC system through Update Manager
Jakkamputi, Ravi Prakash 12:04 PM
we are new to the process
what is DL
Vecha, Rajendra 12:04 PM
http://gcssupport/pr3web/PegaSupport
can you log in?
with your domain credentials
Jakkamputi, Ravi Prakash 12:05 PM
Aslo could you give me th elink for update manager
do you mean the upgrade option
during installation of PRPC
I have already loged in
and downloaded the jat attached for se request
Vecha, Rajendra 12:06 PM
then you can click on Action> Delivery Item
It is not suggested to test the jar downloaded from SE item.
Jakkamputi, Ravi Prakash 12:07 PM
ok
Vecha, Rajendra 12:08 PM
feel free to share the screen and call if you need any help.
181 2163
Jakkamputi, Ravi Prakash 12:08 PM
I am only testing it
I can do this right
Vecha, Rajendra 12:09 PM
yes
Jakkamputi, Ravi Prakash 12:11 PM
I have created DL and downloaded it
Vecha, Rajendra 12:11 PM
cool.
Now you can log in to PRPC..
Jakkamputi, Ravi Prakash 12:11 PM
dl-46935
Vecha, Rajendra 12:12 PM
system->release->hotfixmanager

to install... Select System> Tools> Update Manager > Install Hotfix
Jakkamputi, Ravi Prakash 12:12 PM
ok

java Learnings:
-----------------
best tutorial: http://tutorials.jenkov.com/
condition statement using ? :
using charat api of string to manipulate it
using stringbuilder to construct a string
volatile variable declaration, need
enum type is like a list of standard constants referred using enum type name
get tables list:
http://www.herongyang.com/JDBC/sqljdbc-jar-Table-List.html

junit learnings:
----------------
use expected parameter for Test annotation if any exception is expected
junit uses hamcrest jar expecially hamcrest-core classes

eclipse learnings:
----------------
to create eclipse jmeter project, downloaded jars using ant download_jars
while creating new project in eclipse selected the jmeter source code folder, eclipse.classpath got used as .classpath file by default by copying from eclipse.classpath


eclipse ant:
------------
references: eclipse.readme file jmeter source code
window->show view-> ant
drag build.xml from your project to ant view
right click the target and invoke

project download location:
--------------------------
github, search for project name like jmeter and download the zip file available
we can search in specific repository like apache

cuttyhunk instance build location:
--------------------------------------
http://spacker1.rpega.com:8080/job/pega-cloud-launch/300/console

bugs:
logs are different in parallel mode
2016-02-14 16:07:15,286 [   PegaRULES-Batch-4] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  File.UploadUtilityManifestListener|process|AC8F1E02D2C484F0F6A0DB57F95470B80|1455374688684002|UploadUtilityServicePackage/UploadUtilityServicePackage/pzUploadUtilityFileService Admin@deshaw - Re-added indexes in staging table.
2016-02-14 16:07:15,288 [   PegaRULES-Batch-4] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  File.UploadUtilityManifestListener|process|AC8F1E02D2C484F0F6A0DB57F95470B80|1455374688684002|UploadUtilityServicePackage/UploadUtilityServicePackage/pzUploadUtilityFileService Admin@deshaw - Fetched the foreign references to this table.
2016-02-14 16:07:15,288 [   PegaRULES-Batch-4] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  File.UploadUtilityManifestListener|process|AC8F1E02D2C484F0F6A0DB57F95470B80|1455374688684002|UploadUtilityServicePackage/UploadUtilityServicePackage/pzUploadUtilityFileService Admin@deshaw - Dropped foreign references to this table.
2016-02-14 16:07:15,289 [   PegaRULES-Batch-4] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  File.UploadUtilityManifestListener|process|AC8F1E02D2C484F0F6A0DB57F95470B80|1455374688684002|UploadUtilityServicePackage/UploadUtilityServicePackage/pzUploadUtilityFileService Admin@deshaw - Dropped source table and renamed staging to source table.
2016-02-14 16:07:15,289 [   PegaRULES-Batch-4] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  File.UploadUtilityManifestListener|process|AC8F1E02D2C484F0F6A0DB57F95470B80|1455374688684002|UploadUtilityServicePackage/UploadUtilityServicePackage/pzUploadUtilityFileService Admin@deshaw - Re-added foreign references.
2016-02-14 16:07:15,289 [   PegaRULES-Batch-4] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  File.UploadUtilityManifestListener|process|AC8F1E02D2C484F0F6A0DB57F95470B80|1455374688684002|UploadUtilityServicePackage/UploadUtilityServicePackage/pzUploadUtilityFileService Admin@deshaw - Renamed constraints and indexes.
2016-02-14 16:07:15,292 [   PegaRULES-Batch-3] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  localhost|127.0.0.1  - Re-added constraints in staging table.
2016-02-14 16:07:15,294 [   PegaRULES-Batch-4] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  File.UploadUtilityManifestListener|process|AC8F1E02D2C484F0F6A0DB57F95470B80|1455374688684002|UploadUtilityServicePackage/UploadUtilityServicePackage/pzUploadUtilityFileService Admin@deshaw - *********** Successfully Uploaded data in replace mode ***********
2016-02-14 16:07:15,307 [   PegaRULES-Batch-3] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  localhost|127.0.0.1  - Re-added indexes in staging table.
2016-02-14 16:07:15,309 [   PegaRULES-Batch-3] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  localhost|127.0.0.1  - Fetched the foreign references to this table.
2016-02-14 16:07:15,309 [   PegaRULES-Batch-3] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  localhost|127.0.0.1  - Dropped foreign references to this table.
2016-02-14 16:07:15,310 [   PegaRULES-Batch-3] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  localhost|127.0.0.1  - Dropped source table and renamed staging to source table.
2016-02-14 16:07:15,310 [   PegaRULES-Batch-3] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  localhost|127.0.0.1  - Re-added foreign references.
2016-02-14 16:07:15,311 [   PegaRULES-Batch-3] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  localhost|127.0.0.1  - Renamed constraints and indexes.
2016-02-14 16:07:15,314 [   PegaRULES-Batch-3] [  STANDARD] [                    ] [    raviapp:01.01.01] (                  DataUploader) INFO  localhost|127.0.0.1  - *********** Successfully Uploaded data in replace mode **********
timeout:
2016-02-14 13:30:36,156 [      FILE-Thread-51] [  STANDARD] [                    ] [                    ] (   internal.mgmt.RequestorPool) ERROR File.UploadUtilityManifestListener|process Admin@deshaw - Timed out borrowing service requestor from requestor pool for service package: UploadUtilityServicePackage
2016-02-14 13:30:36,156 [      FILE-Thread-51] [  STANDARD] [                    ] [                    ] (   internal.mgmt.PREnvironment) ERROR File.UploadUtilityManifestListener|process Admin@deshaw - Problem obtaining requestor from ServiceRequestorPool
com.pega.pegarules.pub.PRException: Timed out borrowing service requestor from requestor pool for service package: UploadUtilityServicePackage
From: (unknown) 
	at com.pega.pegarules.session.internal.mgmt.RequestorPool.borrowRequestor(RequestorPool.java:492)
	at com.pega.pegarules.session.internal.mgmt.RequestorPoolManager.borrowRequestor(RequestorPoolManager.java:77)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.borrowRequestor(PRSessionProviderImpl.java:650)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.obtainRequestor(PRSessionProviderImpl.java:1481)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.doWithRequestorLocked(PRSessionProviderImpl.java:987)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.doWithRequestorLocked(PRSessionProviderImpl.java:848)
	at com.pega.pegarules.integration.engine.internal.services.ServiceAPI.getServiceMethod(ServiceAPI.java:3075)
	at com.pega.pegarules.integration.engine.internal.services.file.PropertiesServiceFile.<init>(PropertiesServiceFile.java:219)
	at com.pega.pegarules.integration.engine.internal.services.file.PropertiesServiceFile.<init>(PropertiesServiceFile.java:224)
	at com.pega.pegarules.integration.engine.internal.services.file.FileListener.drainDirectory(FileListener.java:1220)
	at com.pega.pegarules.integration.engine.internal.services.file.FileListener.run_(FileListener.java:1910)
	at com.pega.pegarules.integration.engine.internal.services.listener.ServiceListenerBaseImpl.run(ServiceListenerBaseImpl.java:454)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.util.NoSuchElementException: Timeout waiting for idle object
	at com.pega.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:751)
	at com.pega.pegarules.session.internal.mgmt.RequestorPool.borrowRequestor(RequestorPool.java:479)
	... 12 more
2016-02-14 13:30:36,156 [      FILE-Thread-41] [  STANDARD] [                    ] [                    ] (   internal.mgmt.RequestorPool) ERROR File.UploadUtilityManifestListener|process Admin@deshaw - Timed out borrowing service requestor from requestor pool for service package: UploadUtilityServicePackage
2016-02-14 13:30:36,156 [      FILE-Thread-41] [  STANDARD] [                    ] [                    ] (   internal.mgmt.PREnvironment) ERROR File.UploadUtilityManifestListener|process Admin@deshaw - Problem obtaining requestor from ServiceRequestorPool
com.pega.pegarules.pub.PRException: Timed out borrowing service requestor from requestor pool for service package: UploadUtilityServicePackage
From: (unknown) 
	at com.pega.pegarules.session.internal.mgmt.RequestorPool.borrowRequestor(RequestorPool.java:492)
	at com.pega.pegarules.session.internal.mgmt.RequestorPoolManager.borrowRequestor(RequestorPoolManager.java:77)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.borrowRequestor(PRSessionProviderImpl.java:650)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.obtainRequestor(PRSessionProviderImpl.java:1481)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.doWithRequestorLocked(PRSessionProviderImpl.java:987)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.doWithRequestorLocked(PRSessionProviderImpl.java:848)
	at com.pega.pegarules.integration.engine.internal.services.ServiceAPI.getServiceMethod(ServiceAPI.java:3075)
	at com.pega.pegarules.integration.engine.internal.services.file.PropertiesServiceFile.<init>(PropertiesServiceFile.java:219)
	at com.pega.pegarules.integration.engine.internal.services.file.PropertiesServiceFile.<init>(PropertiesServiceFile.java:224)
	at com.pega.pegarules.integration.engine.internal.services.file.FileListener.drainDirectory(FileListener.java:1220)
	at com.pega.pegarules.integration.engine.internal.services.file.FileListener.run_(FileListener.java:1910)
	at com.pega.pegarules.integration.engine.internal.services.listener.ServiceListenerBaseImpl.run(ServiceListenerBaseImpl.java:454)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.util.NoSuchElementException: Timeout waiting for idle object
	at com.pega.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:751)
	at com.pega.pegarules.session.internal.mgmt.RequestorPool.borrowRequestor(RequestorPool.java:479)
	... 12 more
2016-02-14 13:30:36,157 [      FILE-Thread-41] [  STANDARD] [                    ] [                    ] (    services.file.FileListener) ERROR File.UploadUtilityManifestListener Admin@deshaw - Exception caught while processing service files.
com.pega.pegarules.pub.PRException: Timed out borrowing service requestor from requestor pool for service package: UploadUtilityServicePackage
From: (unknown) 
	at com.pega.pegarules.session.internal.mgmt.RequestorPool.borrowRequestor(RequestorPool.java:492)
	at com.pega.pegarules.session.internal.mgmt.RequestorPoolManager.borrowRequestor(RequestorPoolManager.java:77)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.borrowRequestor(PRSessionProviderImpl.java:650)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.obtainRequestor(PRSessionProviderImpl.java:1481)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.doWithRequestorLocked(PRSessionProviderImpl.java:987)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.doWithRequestorLocked(PRSessionProviderImpl.java:848)
	at com.pega.pegarules.integration.engine.internal.services.ServiceAPI.getServiceMethod(ServiceAPI.java:3075)
	at com.pega.pegarules.integration.engine.internal.services.file.PropertiesServiceFile.<init>(PropertiesServiceFile.java:219)
	at com.pega.pegarules.integration.engine.internal.services.file.PropertiesServiceFile.<init>(PropertiesServiceFile.java:224)
	at com.pega.pegarules.integration.engine.internal.services.file.FileListener.drainDirectory(FileListener.java:1220)
	at com.pega.pegarules.integration.engine.internal.services.file.FileListener.run_(FileListener.java:1910)
	at com.pega.pegarules.integration.engine.internal.services.listener.ServiceListenerBaseImpl.run(ServiceListenerBaseImpl.java:454)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.util.NoSuchElementException: Timeout waiting for idle object
	at com.pega.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:751)
	at com.pega.pegarules.session.internal.mgmt.RequestorPool.borrowRequestor(RequestorPool.java:479)
	... 12 more
2016-02-14 13:30:36,157 [      FILE-Thread-51] [  STANDARD] [                    ] [                    ] (    services.file.FileListener) ERROR File.UploadUtilityManifestListener Admin@deshaw - Exception caught while processing service files.
com.pega.pegarules.pub.PRException: Timed out borrowing service requestor from requestor pool for service package: UploadUtilityServicePackage
From: (unknown) 
	at com.pega.pegarules.session.internal.mgmt.RequestorPool.borrowRequestor(RequestorPool.java:492)
	at com.pega.pegarules.session.internal.mgmt.RequestorPoolManager.borrowRequestor(RequestorPoolManager.java:77)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.borrowRequestor(PRSessionProviderImpl.java:650)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.obtainRequestor(PRSessionProviderImpl.java:1481)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.doWithRequestorLocked(PRSessionProviderImpl.java:987)
	at com.pega.pegarules.session.internal.PRSessionProviderImpl.doWithRequestorLocked(PRSessionProviderImpl.java:848)
	at com.pega.pegarules.integration.engine.internal.services.ServiceAPI.getServiceMethod(ServiceAPI.java:3075)
	at com.pega.pegarules.integration.engine.internal.services.file.PropertiesServiceFile.<init>(PropertiesServiceFile.java:219)
	at com.pega.pegarules.integration.engine.internal.services.file.PropertiesServiceFile.<init>(PropertiesServiceFile.java:224)
	at com.pega.pegarules.integration.engine.internal.services.file.FileListener.drainDirectory(FileListener.java:1220)
	at com.pega.pegarules.integration.engine.internal.services.file.FileListener.run_(FileListener.java:1910)
	at com.pega.pegarules.integration.engine.internal.services.listener.ServiceListenerBaseImpl.run(ServiceListenerBaseImpl.java:454)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.util.NoSuchElementException: Timeout waiting for idle object
	at com.pega.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:751)
	at com.pega.pegarules.session.internal.mgmt.RequestorPool.borrowRequestor(RequestorPool.java:479)
	
	
	when in sequence mode one upload fails next upload does not happen
	log message is displayed as replace mode even for append mode
	files not cleared in parallel mode from staging location
	content of manifest_files is not cleared
	
	cuttyhunk new ip:
	10.123.0.91
	docker ps
	docker exec -it 65fe2547892c bash
	SELECT
   relname as "Table",
   pg_size_pretty(pg_total_relation_size(relid)) As "Size",
   pg_size_pretty(pg_total_relation_size(relid) - pg_relation_size(relid)) as "External Size"
   FROM pg_catalog.pg_statio_user_tables ORDER BY pg_total_relation_size(relid) DESC;
   
   
   postgres create schema:
   ----------------------------
   DROP SCHEMA IF EXISTS agentsprpc CASCADE;
DROP USER IF EXISTS agentsprpc;
CREATE USER agentsprpc PASSWORD 'prpc';
CREATE SCHEMA agentsprpc AUTHORIZATION agentsprpc;
ALTER ROLE agentsprpc SET search_path TO agentsprpc;
ALTER DEFAULT PRIVILEGES FOR USER agentsprpc IN SCHEMA agentsprpc GRANT ALL ON TABLES TO agentsprpc;
ALTER ROLE agentsprpc SET search_path TO agentsprpc;
GRANT CREATE, USAGE ON SCHEMA agentsprpc TO agentsprpc;

data upload utility:
--------------------------
https://pdn.pega.com/importing-data-pega-cloud-database/importing-data-pega-cloud-database
property names can be found in the data transform of the class DataUploadUtility-Env
property name is mentioned in purpose field of dynamic setting DataUploadUtility/env/loc/uploadfile

main class is Data-UploadUtility-ManifestFile, all other classes are sub classes of this one

enable file listener for upload utility, which is disabled by default
In Designer Studio, click Records > Integration-Resources > File listener.
In the LISTENER NAME column, locate and click UploadUtilityManifestListener.
Clear the Block startup check box to enable this file listener.
In the Startup option field, select Run on all nodes.
Click Save.

data-admin-settings add three instances, setting purpose should be the path like “DataUploadUtility/env/loc/uploadfile" and value should be the local path value

create following data-admin-system-setings
ile directory	•	Owning ruleset – Pega-RulesEngine
•	setting – DataUploadUtility/env/loc/uploadfile
value- your local file location
Stage directory	•	Owning ruleset – Pega-RulesEngine
•	setting – “DataUploadUtility/env/loc/staging
value- your local file location
Manifest file directory	•	Owning ruleset - Pega-RulesEngine
•	setting - DataUploadUtility/env/loc/manifest

start sma
select local jvm connection for node
select the listener and start it, listener column values should be displayed

do mapping between class and table
create manifest file and place it in manifest location

deployment guide for upgrade:
-------------------------------
https://pdn.pega.com/support-resources/deployment-upgrades/deployment-guides

*	Pega 7.2 Platform Upgrade Guide <https://pdn.pega.com/documents/pega-72-platform-upgrade-guide> 
upgrade data table
upgrade.bat --dataOnly true



zerodowntime testing:
----------------------
create schema manager with xml, clear current schema, check for functions in xml schema manager, get update ddl between xml and schema, execute ddl


epic grooming:
----------------

@ProductFeatureCovered(backlog=Backlog.DataEngine, functionalArea=FunctionalArea.TransactionManagement)
@Epic11571(AnnotationState.BUGATTI_FIRST_PASS)
@TestDepth(Smoke)


@ProductFeaturesCovered({
	@ProductFeatureCovered(backlog=Backlog.CoreEngine, functionalArea=FunctionalArea.ClipboardAndValidation, subArea=SubArea.VirtualPageList),
	@ProductFeatureCovered(backlog=Backlog.DataManagement, functionalArea=FunctionalArea.Properties)
})
@Epic11571(AnnotationState.BUGATTI_FIRST_PASS)
@TestDepth(Confidence)
@TestSize(TestSizeType.SERVERLESS)

@ProductFeatureCovered( backlog=Backlog.Integration, functionalArea=FunctionalArea.DataTransformations, subArea=SubArea.ParseXML )	// FR-508
@Epic11571(AnnotationState.OWNING_TEAM_COMPLETE)
@TestDepth(ScopeType.Confidence)
@TestSize(TestSizeType.FULLBLOWN)
@RequiredSchema(SchemaType.Agnostic)


update only one column with one value in using clause
update multiple columns with only one value in using clause by using same value for all value fields
update all columns with less number of values in using clause by ensuring that value field exists for all the update columns
insert only one column with one value in using clause
insert multiple columns with only one value in using clause by using same value for all value fields
insert all columns with less number of values in using clause by ensuring that value field exists for all the update columns
update primary key column value for a row using matched clause
update multiple column values in different rows using matching condition with AND operator 
update multiple column values in different rows using matching condition with OR operator
update column values in single row using matched clause
insert/update values of date type column using different date formats
insert/update values of different data types like integer, boolean, varchar, datetime and numeric
insert/update column values with null values
insert/update column values with empty value
insert/update all the columns of the table
update should happen only for all the matching rows
test with data having no matching rows and it should get inserted
batch update with merge statement
batch insert with merge statement

Literal equals:
Matched on condition with text column value equals literal
Matched on condition with text column value equals literal, without using prefix for the column mentioned n the condition
Matched on condition with multiple filters joined by AND operator, in each filter  text column value equals literal 
Matched on condition with multiple filters joined by OR operator, in each filter  text column value equals literal 

Literal not equals:
Matched on condition with text column value NOT equals literal
Matched on condition with multiple filters joined by AND operator, in each filter  text column value NOT equals literal 
Matched on condition with multiple filters joined by OR operator, in each filter  text column value NOT equals literal 

Literal Like:
Matched on condition with text column value like literal
Matched on condition with text column value NOT like literal

Literal Greater Than:
Matched on condition with integer column value gerater than literal
Matched on condition with integer column value gerater than or equals literal
Matched on condition with decimal column value gerater than literal
Matched on condition with decimal column value gerater than or equals literal
Matched on condition with double column value greater than literal
Matched on condition with double column value greater than or equals literal
Matched on condition with datetime column value greater than literal
Matched on condition with datetime column value greater than or equals literal
Matched on condition with timeofday column value greater than literal
Matched on condition with timeofday column value greater than or equals literal

Literal lesser Than:
Matched on condition with integer column value lesser than literal
Matched on condition with integer column value lesser than or equals literal
Matched on condition with decimal column value lesser than literal
Matched on condition with decimal column value lesser than or equals literal
Matched on condition with double column value lesser than literal
Matched on condition with double column value lesser than or equals literal
Matched on condition with datetime column value lesser than  literal
Matched on condition with datetime column value lesser than  or equals literal
Matched on condition with timeofday column value lesser than literal
Matched on condition with timeofday column value lesser than or equals literal

NULL:
Matched on condition with integer column value equals NULL
Matched on condition with integer column value NOT equals to NULL
Matched on condition with decimal column value equals NULL
Matched on condition with decimal column value NOT equals to NULL
Matched on condition with datetime column value equals NULL
Matched on condition with datetime column value NOT equals to NULL

Literals IN:
Matched on condition with integer column value IN list of literals
Matched on condition with integer column value NOT IN list of literals
Matched on condition with integer column value IN list of literals starting with empty string
Matched on condition with integer column value IN list of literals with empty string in the middle
Matched on condition with integer column value IN list of literals with empty string at the end
Matched on condition with decimal column value IN list of literals
Matched on condition with decimal column value NOT IN list of literals
Matched on condition with double column value IN list of literals
Matched on condition with double column value NOT IN list of literals
Matched on condition with datetime column value IN list of literals
Matched on condition with datetime column value NOT IN list of literals
Matched on condition with timeofday column value IN list of literals
Matched on condition with timeofday column value NOT IN list of litera

Literals BETWEEN:
Matched on condition with DATE column value BETWEEN list of literals
Matched on condition with DATE column value NOT BETWEEN list of literals

Multiconditions:
Matched on condition which involves multiple filters in the format (A and B) OR (C and D)
UnMatched on condition which involves multiple filters in the format (A and B) OR (C and D)

On Condition involving Columns of table:
Matched on condition with text column value equals another text column value
UnMatched on condition with text column value equals another text column value
Matched on contition having multiple filters in the format (A and B) OR (C and D), with filters involving only columns of the table and not the literals

Exception should be thrown if value field is associated with non existing column name in using clause
Exception should be thrown if value being inserted is not present in using clause
Exception should be thrown if value used for update is not present in using clause
Exception should be thrown if type of value being updated/inserted does not match with column type mentioned in using field
proper exception should be thrown if update/insert results in primary key violation
Exception should be thrown when primary key is set to null value
exception should be thrown if upsert is tried for Rule- class
proper exception should be thrown in MT environment
exception should be thrown if columns count does not match with values count in "when not matched" clause


junit issues:
-------------------
initialization error is thrown if setup method is not static

				((PegaDatabase)getDatabase()).getNativeSQLBuilder()
						.select(
								NativeSQL.field("TP", TestDataPropertyConstants.ID, "Work ID")
								)
								.from(PROJECT_CLASSGROUP, "TP")
								.where(
										NativeSQL.filter("A", "TP."+TestDataPropertyConstants.STATUS, OperatorType.EQ, "Open.new", true)
										)
										.filterLogic("A")
										;
				if(retrieveResultsAsList) {

SELECT "TP".Id AS "WorkID" FROM filelistenertest.pc_QQ1458389636205 "TP" WHERE  ( "TP".Status = [:1] ) 
SELECT "TP".Id AS "WorkID" FROM filelistenertest.pc_QQ1458463260026 "TP" WHERE  ( REPLACE("TP".pyID,[:1],[:2]) = pyID AND "TP".Id = [:3] ) 


tasks:
log bug for orderbyrulefunction tests, failure when only one of the tests in nativesqlapi class is run


nativesql knowledge:
----------------------
resolver is NativeSQLAPIResolver
LEARNT GROUP BY WITH WHERE
GENERALY QUERIES ARE NOT IN QUERY ONLY MODE
NATIVESQLCONT OBJECT . GETBASICINFO METHOD WILL RETURN INformation like schema name, database,queryonly mode etc
in listexecutor.execute method you have nativesqlinfo object just before returning results where we can see the query and prepared values
 NativeSQL.analyticFunction("rank", AnalyticFunctionType.RANK, partitionFieldsList, orderByFieldsList) mainly we have rank, dense rank  and row-number
field type is ProjectionField
rank over, partition by, order by
SELECT "TR".Name AS "Name" , "TR".Status AS "Status" , "TR".pxCreateOperator AS "pxCreateOperator" , RANK() OVER (PARTITION BY "TR".Status  ORDER BY "TR".Name ) AS "rank" FROM filelistenertest.pc_QQ1458893742030 "TR"
partition by multiple fields also follows an order, first ordered by first field and then second field
assertion using clipboard page:
resultspage.hasmessages() will check for any errors in the page
resultspage.getproperty(pxresults)
resultsproperty.getpagevalue(1).getstring("property")

rank, denserank and rownumber: rownumber is always unique, rank and dense rank can be same for 2 rows
SELECT "TR".Status AS "Status" , "TR".pxCreateOperator AS "pxCreateOperator" , RANK() OVER (PARTITION BY "TR".Status ORDER BY "TR".pxCreateOperator ) AS "rank" , DENSE_RANK() OVER (PARTITION BY "TR".Status ORDER BY "TR".pxCreateOperator ) AS "denseRank" , ROW_NUMBER() OVER (PARTITION BY "TR".Status ORDER BY "TR".pxCreateOperator ) AS "rowNumber" FROM filelistenertest.pc_QQ1458893742030 "TR"

rownumber can be given without partition, 
SELECT "TR".Name AS "Name" , ROW_NUMBER() OVER ( ORDER BY "TR".Name DESC ) AS "rank" FROM filelistenertest.pc_QQ1458893742030 "TR"

use the enum  AnalyticFunctionType.DENSE_RANK
empty alias in thefield will not work
to order by descending order use, alos projected fields can be passed a sparameters instead of indices
		.analyticOrderBy(orderByFieldsList, new SortType[]{SortType.DESC, SortType.DESC}, 1, 2)

rank as inner query:
SELECT "PARENTT"."Name" AS "Name" , "PARENTT"."Status" AS "Status" , "PARENTT"."pyRank" AS "pyRank" FROM ( SELECT "TR".Name AS "Name" , "TR".Status AS "Status" , RANK() OVER ( ORDER BY "TR".Name ) AS "pyRank" FROM filelistenertest.pc_QQ1458893742030 "TR" ) "PARENTT" WHERE  ( "PARENTT"."pyRank" <= 2 )



 SELECT LENGTH("A".pyID) AS "Length", COUNT("A".Name) AS "pySummaryCount(1)" FROM filelistenertest.pc_QQ1458815711212 "A" WHERE  ( "A".Id = [:1] )  GROUP BY LENGTH("A".pyID)

 
 data upgrade issue:
 change pyname column in <ruleschema>.pr_data_admin_product table to value of "Pega-Build-Name:" property present in <distribution image>/rules/PRPC_rules.jar/MANIFEST/MANIFEST.MF file ?
manually update the column in the table equal to the above property
Jakkamputi, Ravi Prakash [6:35 PM]: 
that value is correct only
i think the problem is referring to wrong table
Kukudala, Giribabu [6:35 PM]: 
no
table name is wrong only in log message
not in query
Jakkamputi, Ravi Prakash [6:36 PM]: 
it says table does not exist
ok
Kukudala, Giribabu [6:37 PM]: 
what is the value in database column?
can u copy paste?
Jakkamputi, Ravi Prakash [6:41 PM]: 
"coreAssembly_HEAD_10935"
in file it is coreRules_HEAD_10935
Kukudala, Giribabu [6:42 PM]: 
value in pysetting column>
?
it should be "07-10-25"
Jakkamputi, Ravi Prakash [6:43 PM]: 
"07-10-25"
yes it is correct
in manifest file Pega-Codeset-Version: 07-10-25
Kukudala, Giribabu [6:45 PM]: 
coreAssembly_HEAD_10935" "coreRules_HEAD_10935"
they are not same
Jakkamputi, Ravi Prakash [6:45 PM]: 
yes they are not same
version is same
Kukudala, Giribabu [6:45 PM]: 
why it is coreRules?
it should be coreAssembly in the zip file
Jakkamputi, Ravi Prakash [6:46 PM]: 
but you told me to check in rules jar
Kukudala, Giribabu [6:46 PM]: 
where did u get the build from?
even in the rules jar, it should be like "Pega-Build-Name: coreAssemblyCached_HEAD_2831"
Jakkamputi, Ravi Prakash [6:46 PM]: 
http://pegabuild3/out/coreAssembly/HEAD/coreAssembly_HEAD_10935/
Manifest-Version: 1.0
Ant-Version: Apache Ant(TM) version 1.9.3 compiled on December 23 2013
Created-By: 1.7.0_79-b15 (Oracle Corporation)
Ant-Java-Version: 1.7
Pega-Build-Name: coreRules_HEAD_10935
Pega-Build-Date: 2016-03-01 12.44 EST
Pega-Codeset-Name: Pega-EngineCode
Pega-Codeset-Version: 07-10-25
Kukudala, Giribabu [6:48 PM]: 
Pega-Build-Name: is wrong
it should be coreAssembly_HEAD_10935
modify the file
and retry
Jakkamputi, Ravi Prakash [6:57 PM]: 
yes it is working after renaming
shall we log any bug for it

Dat upgrade process:
--------------------
in E:\prpctesting\upgrade\11068_721_mar29\coreBuildDistributionImage\scripts modify setupdatabase.properties
give both rules schema(latest) and data schema 
extract rules/prpc_rules.jar and ensure that manifest.mf file has coreAssembly build no (not coreRules)
save and create jar again using 7zip
verify select pyName,pySetting from rules721.pr_data_admin_product
pysetting should be '07-10-25' pyname should be coreAssembly_HEAD_11068
now modify E:\prpctesting\upgrade\11068_721_mar29\coreBuildDistributionImage\scripts\lib\prmaster-schema.jar by extracting it
open E:\prpctesting\upgrade\11068_721_mar29\coreBuildDistributionImage\scripts\lib\prmaster-schema\schema\pegarules-master.xml and add new column to tables and alter column length
recreate jar, delete extracted prmaster-schema folder
from script directory run upgrade.bat --dataOnly true
look for the changes in E:\prpctesting\upgrade\11068_721_mar29\coreBuildDistributionImage\schema\generated\mssql\update directory
dependents related changes will be displayed in _dependents.sql
other sql statements in mssql.sql

zerodowntime test cases:
--------------------------
no assertion is added to testExistingCurrentUpdate




def PEGA_COMMN_SCHEMA=citest_branch
def DB_DATA_FILE_DIR=C:\app\engadmin\oradata\orcl

connect sys/welcome1@orcl as SYSDBA;
select * from dba_profiles;
select username,account_status from dba_users;
alter user CITEST_BRANCH_MT_PRPC identified by prpc;
ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;

create tablespace &PEGA_COMMN_SCHEMA._PRPC logging datafile '&DB_DATA_FILE_DIR.\&PEGA_COMMN_SCHEMA._PRPC01.dbf' size 20M autoextend on next 320K maxsize unlimited extent management local segment space management auto;

create user &PEGA_COMMN_SCHEMA._PRPC identified by prpc default tablespace &PEGA_COMMN_SCHEMA._PRPC temporary tablespace temp quota unlimited on &PEGA_COMMN_SCHEMA._PRPC;

grant connect to &PEGA_COMMN_SCHEMA._PRPC;
grant CREATE SESSION,CREATE ANY TABLE,ALTER ANY TABLE,INSERT ANY TABLE,SELECT ANY TABLE,UPDATE ANY TABLE,DELETE ANY TABLE,CREATE ANY INDEX,CREATE ANY PROCEDURE,EXECUTE ANY PROCEDURE,CREATE ANY VIEW,CREATE ANY TYPE,CREATE ANY TRIGGER,
ALTER ANY TRIGGER,GRANT ANY OBJECT PRIVILEGE,DROP ANY TRIGGER,DROP ANY TABLE,DROP ANY PROCEDURE,DROP ANY VIEW,DROP ANY INDEX, ANALYZE ANY, ANALYZE ANY DICTIONARY to &PEGA_COMMN_SCHEMA._PRPC;
grant SELECT_CATALOG_ROLE to &PEGA_COMMN_SCHEMA;



def PEGA_COMMN_SCHEMA=citest_branch_mt
drop user &PEGA_COMMN_SCHEMA._PRPC CASCADE;
drop tablespace &PEGA_COMMN_SCHEMA._PRPC INCLUDING CONTENTS AND DATAFILES CASCADE CONSTRAINTS;

def DB_DATA_FILE_DIR=C:\app\engadmin\oradata\orcl



Postgres:
no: 8 seconds
logging: 43 seconds
06:58:12,217 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - starting insert native
06:58:55,918 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - time taken 10seconds
06:58:55,918 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - ending insert native
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
06:58:57,595 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - starting insert native
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
06:58:58,343 [         WJAKKRW7BLR] ( database.schema.SchemaBuilder) INFO   - Drop Constraints DDL statements - []
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
06:59:01,441 [         WJAKKRW7BLR] ( database.schema.SchemaBuilder) INFO   - Add Constraints DDL statements - []
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
06:59:05,615 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - time taken 10seconds
06:59:05,615 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - time taken 20seconds
06:59:05,615 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - ending insert native

oracle:
logging, nologging: 10 seconds

08:42:06,963 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - -----------------starting insert to LOGGING Table-------------------
08:42:15,890 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - -----------------Completed insert to LOGGING Table---------------
08:42:15,890 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - time taken for inserting to LOGGING Table0seconds
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
08:42:16,421 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - ------------starting insert to No_Logging Table-----------------
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
08:42:20,466 [         WJAKKRW7BLR] ( database.schema.SchemaBuilder) INFO   - Drop Constraints DDL statements - []
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
08:42:21,230 [         WJAKKRW7BLR] ( database.schema.SchemaBuilder) ERROR  - Unable to apply schema changes com.pega.pegarules.pub.database.DatabaseException: Database-General	Problem executing SQL to update database schema	942	42000	ORA-00942: table or view does not exist

DatabaseException caused by prior exception: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist

 | SQL Code: 942 | SQL State: 42000

From: (A4C1C5715BED3ECDE1824F96877A28A3F) 
	SQL:  ALTER TABLE  PR_DATA_SOURCEDB1463108489213 NOLOGGING  


Caused by SQL Problems.
Problem #1, SQLState 42000, Error code 942: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist

Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
08:42:25,722 [         WJAKKRW7BLR] ( database.schema.SchemaBuilder) INFO   - Add Constraints DDL statements - []
Warning: on line 376 
  Evaluation will always fail: there is no context item
Warning: on line 376 
  Evaluation will always fail: there is no context item
08:42:26,479 [         WJAKKRW7BLR] (atabase.schema.TestCreateTable) INFO   - -------------Completed insert to No_logging Table--------------


connect sys/welcome1@orcl as SYSDBA;